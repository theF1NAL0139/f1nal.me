(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(c){if(c.ep)return;c.ep=!0;const m=s(c);fetch(c.href,m)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var c=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:function(){return i[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),h=Symbol.iterator;function y(w){return w===null||typeof w!="object"?null:(w=h&&w[h]||w["@@iterator"],typeof w=="function"?w:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,b={};function C(w,j,U){this.props=w,this.context=j,this.refs=b,this.updater=U||v}C.prototype.isReactComponent={},C.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},C.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function S(){}S.prototype=C.prototype;function D(w,j,U){this.props=w,this.context=j,this.refs=b,this.updater=U||v}var O=D.prototype=new S;O.constructor=D,p(O,C.prototype),O.isPureReactComponent=!0;var I=Array.isArray,R=Object.prototype.hasOwnProperty,F={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function $(w,j,U){var H,V={},E=null,M=null;if(j!=null)for(H in j.ref!==void 0&&(M=j.ref),j.key!==void 0&&(E=""+j.key),j)R.call(j,H)&&!G.hasOwnProperty(H)&&(V[H]=j[H]);var L=arguments.length-2;if(L===1)V.children=U;else if(1<L){for(var B=Array(L),W=0;W<L;W++)B[W]=arguments[W+2];V.children=B}if(w&&w.defaultProps)for(H in L=w.defaultProps,L)V[H]===void 0&&(V[H]=L[H]);return{$$typeof:i,type:w,key:E,ref:M,props:V,_owner:F.current}}function q(w,j){return{$$typeof:i,type:w.type,key:j,ref:w.ref,props:w.props,_owner:w._owner}}function ee(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function J(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(U){return j[U]})}var me=/\/+/g;function he(w,j){return typeof w=="object"&&w!==null&&w.key!=null?J(""+w.key):j.toString(36)}function fe(w,j,U,H,V){var E=typeof w;(E==="undefined"||E==="boolean")&&(w=null);var M=!1;if(w===null)M=!0;else switch(E){case"string":case"number":M=!0;break;case"object":switch(w.$$typeof){case i:case n:M=!0}}if(M)return M=w,V=V(M),w=H===""?"."+he(M,0):H,I(V)?(U="",w!=null&&(U=w.replace(me,"$&/")+"/"),fe(V,j,U,"",function(W){return W})):V!=null&&(ee(V)&&(V=q(V,U+(!V.key||M&&M.key===V.key?"":(""+V.key).replace(me,"$&/")+"/")+w)),j.push(V)),1;if(M=0,H=H===""?".":H+":",I(w))for(var L=0;L<w.length;L++){E=w[L];var B=H+he(E,L);M+=fe(E,j,U,B,V)}else if(B=y(w),typeof B=="function")for(w=B.call(w),L=0;!(E=w.next()).done;)E=E.value,B=H+he(E,L++),M+=fe(E,j,U,B,V);else if(E==="object")throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return M}function ve(w,j,U){if(w==null)return w;var H=[],V=0;return fe(w,H,"","",function(E){return j.call(U,E,V++)}),H}function ce(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(U){(w._status===0||w._status===-1)&&(w._status=1,w._result=U)},function(U){(w._status===0||w._status===-1)&&(w._status=2,w._result=U)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var z={current:null},k={transition:null},P={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:k,ReactCurrentOwner:F};function T(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ve,forEach:function(w,j,U){ve(w,function(){j.apply(this,arguments)},U)},count:function(w){var j=0;return ve(w,function(){j++}),j},toArray:function(w){return ve(w,function(j){return j})||[]},only:function(w){if(!ee(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},react_production_min.Component=C,react_production_min.Fragment=s,react_production_min.Profiler=c,react_production_min.PureComponent=D,react_production_min.StrictMode=o,react_production_min.Suspense=x,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,react_production_min.act=T,react_production_min.cloneElement=function(w,j,U){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var H=p({},w.props),V=w.key,E=w.ref,M=w._owner;if(j!=null){if(j.ref!==void 0&&(E=j.ref,M=F.current),j.key!==void 0&&(V=""+j.key),w.type&&w.type.defaultProps)var L=w.type.defaultProps;for(B in j)R.call(j,B)&&!G.hasOwnProperty(B)&&(H[B]=j[B]===void 0&&L!==void 0?L[B]:j[B])}var B=arguments.length-2;if(B===1)H.children=U;else if(1<B){L=Array(B);for(var W=0;W<B;W++)L[W]=arguments[W+2];H.children=L}return{$$typeof:i,type:w.type,key:V,ref:E,props:H,_owner:M}},react_production_min.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:m,_context:w},w.Consumer=w},react_production_min.createElement=$,react_production_min.createFactory=function(w){var j=$.bind(null,w);return j.type=w,j},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(w){return{$$typeof:_,render:w}},react_production_min.isValidElement=ee,react_production_min.lazy=function(w){return{$$typeof:l,_payload:{_status:-1,_result:w},_init:ce}},react_production_min.memo=function(w,j){return{$$typeof:d,type:w,compare:j===void 0?null:j}},react_production_min.startTransition=function(w){var j=k.transition;k.transition={};try{w()}finally{k.transition=j}},react_production_min.unstable_act=T,react_production_min.useCallback=function(w,j){return z.current.useCallback(w,j)},react_production_min.useContext=function(w){return z.current.useContext(w)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(w){return z.current.useDeferredValue(w)},react_production_min.useEffect=function(w,j){return z.current.useEffect(w,j)},react_production_min.useId=function(){return z.current.useId()},react_production_min.useImperativeHandle=function(w,j,U){return z.current.useImperativeHandle(w,j,U)},react_production_min.useInsertionEffect=function(w,j){return z.current.useInsertionEffect(w,j)},react_production_min.useLayoutEffect=function(w,j){return z.current.useLayoutEffect(w,j)},react_production_min.useMemo=function(w,j){return z.current.useMemo(w,j)},react_production_min.useReducer=function(w,j,U){return z.current.useReducer(w,j,U)},react_production_min.useRef=function(w){return z.current.useRef(w)},react_production_min.useState=function(w){return z.current.useState(w)},react_production_min.useSyncExternalStore=function(w,j,U){return z.current.useSyncExternalStore(w,j,U)},react_production_min.useTransition=function(){return z.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var i=requireReact(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(_,x,d){var l,h={},y=null,v=null;d!==void 0&&(y=""+d),x.key!==void 0&&(y=""+x.key),x.ref!==void 0&&(v=x.ref);for(l in x)o.call(x,l)&&!m.hasOwnProperty(l)&&(h[l]=x[l]);if(_&&_.defaultProps)for(l in x=_.defaultProps,x)h[l]===void 0&&(h[l]=x[l]);return{$$typeof:n,type:_,key:y,ref:v,props:h,_owner:c.current}}return reactJsxRuntime_production_min.Fragment=s,reactJsxRuntime_production_min.jsx=f,reactJsxRuntime_production_min.jsxs=f,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(i){function n(k,P){var T=k.length;k.push(P);e:for(;0<T;){var w=T-1>>>1,j=k[w];if(0<c(j,P))k[w]=P,k[T]=j,T=w;else break e}}function s(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var P=k[0],T=k.pop();if(T!==P){k[0]=T;e:for(var w=0,j=k.length,U=j>>>1;w<U;){var H=2*(w+1)-1,V=k[H],E=H+1,M=k[E];if(0>c(V,T))E<j&&0>c(M,V)?(k[w]=M,k[E]=T,w=E):(k[w]=V,k[H]=T,w=H);else if(E<j&&0>c(M,T))k[w]=M,k[E]=T,w=E;else break e}}return P}function c(k,P){var T=k.sortIndex-P.sortIndex;return T!==0?T:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var f=Date,_=f.now();i.unstable_now=function(){return f.now()-_}}var x=[],d=[],l=1,h=null,y=3,v=!1,p=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(k){for(var P=s(d);P!==null;){if(P.callback===null)o(d);else if(P.startTime<=k)o(d),P.sortIndex=P.expirationTime,n(x,P);else break;P=s(d)}}function I(k){if(b=!1,O(k),!p)if(s(x)!==null)p=!0,ce(R);else{var P=s(d);P!==null&&z(I,P.startTime-k)}}function R(k,P){p=!1,b&&(b=!1,S($),$=-1),v=!0;var T=y;try{for(O(P),h=s(x);h!==null&&(!(h.expirationTime>P)||k&&!J());){var w=h.callback;if(typeof w=="function"){h.callback=null,y=h.priorityLevel;var j=w(h.expirationTime<=P);P=i.unstable_now(),typeof j=="function"?h.callback=j:h===s(x)&&o(x),O(P)}else o(x);h=s(x)}if(h!==null)var U=!0;else{var H=s(d);H!==null&&z(I,H.startTime-P),U=!1}return U}finally{h=null,y=T,v=!1}}var F=!1,G=null,$=-1,q=5,ee=-1;function J(){return!(i.unstable_now()-ee<q)}function me(){if(G!==null){var k=i.unstable_now();ee=k;var P=!0;try{P=G(!0,k)}finally{P?he():(F=!1,G=null)}}else F=!1}var he;if(typeof D=="function")he=function(){D(me)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ve=fe.port2;fe.port1.onmessage=me,he=function(){ve.postMessage(null)}}else he=function(){C(me,0)};function ce(k){G=k,F||(F=!0,he())}function z(k,P){$=C(function(){k(i.unstable_now())},P)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){p||v||(p=!0,ce(R))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return s(x)},i.unstable_next=function(k){switch(y){case 1:case 2:case 3:var P=3;break;default:P=y}var T=y;y=P;try{return k()}finally{y=T}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=y;y=k;try{return P()}finally{y=T}},i.unstable_scheduleCallback=function(k,P,T){var w=i.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?w+T:w):T=w,k){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=T+j,k={id:l++,callback:P,priorityLevel:k,startTime:T,expirationTime:j,sortIndex:-1},T>w?(k.sortIndex=T,n(d,k),s(x)===null&&k===s(d)&&(b?(S($),$=-1):b=!0,z(I,T-w))):(k.sortIndex=j,n(x,k),p||v||(p=!0,ce(R))),k},i.unstable_shouldYield=J,i.unstable_wrapCallback=function(k){var P=y;return function(){var T=y;y=P;try{return k.apply(this,arguments)}finally{y=T}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var i=requireReact(),n=requireScheduler();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},h={};function y(e){return x.call(h,e)?!0:x.call(l,e)?!1:d.test(e)?h[e]=!0:(l[e]=!0,!1)}function v(e,t,a,u){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function p(e,t,a,u){if(t===null||typeof t>"u"||v(e,t,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,a,u,g,A,N){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=g,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=A,this.removeEmptyString=N}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S,D);C[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S,D);C[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S,D);C[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,t,a,u){var g=C.hasOwnProperty(t)?C[t]:null;(g!==null?g.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p(t,a,g,u)&&(a=null),u||g===null?y(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):g.mustUseProperty?e[g.propertyName]=a===null?g.type===3?!1:"":a:(t=g.attributeName,u=g.attributeNamespace,a===null?e.removeAttribute(t):(g=g.type,a=g===3||g===4&&a===!0?"":""+a,u?e.setAttributeNS(u,t,a):e.setAttribute(t,a))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),F=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),J=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),k=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var T=Object.assign,w;function j(e){if(w===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var U=!1;function H(e,t){if(!e||U)return"";U=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(de){var u=de}Reflect.construct(e,[],t)}else{try{t.call()}catch(de){u=de}e.call(t.prototype)}else{try{throw Error()}catch(de){u=de}e()}}catch(de){if(de&&u&&typeof de.stack=="string"){for(var g=de.stack.split(`
`),A=u.stack.split(`
`),N=g.length-1,Y=A.length-1;1<=N&&0<=Y&&g[N]!==A[Y];)Y--;for(;1<=N&&0<=Y;N--,Y--)if(g[N]!==A[Y]){if(N!==1||Y!==1)do if(N--,Y--,0>Y||g[N]!==A[Y]){var Z=`
`+g[N].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=N&&0<=Y);break}}}finally{U=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1),e;case 11:return e=H(e.type.render,!1),e;case 1:return e=H(e.type,!0),e;default:return""}}function E(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case F:return"Portal";case q:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case ee:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:E(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return E(e(t))}catch{}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function L(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W(e){var t=B(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,A=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(N){u=""+N,A.call(this,N)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function K(e){e._valueTracker||(e._valueTracker=W(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),u="";return e&&(u=B(e)?e.checked?"true":"false":e.value),e=u,e!==a?(t.setValue(e),!0):!1}function oe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xe(e,t){var a=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function se(e,t){var a=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;a=L(t.value!=null?t.value:a),e._wrapperState={initialChecked:u,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function le(e,t){t=t.checked,t!=null&&O(e,"checked",t,!1)}function ue(e,t){le(e,t);var a=L(t.value),u=t.type;if(a!=null)u==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ge(e,t.type,a):t.hasOwnProperty("defaultValue")&&ge(e,t.type,L(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pe(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function ge(e,t,a){(t!=="number"||oe(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var be=Array.isArray;function Pe(e,t,a,u){if(e=e.options,t){t={};for(var g=0;g<a.length;g++)t["$"+a[g]]=!0;for(a=0;a<e.length;a++)g=t.hasOwnProperty("$"+e[a].value),e[a].selected!==g&&(e[a].selected=g),g&&u&&(e[a].defaultSelected=!0)}else{for(a=""+L(a),t=null,g=0;g<e.length;g++){if(e[g].value===a){e[g].selected=!0,u&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function De(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(s(92));if(be(a)){if(1<a.length)throw Error(s(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:L(a)}}function Ne(e,t){var a=L(t.value),u=L(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),u!=null&&(e.defaultValue=""+u)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?at(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tt,nt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,u,g){MSApp.execUnsafeLocalFunction(function(){return e(t,a,u,g)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$t=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(e){$t.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vt[t]=Vt[e]})});function pn(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Vt.hasOwnProperty(e)&&Vt[e]?(""+t).trim():t+"px"}function ye(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var u=a.indexOf("--")===0,g=pn(a,t[a],u);a==="float"&&(a="cssFloat"),u?e.setProperty(a,g):e[a]=g}}var ie=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ne(e,t){if(t){if(ie[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function we(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function Je(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ze=null,Pt=null,Ct=null;function Kt(e){if(e=jr(e)){if(typeof Ze!="function")throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Ze(e.stateNode,e.type,t))}}function ht(e){Pt?Ct?Ct.push(e):Ct=[e]:Pt=e}function rn(){if(Pt){var e=Pt,t=Ct;if(Ct=Pt=null,Kt(e),t)for(e=0;e<t.length;e++)Kt(t[e])}}function Bt(e,t){return e(t)}function In(){}var Ke=!1;function On(e,t,a){if(Ke)return e(t,a);Ke=!0;try{return Bt(e,t,a)}finally{Ke=!1,(Pt!==null||Ct!==null)&&(In(),rn())}}function Yt(e,t){var a=e.stateNode;if(a===null)return null;var u=xi(a);if(u===null)return null;a=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var Nn=!1;if(_)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Nn=!1}function jn(e,t,a,u,g,A,N,Y,Z){var de=Array.prototype.slice.call(arguments,3);try{t.apply(a,de)}catch(_e){this.onError(_e)}}var it=!1,Qt=null,mn=!1,is=null,yc={onError:function(e){it=!0,Qt=e}};function vc(e,t,a,u,g,A,N,Y,Z){it=!1,Qt=null,jn.apply(yc,arguments)}function xc(e,t,a,u,g,A,N,Y,Z){if(vc.apply(this,arguments),it){if(it){var de=Qt;it=!1,Qt=null}else throw Error(s(198));mn||(mn=!0,is=de)}}function Vn(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Bo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uo(e){if(Vn(e)!==e)throw Error(s(188))}function Ec(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var a=e,u=t;;){var g=a.return;if(g===null)break;var A=g.alternate;if(A===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===A.child){for(A=g.child;A;){if(A===a)return Uo(g),e;if(A===u)return Uo(g),t;A=A.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=A;else{for(var N=!1,Y=g.child;Y;){if(Y===a){N=!0,a=g,u=A;break}if(Y===u){N=!0,u=g,a=A;break}Y=Y.sibling}if(!N){for(Y=A.child;Y;){if(Y===a){N=!0,a=A,u=g;break}if(Y===u){N=!0,u=A,a=g;break}Y=Y.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:t}function zo(e){return e=Ec(e),e!==null?Wo(e):null}function Wo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wo(e);if(t!==null)return t;e=e.sibling}return null}var Ho=n.unstable_scheduleCallback,Go=n.unstable_cancelCallback,_c=n.unstable_shouldYield,Sc=n.unstable_requestPaint,et=n.unstable_now,Ac=n.unstable_getCurrentPriorityLevel,ss=n.unstable_ImmediatePriority,qo=n.unstable_UserBlockingPriority,Zr=n.unstable_NormalPriority,bc=n.unstable_LowPriority,Xo=n.unstable_IdlePriority,ei=null,Jt=null;function wc(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Cc,Tc=Math.log,Pc=Math.LN2;function Cc(e){return e>>>=0,e===0?32:31-(Tc(e)/Pc|0)|0}var ti=64,ni=4194304;function Er(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,t){var a=e.pendingLanes;if(a===0)return 0;var u=0,g=e.suspendedLanes,A=e.pingedLanes,N=a&268435455;if(N!==0){var Y=N&~g;Y!==0?u=Er(Y):(A&=N,A!==0&&(u=Er(A)))}else N=a&~g,N!==0?u=Er(N):A!==0&&(u=Er(A));if(u===0)return 0;if(t!==0&&t!==u&&(t&g)===0&&(g=u&-u,A=t&-t,g>=A||g===16&&(A&4194240)!==0))return t;if((u&4)!==0&&(u|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)a=31-Ut(t),g=1<<a,u|=e[a],t&=~g;return u}function Rc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kc(e,t){for(var a=e.suspendedLanes,u=e.pingedLanes,g=e.expirationTimes,A=e.pendingLanes;0<A;){var N=31-Ut(A),Y=1<<N,Z=g[N];Z===-1?((Y&a)===0||(Y&u)!==0)&&(g[N]=Rc(Y,t)):Z<=t&&(e.expiredLanes|=Y),A&=~Y}}function os(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $o(){var e=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),e}function as(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _r(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=a}function Mc(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<a;){var g=31-Ut(a),A=1<<g;t[g]=0,u[g]=-1,e[g]=-1,a&=~A}}function ls(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var u=31-Ut(a),g=1<<u;g&t|e[u]&t&&(e[u]|=t),a&=~g}}var ze=0;function Ko(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Yo,cs,Qo,Jo,Zo,us=!1,ii=[],gn=null,yn=null,vn=null,Sr=new Map,Ar=new Map,xn=[],Dc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ea(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function br(e,t,a,u,g,A){return e===null||e.nativeEvent!==A?(e={blockedOn:t,domEventName:a,eventSystemFlags:u,nativeEvent:A,targetContainers:[g]},t!==null&&(t=jr(t),t!==null&&cs(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function Fc(e,t,a,u,g){switch(t){case"focusin":return gn=br(gn,e,t,a,u,g),!0;case"dragenter":return yn=br(yn,e,t,a,u,g),!0;case"mouseover":return vn=br(vn,e,t,a,u,g),!0;case"pointerover":var A=g.pointerId;return Sr.set(A,br(Sr.get(A)||null,e,t,a,u,g)),!0;case"gotpointercapture":return A=g.pointerId,Ar.set(A,br(Ar.get(A)||null,e,t,a,u,g)),!0}return!1}function ta(e){var t=Bn(e.target);if(t!==null){var a=Vn(t);if(a!==null){if(t=a.tag,t===13){if(t=Bo(a),t!==null){e.blockedOn=t,Zo(e.priority,function(){Qo(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);Ve=u,a.target.dispatchEvent(u),Ve=null}else return t=jr(a),t!==null&&cs(t),e.blockedOn=a,!1;t.shift()}return!0}function na(e,t,a){si(e)&&a.delete(t)}function Lc(){us=!1,gn!==null&&si(gn)&&(gn=null),yn!==null&&si(yn)&&(yn=null),vn!==null&&si(vn)&&(vn=null),Sr.forEach(na),Ar.forEach(na)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,us||(us=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lc)))}function Tr(e){function t(g){return wr(g,e)}if(0<ii.length){wr(ii[0],e);for(var a=1;a<ii.length;a++){var u=ii[a];u.blockedOn===e&&(u.blockedOn=null)}}for(gn!==null&&wr(gn,e),yn!==null&&wr(yn,e),vn!==null&&wr(vn,e),Sr.forEach(t),Ar.forEach(t),a=0;a<xn.length;a++)u=xn[a],u.blockedOn===e&&(u.blockedOn=null);for(;0<xn.length&&(a=xn[0],a.blockedOn===null);)ta(a),a.blockedOn===null&&xn.shift()}var Jn=I.ReactCurrentBatchConfig,oi=!0;function Ic(e,t,a,u){var g=ze,A=Jn.transition;Jn.transition=null;try{ze=1,ds(e,t,a,u)}finally{ze=g,Jn.transition=A}}function Oc(e,t,a,u){var g=ze,A=Jn.transition;Jn.transition=null;try{ze=4,ds(e,t,a,u)}finally{ze=g,Jn.transition=A}}function ds(e,t,a,u){if(oi){var g=hs(e,t,a,u);if(g===null)Rs(e,t,u,ai,a),ea(e,u);else if(Fc(g,e,t,a,u))u.stopPropagation();else if(ea(e,u),t&4&&-1<Dc.indexOf(e)){for(;g!==null;){var A=jr(g);if(A!==null&&Yo(A),A=hs(e,t,a,u),A===null&&Rs(e,t,u,ai,a),A===g)break;g=A}g!==null&&u.stopPropagation()}else Rs(e,t,u,null,a)}}var ai=null;function hs(e,t,a,u){if(ai=null,e=Je(u),e=Bn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(a=t.tag,a===13){if(e=Bo(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function ra(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case ss:return 1;case qo:return 4;case Zr:case bc:return 16;case Xo:return 536870912;default:return 16}default:return 16}}var En=null,fs=null,li=null;function ia(){if(li)return li;var e,t=fs,a=t.length,u,g="value"in En?En.value:En.textContent,A=g.length;for(e=0;e<a&&t[e]===g[e];e++);var N=a-e;for(u=1;u<=N&&t[a-u]===g[A-u];u++);return li=g.slice(e,1<u?1-u:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function sa(){return!1}function Rt(e){function t(a,u,g,A,N){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=A,this.target=N,this.currentTarget=null;for(var Y in e)e.hasOwnProperty(Y)&&(a=e[Y],this[Y]=a?a(A):A[Y]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ui:sa,this.isPropagationStopped=sa,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=Rt(Zn),Pr=T({},Zn,{view:0,detail:0}),Nc=Rt(Pr),ms,gs,Cr,di=T({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(ms=e.screenX-Cr.screenX,gs=e.screenY-Cr.screenY):gs=ms=0,Cr=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:gs}}),oa=Rt(di),jc=T({},di,{dataTransfer:0}),Vc=Rt(jc),Bc=T({},Pr,{relatedTarget:0}),ys=Rt(Bc),Uc=T({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=Rt(Uc),Wc=T({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hc=Rt(Wc),Gc=T({},Zn,{data:0}),aa=Rt(Gc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$c[e])?!!t[e]:!1}function vs(){return Kc}var Yc=T({},Pr,{key:function(e){if(e.key){var t=qc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qc=Rt(Yc),Jc=T({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=Rt(Jc),Zc=T({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),eu=Rt(Zc),tu=T({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Rt(tu),ru=T({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=Rt(ru),su=[9,13,27,32],xs=_&&"CompositionEvent"in window,Rr=null;_&&"documentMode"in document&&(Rr=document.documentMode);var ou=_&&"TextEvent"in window&&!Rr,ca=_&&(!xs||Rr&&8<Rr&&11>=Rr),ua=" ",da=!1;function ha(e,t){switch(e){case"keyup":return su.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function au(e,t){switch(e){case"compositionend":return fa(t);case"keypress":return t.which!==32?null:(da=!0,ua);case"textInput":return e=t.data,e===ua&&da?null:e;default:return null}}function lu(e,t){if(er)return e==="compositionend"||!xs&&ha(e,t)?(e=ia(),li=fs=En=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ca&&t.locale!=="ko"?null:t.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cu[e.type]:t==="textarea"}function ma(e,t,a,u){ht(u),t=gi(t,"onChange"),0<t.length&&(a=new ps("onChange","change",null,a,u),e.push({event:a,listeners:t}))}var kr=null,Mr=null;function uu(e){Fa(e,0)}function hi(e){var t=sr(e);if(Q(t))return e}function du(e,t){if(e==="change")return t}var ga=!1;if(_){var Es;if(_){var _s="oninput"in document;if(!_s){var ya=document.createElement("div");ya.setAttribute("oninput","return;"),_s=typeof ya.oninput=="function"}Es=_s}else Es=!1;ga=Es&&(!document.documentMode||9<document.documentMode)}function va(){kr&&(kr.detachEvent("onpropertychange",xa),Mr=kr=null)}function xa(e){if(e.propertyName==="value"&&hi(Mr)){var t=[];ma(t,Mr,e,Je(e)),On(uu,t)}}function hu(e,t,a){e==="focusin"?(va(),kr=t,Mr=a,kr.attachEvent("onpropertychange",xa)):e==="focusout"&&va()}function fu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Mr)}function pu(e,t){if(e==="click")return hi(t)}function mu(e,t){if(e==="input"||e==="change")return hi(t)}function gu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:gu;function Dr(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),u=Object.keys(t);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!x.call(t,g)||!zt(e[g],t[g]))return!1}return!0}function Ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _a(e,t){var a=Ea(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=t&&u>=t)return{node:a,offset:t-e};e=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ea(a)}}function Sa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Aa(){for(var e=window,t=oe();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=oe(e.document)}return t}function Ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yu(e){var t=Aa(),a=e.focusedElem,u=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Sa(a.ownerDocument.documentElement,a)){if(u!==null&&Ss(a)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=a.textContent.length,A=Math.min(u.start,g);u=u.end===void 0?A:Math.min(u.end,g),!e.extend&&A>u&&(g=u,u=A,A=g),g=_a(a,A);var N=_a(a,u);g&&N&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==N.node||e.focusOffset!==N.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),A>u?(e.addRange(t),e.extend(N.node,N.offset)):(t.setEnd(N.node,N.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vu=_&&"documentMode"in document&&11>=document.documentMode,tr=null,As=null,Fr=null,bs=!1;function ba(e,t,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bs||tr==null||tr!==oe(u)||(u=tr,"selectionStart"in u&&Ss(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fr&&Dr(Fr,u)||(Fr=u,u=gi(As,"onSelect"),0<u.length&&(t=new ps("onSelect","select",null,t,a),e.push({event:t,listeners:u}),t.target=tr)))}function fi(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var nr={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},ws={},wa={};_&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function pi(e){if(ws[e])return ws[e];if(!nr[e])return e;var t=nr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in wa)return ws[e]=t[a];return e}var Ta=pi("animationend"),Pa=pi("animationiteration"),Ca=pi("animationstart"),Ra=pi("transitionend"),ka=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){ka.set(e,t),m(t,[e])}for(var Ts=0;Ts<Ma.length;Ts++){var Ps=Ma[Ts],xu=Ps.toLowerCase(),Eu=Ps[0].toUpperCase()+Ps.slice(1);_n(xu,"on"+Eu)}_n(Ta,"onAnimationEnd"),_n(Pa,"onAnimationIteration"),_n(Ca,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Ra,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_u=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Da(e,t,a){var u=e.type||"unknown-event";e.currentTarget=a,xc(u,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],g=u.event;u=u.listeners;e:{var A=void 0;if(t)for(var N=u.length-1;0<=N;N--){var Y=u[N],Z=Y.instance,de=Y.currentTarget;if(Y=Y.listener,Z!==A&&g.isPropagationStopped())break e;Da(g,Y,de),A=Z}else for(N=0;N<u.length;N++){if(Y=u[N],Z=Y.instance,de=Y.currentTarget,Y=Y.listener,Z!==A&&g.isPropagationStopped())break e;Da(g,Y,de),A=Z}}}if(mn)throw e=is,mn=!1,is=null,e}function He(e,t){var a=t[Is];a===void 0&&(a=t[Is]=new Set);var u=e+"__bubble";a.has(u)||(La(t,e,2,!1),a.add(u))}function Cs(e,t,a){var u=0;t&&(u|=4),La(a,e,u,t)}var mi="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[mi]){e[mi]=!0,o.forEach(function(a){a!=="selectionchange"&&(_u.has(a)||Cs(a,!1,e),Cs(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mi]||(t[mi]=!0,Cs("selectionchange",!1,t))}}function La(e,t,a,u){switch(ra(t)){case 1:var g=Ic;break;case 4:g=Oc;break;default:g=ds}a=g.bind(null,t,a,e),g=void 0,!Nn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),u?g!==void 0?e.addEventListener(t,a,{capture:!0,passive:g}):e.addEventListener(t,a,!0):g!==void 0?e.addEventListener(t,a,{passive:g}):e.addEventListener(t,a,!1)}function Rs(e,t,a,u,g){var A=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var Y=u.stateNode.containerInfo;if(Y===g||Y.nodeType===8&&Y.parentNode===g)break;if(N===4)for(N=u.return;N!==null;){var Z=N.tag;if((Z===3||Z===4)&&(Z=N.stateNode.containerInfo,Z===g||Z.nodeType===8&&Z.parentNode===g))return;N=N.return}for(;Y!==null;){if(N=Bn(Y),N===null)return;if(Z=N.tag,Z===5||Z===6){u=A=N;continue e}Y=Y.parentNode}}u=u.return}On(function(){var de=A,_e=Je(a),Se=[];e:{var Ee=ka.get(e);if(Ee!==void 0){var Te=ps,Re=e;switch(e){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":Te=Qc;break;case"focusin":Re="focus",Te=ys;break;case"focusout":Re="blur",Te=ys;break;case"beforeblur":case"afterblur":Te=ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=eu;break;case Ta:case Pa:case Ca:Te=zc;break;case Ra:Te=nu;break;case"scroll":Te=Nc;break;case"wheel":Te=iu;break;case"copy":case"cut":case"paste":Te=Hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=la}var ke=(t&4)!==0,tt=!ke&&e==="scroll",re=ke?Ee!==null?Ee+"Capture":null:Ee;ke=[];for(var te=de,ae;te!==null;){ae=te;var Ae=ae.stateNode;if(ae.tag===5&&Ae!==null&&(ae=Ae,re!==null&&(Ae=Yt(te,re),Ae!=null&&ke.push(Or(te,Ae,ae)))),tt)break;te=te.return}0<ke.length&&(Ee=new Te(Ee,Re,null,a,_e),Se.push({event:Ee,listeners:ke}))}}if((t&7)===0){e:{if(Ee=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",Ee&&a!==Ve&&(Re=a.relatedTarget||a.fromElement)&&(Bn(Re)||Re[on]))break e;if((Te||Ee)&&(Ee=_e.window===_e?_e:(Ee=_e.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Re=a.relatedTarget||a.toElement,Te=de,Re=Re?Bn(Re):null,Re!==null&&(tt=Vn(Re),Re!==tt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=de),Te!==Re)){if(ke=oa,Ae="onMouseLeave",re="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(ke=la,Ae="onPointerLeave",re="onPointerEnter",te="pointer"),tt=Te==null?Ee:sr(Te),ae=Re==null?Ee:sr(Re),Ee=new ke(Ae,te+"leave",Te,a,_e),Ee.target=tt,Ee.relatedTarget=ae,Ae=null,Bn(_e)===de&&(ke=new ke(re,te+"enter",Re,a,_e),ke.target=ae,ke.relatedTarget=tt,Ae=ke),tt=Ae,Te&&Re)t:{for(ke=Te,re=Re,te=0,ae=ke;ae;ae=rr(ae))te++;for(ae=0,Ae=re;Ae;Ae=rr(Ae))ae++;for(;0<te-ae;)ke=rr(ke),te--;for(;0<ae-te;)re=rr(re),ae--;for(;te--;){if(ke===re||re!==null&&ke===re.alternate)break t;ke=rr(ke),re=rr(re)}ke=null}else ke=null;Te!==null&&Ia(Se,Ee,Te,ke,!1),Re!==null&&tt!==null&&Ia(Se,tt,Re,ke,!0)}}e:{if(Ee=de?sr(de):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var Me=du;else if(pa(Ee))if(ga)Me=mu;else{Me=fu;var Fe=hu}else(Te=Ee.nodeName)&&Te.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Me=pu);if(Me&&(Me=Me(e,de))){ma(Se,Me,a,_e);break e}Fe&&Fe(e,Ee,de),e==="focusout"&&(Fe=Ee._wrapperState)&&Fe.controlled&&Ee.type==="number"&&ge(Ee,"number",Ee.value)}switch(Fe=de?sr(de):window,e){case"focusin":(pa(Fe)||Fe.contentEditable==="true")&&(tr=Fe,As=de,Fr=null);break;case"focusout":Fr=As=tr=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,ba(Se,a,_e);break;case"selectionchange":if(vu)break;case"keydown":case"keyup":ba(Se,a,_e)}var Le;if(xs)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else er?ha(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(ca&&a.locale!=="ko"&&(er||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&er&&(Le=ia()):(En=_e,fs="value"in En?En.value:En.textContent,er=!0)),Fe=gi(de,Oe),0<Fe.length&&(Oe=new aa(Oe,e,null,a,_e),Se.push({event:Oe,listeners:Fe}),Le?Oe.data=Le:(Le=fa(a),Le!==null&&(Oe.data=Le)))),(Le=ou?au(e,a):lu(e,a))&&(de=gi(de,"onBeforeInput"),0<de.length&&(_e=new aa("onBeforeInput","beforeinput",null,a,_e),Se.push({event:_e,listeners:de}),_e.data=Le))}Fa(Se,t)})}function Or(e,t,a){return{instance:e,listener:t,currentTarget:a}}function gi(e,t){for(var a=t+"Capture",u=[];e!==null;){var g=e,A=g.stateNode;g.tag===5&&A!==null&&(g=A,A=Yt(e,a),A!=null&&u.unshift(Or(e,A,g)),A=Yt(e,t),A!=null&&u.push(Or(e,A,g))),e=e.return}return u}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ia(e,t,a,u,g){for(var A=t._reactName,N=[];a!==null&&a!==u;){var Y=a,Z=Y.alternate,de=Y.stateNode;if(Z!==null&&Z===u)break;Y.tag===5&&de!==null&&(Y=de,g?(Z=Yt(a,A),Z!=null&&N.unshift(Or(a,Z,Y))):g||(Z=Yt(a,A),Z!=null&&N.push(Or(a,Z,Y)))),a=a.return}N.length!==0&&e.push({event:t,listeners:N})}var Su=/\r\n?/g,Au=/\u0000|\uFFFD/g;function Oa(e){return(typeof e=="string"?e:""+e).replace(Su,`
`).replace(Au,"")}function yi(e,t,a){if(t=Oa(t),Oa(e)!==t&&a)throw Error(s(425))}function vi(){}var ks=null,Ms=null;function Ds(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fs=typeof setTimeout=="function"?setTimeout:void 0,bu=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,wu=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(e){return Na.resolve(null).then(e).catch(Tu)}:Fs;function Tu(e){setTimeout(function(){throw e})}function Ls(e,t){var a=t,u=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(u===0){e.removeChild(g),Tr(t);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=g}while(a);Tr(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ja(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ir,Nr="__reactProps$"+ir,on="__reactContainer$"+ir,Is="__reactEvents$"+ir,Pu="__reactListeners$"+ir,Cu="__reactHandles$"+ir;function Bn(e){var t=e[Zt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[on]||a[Zt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ja(e);e!==null;){if(a=e[Zt])return a;e=ja(e)}return t}e=a,a=e.parentNode}return null}function jr(e){return e=e[Zt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function xi(e){return e[Nr]||null}var Os=[],or=-1;function An(e){return{current:e}}function Ge(e){0>or||(e.current=Os[or],Os[or]=null,or--)}function We(e,t){or++,Os[or]=e.current,e.current=t}var bn={},mt=An(bn),_t=An(!1),Un=bn;function ar(e,t){var a=e.type.contextTypes;if(!a)return bn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var g={},A;for(A in a)g[A]=t[A];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function St(e){return e=e.childContextTypes,e!=null}function Ei(){Ge(_t),Ge(mt)}function Va(e,t,a){if(mt.current!==bn)throw Error(s(168));We(mt,t),We(_t,a)}function Ba(e,t,a){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var g in u)if(!(g in t))throw Error(s(108,M(e)||"Unknown",g));return T({},a,u)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Un=mt.current,We(mt,e),We(_t,_t.current),!0}function Ua(e,t,a){var u=e.stateNode;if(!u)throw Error(s(169));a?(e=Ba(e,t,Un),u.__reactInternalMemoizedMergedChildContext=e,Ge(_t),Ge(mt),We(mt,e)):Ge(_t),We(_t,a)}var an=null,Si=!1,Ns=!1;function za(e){an===null?an=[e]:an.push(e)}function Ru(e){Si=!0,za(e)}function wn(){if(!Ns&&an!==null){Ns=!0;var e=0,t=ze;try{var a=an;for(ze=1;e<a.length;e++){var u=a[e];do u=u(!0);while(u!==null)}an=null,Si=!1}catch(g){throw an!==null&&(an=an.slice(e+1)),Ho(ss,wn),g}finally{ze=t,Ns=!1}}return null}var lr=[],cr=0,Ai=null,bi=0,Ft=[],Lt=0,zn=null,ln=1,cn="";function Wn(e,t){lr[cr++]=bi,lr[cr++]=Ai,Ai=e,bi=t}function Wa(e,t,a){Ft[Lt++]=ln,Ft[Lt++]=cn,Ft[Lt++]=zn,zn=e;var u=ln;e=cn;var g=32-Ut(u)-1;u&=~(1<<g),a+=1;var A=32-Ut(t)+g;if(30<A){var N=g-g%5;A=(u&(1<<N)-1).toString(32),u>>=N,g-=N,ln=1<<32-Ut(t)+g|a<<g|u,cn=A+e}else ln=1<<A|a<<g|u,cn=e}function js(e){e.return!==null&&(Wn(e,1),Wa(e,1,0))}function Vs(e){for(;e===Ai;)Ai=lr[--cr],lr[cr]=null,bi=lr[--cr],lr[cr]=null;for(;e===zn;)zn=Ft[--Lt],Ft[Lt]=null,cn=Ft[--Lt],Ft[Lt]=null,ln=Ft[--Lt],Ft[Lt]=null}var kt=null,Mt=null,qe=!1,Wt=null;function Ha(e,t){var a=jt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Ga(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Mt=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=zn!==null?{id:ln,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=jt(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,kt=e,Mt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(qe){var t=Mt;if(t){var a=t;if(!Ga(e,t)){if(Bs(e))throw Error(s(418));t=Sn(a.nextSibling);var u=kt;t&&Ga(e,t)?Ha(u,a):(e.flags=e.flags&-4097|2,qe=!1,kt=e)}}else{if(Bs(e))throw Error(s(418));e.flags=e.flags&-4097|2,qe=!1,kt=e}}}function qa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function wi(e){if(e!==kt)return!1;if(!qe)return qa(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ds(e.type,e.memoizedProps)),t&&(t=Mt)){if(Bs(e))throw Xa(),Error(s(418));for(;t;)Ha(e,t),t=Sn(t.nextSibling)}if(qa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Mt=Sn(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=kt?Sn(e.stateNode.nextSibling):null;return!0}function Xa(){for(var e=Mt;e;)e=Sn(e.nextSibling)}function ur(){Mt=kt=null,qe=!1}function zs(e){Wt===null?Wt=[e]:Wt.push(e)}var ku=I.ReactCurrentBatchConfig;function Vr(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var u=a.stateNode}if(!u)throw Error(s(147,e));var g=u,A=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===A?t.ref:(t=function(N){var Y=g.refs;N===null?delete Y[A]:Y[A]=N},t._stringRef=A,t)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){var t=e._init;return t(e._payload)}function Ka(e){function t(re,te){if(e){var ae=re.deletions;ae===null?(re.deletions=[te],re.flags|=16):ae.push(te)}}function a(re,te){if(!e)return null;for(;te!==null;)t(re,te),te=te.sibling;return null}function u(re,te){for(re=new Map;te!==null;)te.key!==null?re.set(te.key,te):re.set(te.index,te),te=te.sibling;return re}function g(re,te){return re=Fn(re,te),re.index=0,re.sibling=null,re}function A(re,te,ae){return re.index=ae,e?(ae=re.alternate,ae!==null?(ae=ae.index,ae<te?(re.flags|=2,te):ae):(re.flags|=2,te)):(re.flags|=1048576,te)}function N(re){return e&&re.alternate===null&&(re.flags|=2),re}function Y(re,te,ae,Ae){return te===null||te.tag!==6?(te=Lo(ae,re.mode,Ae),te.return=re,te):(te=g(te,ae),te.return=re,te)}function Z(re,te,ae,Ae){var Me=ae.type;return Me===G?_e(re,te,ae.props.children,Ae,ae.key):te!==null&&(te.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ce&&$a(Me)===te.type)?(Ae=g(te,ae.props),Ae.ref=Vr(re,te,ae),Ae.return=re,Ae):(Ae=Yi(ae.type,ae.key,ae.props,null,re.mode,Ae),Ae.ref=Vr(re,te,ae),Ae.return=re,Ae)}function de(re,te,ae,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=Io(ae,re.mode,Ae),te.return=re,te):(te=g(te,ae.children||[]),te.return=re,te)}function _e(re,te,ae,Ae,Me){return te===null||te.tag!==7?(te=Qn(ae,re.mode,Ae,Me),te.return=re,te):(te=g(te,ae),te.return=re,te)}function Se(re,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Lo(""+te,re.mode,ae),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return ae=Yi(te.type,te.key,te.props,null,re.mode,ae),ae.ref=Vr(re,null,te),ae.return=re,ae;case F:return te=Io(te,re.mode,ae),te.return=re,te;case ce:var Ae=te._init;return Se(re,Ae(te._payload),ae)}if(be(te)||P(te))return te=Qn(te,re.mode,ae,null),te.return=re,te;Ti(re,te)}return null}function Ee(re,te,ae,Ae){var Me=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Me!==null?null:Y(re,te,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return ae.key===Me?Z(re,te,ae,Ae):null;case F:return ae.key===Me?de(re,te,ae,Ae):null;case ce:return Me=ae._init,Ee(re,te,Me(ae._payload),Ae)}if(be(ae)||P(ae))return Me!==null?null:_e(re,te,ae,Ae,null);Ti(re,ae)}return null}function Te(re,te,ae,Ae,Me){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return re=re.get(ae)||null,Y(te,re,""+Ae,Me);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case R:return re=re.get(Ae.key===null?ae:Ae.key)||null,Z(te,re,Ae,Me);case F:return re=re.get(Ae.key===null?ae:Ae.key)||null,de(te,re,Ae,Me);case ce:var Fe=Ae._init;return Te(re,te,ae,Fe(Ae._payload),Me)}if(be(Ae)||P(Ae))return re=re.get(ae)||null,_e(te,re,Ae,Me,null);Ti(te,Ae)}return null}function Re(re,te,ae,Ae){for(var Me=null,Fe=null,Le=te,Oe=te=0,ut=null;Le!==null&&Oe<ae.length;Oe++){Le.index>Oe?(ut=Le,Le=null):ut=Le.sibling;var Ue=Ee(re,Le,ae[Oe],Ae);if(Ue===null){Le===null&&(Le=ut);break}e&&Le&&Ue.alternate===null&&t(re,Le),te=A(Ue,te,Oe),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue,Le=ut}if(Oe===ae.length)return a(re,Le),qe&&Wn(re,Oe),Me;if(Le===null){for(;Oe<ae.length;Oe++)Le=Se(re,ae[Oe],Ae),Le!==null&&(te=A(Le,te,Oe),Fe===null?Me=Le:Fe.sibling=Le,Fe=Le);return qe&&Wn(re,Oe),Me}for(Le=u(re,Le);Oe<ae.length;Oe++)ut=Te(Le,re,Oe,ae[Oe],Ae),ut!==null&&(e&&ut.alternate!==null&&Le.delete(ut.key===null?Oe:ut.key),te=A(ut,te,Oe),Fe===null?Me=ut:Fe.sibling=ut,Fe=ut);return e&&Le.forEach(function(Ln){return t(re,Ln)}),qe&&Wn(re,Oe),Me}function ke(re,te,ae,Ae){var Me=P(ae);if(typeof Me!="function")throw Error(s(150));if(ae=Me.call(ae),ae==null)throw Error(s(151));for(var Fe=Me=null,Le=te,Oe=te=0,ut=null,Ue=ae.next();Le!==null&&!Ue.done;Oe++,Ue=ae.next()){Le.index>Oe?(ut=Le,Le=null):ut=Le.sibling;var Ln=Ee(re,Le,Ue.value,Ae);if(Ln===null){Le===null&&(Le=ut);break}e&&Le&&Ln.alternate===null&&t(re,Le),te=A(Ln,te,Oe),Fe===null?Me=Ln:Fe.sibling=Ln,Fe=Ln,Le=ut}if(Ue.done)return a(re,Le),qe&&Wn(re,Oe),Me;if(Le===null){for(;!Ue.done;Oe++,Ue=ae.next())Ue=Se(re,Ue.value,Ae),Ue!==null&&(te=A(Ue,te,Oe),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue);return qe&&Wn(re,Oe),Me}for(Le=u(re,Le);!Ue.done;Oe++,Ue=ae.next())Ue=Te(Le,re,Oe,Ue.value,Ae),Ue!==null&&(e&&Ue.alternate!==null&&Le.delete(Ue.key===null?Oe:Ue.key),te=A(Ue,te,Oe),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue);return e&&Le.forEach(function(ud){return t(re,ud)}),qe&&Wn(re,Oe),Me}function tt(re,te,ae,Ae){if(typeof ae=="object"&&ae!==null&&ae.type===G&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:e:{for(var Me=ae.key,Fe=te;Fe!==null;){if(Fe.key===Me){if(Me=ae.type,Me===G){if(Fe.tag===7){a(re,Fe.sibling),te=g(Fe,ae.props.children),te.return=re,re=te;break e}}else if(Fe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ce&&$a(Me)===Fe.type){a(re,Fe.sibling),te=g(Fe,ae.props),te.ref=Vr(re,Fe,ae),te.return=re,re=te;break e}a(re,Fe);break}else t(re,Fe);Fe=Fe.sibling}ae.type===G?(te=Qn(ae.props.children,re.mode,Ae,ae.key),te.return=re,re=te):(Ae=Yi(ae.type,ae.key,ae.props,null,re.mode,Ae),Ae.ref=Vr(re,te,ae),Ae.return=re,re=Ae)}return N(re);case F:e:{for(Fe=ae.key;te!==null;){if(te.key===Fe)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){a(re,te.sibling),te=g(te,ae.children||[]),te.return=re,re=te;break e}else{a(re,te);break}else t(re,te);te=te.sibling}te=Io(ae,re.mode,Ae),te.return=re,re=te}return N(re);case ce:return Fe=ae._init,tt(re,te,Fe(ae._payload),Ae)}if(be(ae))return Re(re,te,ae,Ae);if(P(ae))return ke(re,te,ae,Ae);Ti(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(a(re,te.sibling),te=g(te,ae),te.return=re,re=te):(a(re,te),te=Lo(ae,re.mode,Ae),te.return=re,re=te),N(re)):a(re,te)}return tt}var dr=Ka(!0),Ya=Ka(!1),Pi=An(null),Ci=null,hr=null,Ws=null;function Hs(){Ws=hr=Ci=null}function Gs(e){var t=Pi.current;Ge(Pi),e._currentValue=t}function qs(e,t,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===a)break;e=e.return}}function fr(e,t){Ci=e,Ws=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(At=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Ci===null)throw Error(s(308));hr=e,Ci.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Hn=null;function Xs(e){Hn===null?Hn=[e]:Hn.push(e)}function Qa(e,t,a,u){var g=t.interleaved;return g===null?(a.next=a,Xs(t)):(a.next=g.next,g.next=a),t.interleaved=a,un(e,u)}function un(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Tn=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var g=u.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),u.pending=t,un(e,a)}return g=u.interleaved,g===null?(t.next=t,Xs(u)):(t.next=g.next,g.next=t),u.interleaved=t,un(e,a)}function Ri(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,a|=u,t.lanes=a,ls(e,a)}}function Za(e,t){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,A=null;if(a=a.firstBaseUpdate,a!==null){do{var N={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};A===null?g=A=N:A=A.next=N,a=a.next}while(a!==null);A===null?g=A=t:A=A.next=t}else g=A=t;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:A,shared:u.shared,effects:u.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function ki(e,t,a,u){var g=e.updateQueue;Tn=!1;var A=g.firstBaseUpdate,N=g.lastBaseUpdate,Y=g.shared.pending;if(Y!==null){g.shared.pending=null;var Z=Y,de=Z.next;Z.next=null,N===null?A=de:N.next=de,N=Z;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,Y=_e.lastBaseUpdate,Y!==N&&(Y===null?_e.firstBaseUpdate=de:Y.next=de,_e.lastBaseUpdate=Z))}if(A!==null){var Se=g.baseState;N=0,_e=de=Z=null,Y=A;do{var Ee=Y.lane,Te=Y.eventTime;if((u&Ee)===Ee){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Re=e,ke=Y;switch(Ee=t,Te=a,ke.tag){case 1:if(Re=ke.payload,typeof Re=="function"){Se=Re.call(Te,Se,Ee);break e}Se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ke.payload,Ee=typeof Re=="function"?Re.call(Te,Se,Ee):Re,Ee==null)break e;Se=T({},Se,Ee);break e;case 2:Tn=!0}}Y.callback!==null&&Y.lane!==0&&(e.flags|=64,Ee=g.effects,Ee===null?g.effects=[Y]:Ee.push(Y))}else Te={eventTime:Te,lane:Ee,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},_e===null?(de=_e=Te,Z=Se):_e=_e.next=Te,N|=Ee;if(Y=Y.next,Y===null){if(Y=g.shared.pending,Y===null)break;Ee=Y,Y=Ee.next,Ee.next=null,g.lastBaseUpdate=Ee,g.shared.pending=null}}while(!0);if(_e===null&&(Z=Se),g.baseState=Z,g.firstBaseUpdate=de,g.lastBaseUpdate=_e,t=g.shared.interleaved,t!==null){g=t;do N|=g.lane,g=g.next;while(g!==t)}else A===null&&(g.shared.lanes=0);Xn|=N,e.lanes=N,e.memoizedState=Se}}function el(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],g=u.callback;if(g!==null){if(u.callback=null,u=a,typeof g!="function")throw Error(s(191,g));g.call(u)}}}var Br={},en=An(Br),Ur=An(Br),zr=An(Br);function Gn(e){if(e===Br)throw Error(s(174));return e}function Ks(e,t){switch(We(zr,t),We(Ur,e),We(en,Br),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qe(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qe(t,e)}Ge(en),We(en,t)}function pr(){Ge(en),Ge(Ur),Ge(zr)}function tl(e){Gn(zr.current);var t=Gn(en.current),a=Qe(t,e.type);t!==a&&(We(Ur,e),We(en,a))}function Ys(e){Ur.current===e&&(Ge(en),Ge(Ur))}var Xe=An(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qs=[];function Js(){for(var e=0;e<Qs.length;e++)Qs[e]._workInProgressVersionPrimary=null;Qs.length=0}var Di=I.ReactCurrentDispatcher,Zs=I.ReactCurrentBatchConfig,qn=0,$e=null,st=null,lt=null,Fi=!1,Wr=!1,Hr=0,Mu=0;function gt(){throw Error(s(321))}function eo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!zt(e[a],t[a]))return!1;return!0}function to(e,t,a,u,g,A){if(qn=A,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Di.current=e===null||e.memoizedState===null?Iu:Ou,e=a(u,g),Wr){A=0;do{if(Wr=!1,Hr=0,25<=A)throw Error(s(301));A+=1,lt=st=null,t.updateQueue=null,Di.current=Nu,e=a(u,g)}while(Wr)}if(Di.current=Oi,t=st!==null&&st.next!==null,qn=0,lt=st=$e=null,Fi=!1,t)throw Error(s(300));return e}function no(){var e=Hr!==0;return Hr=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=e:lt=lt.next=e,lt}function Ot(){if(st===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=lt===null?$e.memoizedState:lt.next;if(t!==null)lt=t,st=e;else{if(e===null)throw Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?$e.memoizedState=lt=e:lt=lt.next=e}return lt}function Gr(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=Ot(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=st,g=u.baseQueue,A=a.pending;if(A!==null){if(g!==null){var N=g.next;g.next=A.next,A.next=N}u.baseQueue=g=A,a.pending=null}if(g!==null){A=g.next,u=u.baseState;var Y=N=null,Z=null,de=A;do{var _e=de.lane;if((qn&_e)===_e)Z!==null&&(Z=Z.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),u=de.hasEagerState?de.eagerState:e(u,de.action);else{var Se={lane:_e,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Z===null?(Y=Z=Se,N=u):Z=Z.next=Se,$e.lanes|=_e,Xn|=_e}de=de.next}while(de!==null&&de!==A);Z===null?N=u:Z.next=Y,zt(u,t.memoizedState)||(At=!0),t.memoizedState=u,t.baseState=N,t.baseQueue=Z,a.lastRenderedState=u}if(e=a.interleaved,e!==null){g=e;do A=g.lane,$e.lanes|=A,Xn|=A,g=g.next;while(g!==e)}else g===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function io(e){var t=Ot(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=a.dispatch,g=a.pending,A=t.memoizedState;if(g!==null){a.pending=null;var N=g=g.next;do A=e(A,N.action),N=N.next;while(N!==g);zt(A,t.memoizedState)||(At=!0),t.memoizedState=A,t.baseQueue===null&&(t.baseState=A),a.lastRenderedState=A}return[A,u]}function nl(){}function rl(e,t){var a=$e,u=Ot(),g=t(),A=!zt(u.memoizedState,g);if(A&&(u.memoizedState=g,At=!0),u=u.queue,so(ol.bind(null,a,u,e),[e]),u.getSnapshot!==t||A||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,qr(9,sl.bind(null,a,u,g,t),void 0,null),ct===null)throw Error(s(349));(qn&30)!==0||il(a,t,g)}return g}function il(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sl(e,t,a,u){t.value=a,t.getSnapshot=u,al(t)&&ll(e)}function ol(e,t,a){return a(function(){al(t)&&ll(e)})}function al(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!zt(e,a)}catch{return!0}}function ll(e){var t=un(e,1);t!==null&&Xt(t,e,1,-1)}function cl(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:e},t.queue=e,e=e.dispatch=Lu.bind(null,$e,e),[t.memoizedState,e]}function qr(e,t,a,u){return e={tag:e,create:t,destroy:a,deps:u,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,t.lastEffect=e)),e}function ul(){return Ot().memoizedState}function Li(e,t,a,u){var g=tn();$e.flags|=e,g.memoizedState=qr(1|t,a,void 0,u===void 0?null:u)}function Ii(e,t,a,u){var g=Ot();u=u===void 0?null:u;var A=void 0;if(st!==null){var N=st.memoizedState;if(A=N.destroy,u!==null&&eo(u,N.deps)){g.memoizedState=qr(t,a,A,u);return}}$e.flags|=e,g.memoizedState=qr(1|t,a,A,u)}function dl(e,t){return Li(8390656,8,e,t)}function so(e,t){return Ii(2048,8,e,t)}function hl(e,t){return Ii(4,2,e,t)}function fl(e,t){return Ii(4,4,e,t)}function pl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ml(e,t,a){return a=a!=null?a.concat([e]):null,Ii(4,4,pl.bind(null,t,e),a)}function oo(){}function gl(e,t){var a=Ot();t=t===void 0?null:t;var u=a.memoizedState;return u!==null&&t!==null&&eo(t,u[1])?u[0]:(a.memoizedState=[e,t],e)}function yl(e,t){var a=Ot();t=t===void 0?null:t;var u=a.memoizedState;return u!==null&&t!==null&&eo(t,u[1])?u[0]:(e=e(),a.memoizedState=[e,t],e)}function vl(e,t,a){return(qn&21)===0?(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=a):(zt(a,t)||(a=$o(),$e.lanes|=a,Xn|=a,e.baseState=!0),t)}function Du(e,t){var a=ze;ze=a!==0&&4>a?a:4,e(!0);var u=Zs.transition;Zs.transition={};try{e(!1),t()}finally{ze=a,Zs.transition=u}}function xl(){return Ot().memoizedState}function Fu(e,t,a){var u=Mn(e);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},El(e))_l(t,a);else if(a=Qa(e,t,a,u),a!==null){var g=Et();Xt(a,e,u,g),Sl(a,t,u)}}function Lu(e,t,a){var u=Mn(e),g={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(El(e))_l(t,g);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=t.lastRenderedReducer,A!==null))try{var N=t.lastRenderedState,Y=A(N,a);if(g.hasEagerState=!0,g.eagerState=Y,zt(Y,N)){var Z=t.interleaved;Z===null?(g.next=g,Xs(t)):(g.next=Z.next,Z.next=g),t.interleaved=g;return}}catch{}finally{}a=Qa(e,t,g,u),a!==null&&(g=Et(),Xt(a,e,u,g),Sl(a,t,u))}}function El(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function _l(e,t){Wr=Fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sl(e,t,a){if((a&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,a|=u,t.lanes=a,ls(e,a)}}var Oi={readContext:It,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Iu={readContext:It,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:dl,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Li(4194308,4,pl.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var a=tn();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var u=tn();return t=a!==void 0?a(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Fu.bind(null,$e,e),[u.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:cl,useDebugValue:oo,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=cl(!1),t=e[0];return e=Du.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var u=$e,g=tn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),ct===null)throw Error(s(349));(qn&30)!==0||il(u,t,a)}g.memoizedState=a;var A={value:a,getSnapshot:t};return g.queue=A,dl(ol.bind(null,u,A,e),[e]),u.flags|=2048,qr(9,sl.bind(null,u,A,a,t),void 0,null),a},useId:function(){var e=tn(),t=ct.identifierPrefix;if(qe){var a=cn,u=ln;a=(u&~(1<<32-Ut(u)-1)).toString(32)+a,t=":"+t+"R"+a,a=Hr++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Mu++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ou={readContext:It,useCallback:gl,useContext:It,useEffect:so,useImperativeHandle:ml,useInsertionEffect:hl,useLayoutEffect:fl,useMemo:yl,useReducer:ro,useRef:ul,useState:function(){return ro(Gr)},useDebugValue:oo,useDeferredValue:function(e){var t=Ot();return vl(t,st.memoizedState,e)},useTransition:function(){var e=ro(Gr)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:nl,useSyncExternalStore:rl,useId:xl,unstable_isNewReconciler:!1},Nu={readContext:It,useCallback:gl,useContext:It,useEffect:so,useImperativeHandle:ml,useInsertionEffect:hl,useLayoutEffect:fl,useMemo:yl,useReducer:io,useRef:ul,useState:function(){return io(Gr)},useDebugValue:oo,useDeferredValue:function(e){var t=Ot();return st===null?t.memoizedState=e:vl(t,st.memoizedState,e)},useTransition:function(){var e=io(Gr)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:nl,useSyncExternalStore:rl,useId:xl,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=T({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function ao(e,t,a,u){t=e.memoizedState,a=a(u,t),a=a==null?t:T({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ni={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var u=Et(),g=Mn(e),A=dn(u,g);A.payload=t,a!=null&&(A.callback=a),t=Pn(e,A,g),t!==null&&(Xt(t,e,g,u),Ri(t,e,g))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var u=Et(),g=Mn(e),A=dn(u,g);A.tag=1,A.payload=t,a!=null&&(A.callback=a),t=Pn(e,A,g),t!==null&&(Xt(t,e,g,u),Ri(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),u=Mn(e),g=dn(a,u);g.tag=2,t!=null&&(g.callback=t),t=Pn(e,g,u),t!==null&&(Xt(t,e,u,a),Ri(t,e,u))}};function Al(e,t,a,u,g,A,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,A,N):t.prototype&&t.prototype.isPureReactComponent?!Dr(a,u)||!Dr(g,A):!0}function bl(e,t,a){var u=!1,g=bn,A=t.contextType;return typeof A=="object"&&A!==null?A=It(A):(g=St(t)?Un:mt.current,u=t.contextTypes,A=(u=u!=null)?ar(e,g):bn),t=new t(a,A),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=A),t}function wl(e,t,a,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,u),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function lo(e,t,a,u){var g=e.stateNode;g.props=a,g.state=e.memoizedState,g.refs={},$s(e);var A=t.contextType;typeof A=="object"&&A!==null?g.context=It(A):(A=St(t)?Un:mt.current,g.context=ar(e,A)),g.state=e.memoizedState,A=t.getDerivedStateFromProps,typeof A=="function"&&(ao(e,t,A,a),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&Ni.enqueueReplaceState(g,g.state,null),ki(e,a,g,u),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var a="",u=t;do a+=V(u),u=u.return;while(u);var g=a}catch(A){g=`
Error generating stack: `+A.message+`
`+A.stack}return{value:e,source:t,stack:g,digest:null}}function co(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function uo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var ju=typeof WeakMap=="function"?WeakMap:Map;function Tl(e,t,a){a=dn(-1,a),a.tag=3,a.payload={element:null};var u=t.value;return a.callback=function(){Hi||(Hi=!0,To=u),uo(e,t)},a}function Pl(e,t,a){a=dn(-1,a),a.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var g=t.value;a.payload=function(){return u(g)},a.callback=function(){uo(e,t)}}var A=e.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){uo(e,t),typeof u!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var N=t.stack;this.componentDidCatch(t.value,{componentStack:N!==null?N:""})}),a}function Cl(e,t,a){var u=e.pingCache;if(u===null){u=e.pingCache=new ju;var g=new Set;u.set(t,g)}else g=u.get(t),g===void 0&&(g=new Set,u.set(t,g));g.has(a)||(g.add(a),e=Ju.bind(null,e,t,a),t.then(e,e))}function Rl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kl(e,t,a,u,g){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=dn(-1,1),t.tag=2,Pn(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var Vu=I.ReactCurrentOwner,At=!1;function xt(e,t,a,u){t.child=e===null?Ya(t,null,a,u):dr(t,e.child,a,u)}function Ml(e,t,a,u,g){a=a.render;var A=t.ref;return fr(t,g),u=to(e,t,a,u,A,g),a=no(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,hn(e,t,g)):(qe&&a&&js(t),t.flags|=1,xt(e,t,u,g),t.child)}function Dl(e,t,a,u,g){if(e===null){var A=a.type;return typeof A=="function"&&!Fo(A)&&A.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=A,Fl(e,t,A,u,g)):(e=Yi(a.type,null,u,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(A=e.child,(e.lanes&g)===0){var N=A.memoizedProps;if(a=a.compare,a=a!==null?a:Dr,a(N,u)&&e.ref===t.ref)return hn(e,t,g)}return t.flags|=1,e=Fn(A,u),e.ref=t.ref,e.return=t,t.child=e}function Fl(e,t,a,u,g){if(e!==null){var A=e.memoizedProps;if(Dr(A,u)&&e.ref===t.ref)if(At=!1,t.pendingProps=u=A,(e.lanes&g)!==0)(e.flags&131072)!==0&&(At=!0);else return t.lanes=e.lanes,hn(e,t,g)}return ho(e,t,a,u,g)}function Ll(e,t,a){var u=t.pendingProps,g=u.children,A=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(yr,Dt),Dt|=a;else{if((a&1073741824)===0)return e=A!==null?A.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(yr,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=A!==null?A.baseLanes:a,We(yr,Dt),Dt|=u}else A!==null?(u=A.baseLanes|a,t.memoizedState=null):u=a,We(yr,Dt),Dt|=u;return xt(e,t,g,a),t.child}function Il(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function ho(e,t,a,u,g){var A=St(a)?Un:mt.current;return A=ar(t,A),fr(t,g),a=to(e,t,a,u,A,g),u=no(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,hn(e,t,g)):(qe&&u&&js(t),t.flags|=1,xt(e,t,a,g),t.child)}function Ol(e,t,a,u,g){if(St(a)){var A=!0;_i(t)}else A=!1;if(fr(t,g),t.stateNode===null)Vi(e,t),bl(t,a,u),lo(t,a,u,g),u=!0;else if(e===null){var N=t.stateNode,Y=t.memoizedProps;N.props=Y;var Z=N.context,de=a.contextType;typeof de=="object"&&de!==null?de=It(de):(de=St(a)?Un:mt.current,de=ar(t,de));var _e=a.getDerivedStateFromProps,Se=typeof _e=="function"||typeof N.getSnapshotBeforeUpdate=="function";Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==u||Z!==de)&&wl(t,N,u,de),Tn=!1;var Ee=t.memoizedState;N.state=Ee,ki(t,u,N,g),Z=t.memoizedState,Y!==u||Ee!==Z||_t.current||Tn?(typeof _e=="function"&&(ao(t,a,_e,u),Z=t.memoizedState),(Y=Tn||Al(t,a,Y,u,Ee,Z,de))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(t.flags|=4194308)):(typeof N.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=Z),N.props=u,N.state=Z,N.context=de,u=Y):(typeof N.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{N=t.stateNode,Ja(e,t),Y=t.memoizedProps,de=t.type===t.elementType?Y:Ht(t.type,Y),N.props=de,Se=t.pendingProps,Ee=N.context,Z=a.contextType,typeof Z=="object"&&Z!==null?Z=It(Z):(Z=St(a)?Un:mt.current,Z=ar(t,Z));var Te=a.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==Se||Ee!==Z)&&wl(t,N,u,Z),Tn=!1,Ee=t.memoizedState,N.state=Ee,ki(t,u,N,g);var Re=t.memoizedState;Y!==Se||Ee!==Re||_t.current||Tn?(typeof Te=="function"&&(ao(t,a,Te,u),Re=t.memoizedState),(de=Tn||Al(t,a,de,u,Ee,Re,Z)||!1)?(_e||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(u,Re,Z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(u,Re,Z)),typeof N.componentDidUpdate=="function"&&(t.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof N.componentDidUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=Re),N.props=u,N.state=Re,N.context=Z,u=de):(typeof N.componentDidUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=1024),u=!1)}return fo(e,t,a,u,A,g)}function fo(e,t,a,u,g,A){Il(e,t);var N=(t.flags&128)!==0;if(!u&&!N)return g&&Ua(t,a,!1),hn(e,t,A);u=t.stateNode,Vu.current=t;var Y=N&&typeof a.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&N?(t.child=dr(t,e.child,null,A),t.child=dr(t,null,Y,A)):xt(e,t,Y,A),t.memoizedState=u.state,g&&Ua(t,a,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?Va(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Va(e,t.context,!1),Ks(e,t.containerInfo)}function jl(e,t,a,u,g){return ur(),zs(g),t.flags|=256,xt(e,t,a,u),t.child}var po={dehydrated:null,treeContext:null,retryLane:0};function mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vl(e,t,a){var u=t.pendingProps,g=Xe.current,A=!1,N=(t.flags&128)!==0,Y;if((Y=N)||(Y=e!==null&&e.memoizedState===null?!1:(g&2)!==0),Y?(A=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),We(Xe,g&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(N=u.children,e=u.fallback,A?(u=t.mode,A=t.child,N={mode:"hidden",children:N},(u&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=N):A=Qi(N,u,0,null),e=Qn(e,u,a,null),A.return=t,e.return=t,A.sibling=e,t.child=A,t.child.memoizedState=mo(a),t.memoizedState=po,e):go(t,N));if(g=e.memoizedState,g!==null&&(Y=g.dehydrated,Y!==null))return Bu(e,t,N,u,Y,g,a);if(A){A=u.fallback,N=t.mode,g=e.child,Y=g.sibling;var Z={mode:"hidden",children:u.children};return(N&1)===0&&t.child!==g?(u=t.child,u.childLanes=0,u.pendingProps=Z,t.deletions=null):(u=Fn(g,Z),u.subtreeFlags=g.subtreeFlags&14680064),Y!==null?A=Fn(Y,A):(A=Qn(A,N,a,null),A.flags|=2),A.return=t,u.return=t,u.sibling=A,t.child=u,u=A,A=t.child,N=e.child.memoizedState,N=N===null?mo(a):{baseLanes:N.baseLanes|a,cachePool:null,transitions:N.transitions},A.memoizedState=N,A.childLanes=e.childLanes&~a,t.memoizedState=po,u}return A=e.child,e=A.sibling,u=Fn(A,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=a),u.return=t,u.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=u,t.memoizedState=null,u}function go(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ji(e,t,a,u){return u!==null&&zs(u),dr(t,e.child,null,a),e=go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bu(e,t,a,u,g,A,N){if(a)return t.flags&256?(t.flags&=-257,u=co(Error(s(422))),ji(e,t,N,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(A=u.fallback,g=t.mode,u=Qi({mode:"visible",children:u.children},g,0,null),A=Qn(A,g,N,null),A.flags|=2,u.return=t,A.return=t,u.sibling=A,t.child=u,(t.mode&1)!==0&&dr(t,e.child,null,N),t.child.memoizedState=mo(N),t.memoizedState=po,A);if((t.mode&1)===0)return ji(e,t,N,null);if(g.data==="$!"){if(u=g.nextSibling&&g.nextSibling.dataset,u)var Y=u.dgst;return u=Y,A=Error(s(419)),u=co(A,u,void 0),ji(e,t,N,u)}if(Y=(N&e.childLanes)!==0,At||Y){if(u=ct,u!==null){switch(N&-N){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(u.suspendedLanes|N))!==0?0:g,g!==0&&g!==A.retryLane&&(A.retryLane=g,un(e,g),Xt(u,e,g,-1))}return Do(),u=co(Error(s(421))),ji(e,t,N,u)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=Zu.bind(null,e),g._reactRetry=t,null):(e=A.treeContext,Mt=Sn(g.nextSibling),kt=t,qe=!0,Wt=null,e!==null&&(Ft[Lt++]=ln,Ft[Lt++]=cn,Ft[Lt++]=zn,ln=e.id,cn=e.overflow,zn=t),t=go(t,u.children),t.flags|=4096,t)}function Bl(e,t,a){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),qs(e.return,t,a)}function yo(e,t,a,u,g){var A=e.memoizedState;A===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g}:(A.isBackwards=t,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=a,A.tailMode=g)}function Ul(e,t,a){var u=t.pendingProps,g=u.revealOrder,A=u.tail;if(xt(e,t,u.children,a),u=Xe.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,a,t);else if(e.tag===19)Bl(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(We(Xe,u),(t.mode&1)===0)t.memoizedState=null;else switch(g){case"forwards":for(a=t.child,g=null;a!==null;)e=a.alternate,e!==null&&Mi(e)===null&&(g=a),a=a.sibling;a=g,a===null?(g=t.child,t.child=null):(g=a.sibling,a.sibling=null),yo(t,!1,g,a,A);break;case"backwards":for(a=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Mi(e)===null){t.child=g;break}e=g.sibling,g.sibling=a,a=g,g=e}yo(t,!0,a,null,A);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,a=Fn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Fn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Uu(e,t,a){switch(t.tag){case 3:Nl(t),ur();break;case 5:tl(t);break;case 1:St(t.type)&&_i(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,g=t.memoizedProps.value;We(Pi,u._currentValue),u._currentValue=g;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(We(Xe,Xe.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?Vl(e,t,a):(We(Xe,Xe.current&1),e=hn(e,t,a),e!==null?e.sibling:null);We(Xe,Xe.current&1);break;case 19:if(u=(a&t.childLanes)!==0,(e.flags&128)!==0){if(u)return Ul(e,t,a);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),We(Xe,Xe.current),u)break;return null;case 22:case 23:return t.lanes=0,Ll(e,t,a)}return hn(e,t,a)}var zl,vo,Wl,Hl;zl=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vo=function(){},Wl=function(e,t,a,u){var g=e.memoizedProps;if(g!==u){e=t.stateNode,Gn(en.current);var A=null;switch(a){case"input":g=xe(e,g),u=xe(e,u),A=[];break;case"select":g=T({},g,{value:void 0}),u=T({},u,{value:void 0}),A=[];break;case"textarea":g=De(e,g),u=De(e,u),A=[];break;default:typeof g.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=vi)}ne(a,u);var N;a=null;for(de in g)if(!u.hasOwnProperty(de)&&g.hasOwnProperty(de)&&g[de]!=null)if(de==="style"){var Y=g[de];for(N in Y)Y.hasOwnProperty(N)&&(a||(a={}),a[N]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(c.hasOwnProperty(de)?A||(A=[]):(A=A||[]).push(de,null));for(de in u){var Z=u[de];if(Y=g?.[de],u.hasOwnProperty(de)&&Z!==Y&&(Z!=null||Y!=null))if(de==="style")if(Y){for(N in Y)!Y.hasOwnProperty(N)||Z&&Z.hasOwnProperty(N)||(a||(a={}),a[N]="");for(N in Z)Z.hasOwnProperty(N)&&Y[N]!==Z[N]&&(a||(a={}),a[N]=Z[N])}else a||(A||(A=[]),A.push(de,a)),a=Z;else de==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Y=Y?Y.__html:void 0,Z!=null&&Y!==Z&&(A=A||[]).push(de,Z)):de==="children"?typeof Z!="string"&&typeof Z!="number"||(A=A||[]).push(de,""+Z):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(c.hasOwnProperty(de)?(Z!=null&&de==="onScroll"&&He("scroll",e),A||Y===Z||(A=[])):(A=A||[]).push(de,Z))}a&&(A=A||[]).push("style",a);var de=A;(t.updateQueue=de)&&(t.flags|=4)}},Hl=function(e,t,a,u){a!==u&&(t.flags|=4)};function Xr(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(t)for(var g=e.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&14680064,u|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=u,e.childLanes=a,t}function zu(e,t,a){var u=t.pendingProps;switch(Vs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return St(t.type)&&Ei(),yt(t),null;case 3:return u=t.stateNode,pr(),Ge(_t),Ge(mt),Js(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wt!==null&&(Ro(Wt),Wt=null))),vo(e,t),yt(t),null;case 5:Ys(t);var g=Gn(zr.current);if(a=t.type,e!==null&&t.stateNode!=null)Wl(e,t,a,u,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(s(166));return yt(t),null}if(e=Gn(en.current),wi(t)){u=t.stateNode,a=t.type;var A=t.memoizedProps;switch(u[Zt]=t,u[Nr]=A,e=(t.mode&1)!==0,a){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(g=0;g<Lr.length;g++)He(Lr[g],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":se(u,A),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!A.multiple},He("invalid",u);break;case"textarea":Ie(u,A),He("invalid",u)}ne(a,A),g=null;for(var N in A)if(A.hasOwnProperty(N)){var Y=A[N];N==="children"?typeof Y=="string"?u.textContent!==Y&&(A.suppressHydrationWarning!==!0&&yi(u.textContent,Y,e),g=["children",Y]):typeof Y=="number"&&u.textContent!==""+Y&&(A.suppressHydrationWarning!==!0&&yi(u.textContent,Y,e),g=["children",""+Y]):c.hasOwnProperty(N)&&Y!=null&&N==="onScroll"&&He("scroll",u)}switch(a){case"input":K(u),pe(u,A,!0);break;case"textarea":K(u),je(u);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(u.onclick=vi)}u=g,t.updateQueue=u,u!==null&&(t.flags|=4)}else{N=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=at(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=N.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=N.createElement(a,{is:u.is}):(e=N.createElement(a),a==="select"&&(N=e,u.multiple?N.multiple=!0:u.size&&(N.size=u.size))):e=N.createElementNS(e,a),e[Zt]=t,e[Nr]=u,zl(e,t,!1,!1),t.stateNode=e;e:{switch(N=we(a,u),a){case"dialog":He("cancel",e),He("close",e),g=u;break;case"iframe":case"object":case"embed":He("load",e),g=u;break;case"video":case"audio":for(g=0;g<Lr.length;g++)He(Lr[g],e);g=u;break;case"source":He("error",e),g=u;break;case"img":case"image":case"link":He("error",e),He("load",e),g=u;break;case"details":He("toggle",e),g=u;break;case"input":se(e,u),g=xe(e,u),He("invalid",e);break;case"option":g=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},g=T({},u,{value:void 0}),He("invalid",e);break;case"textarea":Ie(e,u),g=De(e,u),He("invalid",e);break;default:g=u}ne(a,g),Y=g;for(A in Y)if(Y.hasOwnProperty(A)){var Z=Y[A];A==="style"?ye(e,Z):A==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&nt(e,Z)):A==="children"?typeof Z=="string"?(a!=="textarea"||Z!=="")&&dt(e,Z):typeof Z=="number"&&dt(e,""+Z):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(c.hasOwnProperty(A)?Z!=null&&A==="onScroll"&&He("scroll",e):Z!=null&&O(e,A,Z,N))}switch(a){case"input":K(e),pe(e,u,!1);break;case"textarea":K(e),je(e);break;case"option":u.value!=null&&e.setAttribute("value",""+L(u.value));break;case"select":e.multiple=!!u.multiple,A=u.value,A!=null?Pe(e,!!u.multiple,A,!1):u.defaultValue!=null&&Pe(e,!!u.multiple,u.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=vi)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Hl(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(s(166));if(a=Gn(zr.current),Gn(en.current),wi(t)){if(u=t.stateNode,a=t.memoizedProps,u[Zt]=t,(A=u.nodeValue!==a)&&(e=kt,e!==null))switch(e.tag){case 3:yi(u.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(u.nodeValue,a,(e.mode&1)!==0)}A&&(t.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[Zt]=t,t.stateNode=u}return yt(t),null;case 13:if(Ge(Xe),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Xa(),ur(),t.flags|=98560,A=!1;else if(A=wi(t),u!==null&&u.dehydrated!==null){if(e===null){if(!A)throw Error(s(318));if(A=t.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));A[Zt]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),A=!1}else Wt!==null&&(Ro(Wt),Wt=null),A=!0;if(!A)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Xe.current&1)!==0?ot===0&&(ot=3):Do())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return pr(),vo(e,t),e===null&&Ir(t.stateNode.containerInfo),yt(t),null;case 10:return Gs(t.type._context),yt(t),null;case 17:return St(t.type)&&Ei(),yt(t),null;case 19:if(Ge(Xe),A=t.memoizedState,A===null)return yt(t),null;if(u=(t.flags&128)!==0,N=A.rendering,N===null)if(u)Xr(A,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(N=Mi(e),N!==null){for(t.flags|=128,Xr(A,!1),u=N.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=a,a=t.child;a!==null;)A=a,e=u,A.flags&=14680066,N=A.alternate,N===null?(A.childLanes=0,A.lanes=e,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=N.childLanes,A.lanes=N.lanes,A.child=N.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=N.memoizedProps,A.memoizedState=N.memoizedState,A.updateQueue=N.updateQueue,A.type=N.type,e=N.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return We(Xe,Xe.current&1|2),t.child}e=e.sibling}A.tail!==null&&et()>vr&&(t.flags|=128,u=!0,Xr(A,!1),t.lanes=4194304)}else{if(!u)if(e=Mi(N),e!==null){if(t.flags|=128,u=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Xr(A,!0),A.tail===null&&A.tailMode==="hidden"&&!N.alternate&&!qe)return yt(t),null}else 2*et()-A.renderingStartTime>vr&&a!==1073741824&&(t.flags|=128,u=!0,Xr(A,!1),t.lanes=4194304);A.isBackwards?(N.sibling=t.child,t.child=N):(a=A.last,a!==null?a.sibling=N:t.child=N,A.last=N)}return A.tail!==null?(t=A.tail,A.rendering=t,A.tail=t.sibling,A.renderingStartTime=et(),t.sibling=null,a=Xe.current,We(Xe,u?a&1|2:a&1),t):(yt(t),null);case 22:case 23:return Mo(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Wu(e,t){switch(Vs(t),t.tag){case 1:return St(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),Ge(_t),Ge(mt),Js(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(Ge(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Xe),null;case 4:return pr(),null;case 10:return Gs(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var Bi=!1,vt=!1,Hu=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function gr(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Ye(e,t,u)}else a.current=null}function xo(e,t,a){try{a()}catch(u){Ye(e,t,u)}}var Gl=!1;function Gu(e,t){if(ks=oi,e=Aa(),Ss(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,A=u.focusNode;u=u.focusOffset;try{a.nodeType,A.nodeType}catch{a=null;break e}var N=0,Y=-1,Z=-1,de=0,_e=0,Se=e,Ee=null;t:for(;;){for(var Te;Se!==a||g!==0&&Se.nodeType!==3||(Y=N+g),Se!==A||u!==0&&Se.nodeType!==3||(Z=N+u),Se.nodeType===3&&(N+=Se.nodeValue.length),(Te=Se.firstChild)!==null;)Ee=Se,Se=Te;for(;;){if(Se===e)break t;if(Ee===a&&++de===g&&(Y=N),Ee===A&&++_e===u&&(Z=N),(Te=Se.nextSibling)!==null)break;Se=Ee,Ee=Se.parentNode}Se=Te}a=Y===-1||Z===-1?null:{start:Y,end:Z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ms={focusedElem:e,selectionRange:a},oi=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var Re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var ke=Re.memoizedProps,tt=Re.memoizedState,re=t.stateNode,te=re.getSnapshotBeforeUpdate(t.elementType===t.type?ke:Ht(t.type,ke),tt);re.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ae=t.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ae){Ye(t,t.return,Ae)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return Re=Gl,Gl=!1,Re}function $r(e,t,a){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&e)===e){var A=g.destroy;g.destroy=void 0,A!==void 0&&xo(t,a,A)}g=g.next}while(g!==u)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var u=a.create;a.destroy=u()}a=a.next}while(a!==t)}}function Eo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function ql(e){var t=e.alternate;t!==null&&(e.alternate=null,ql(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Nr],delete t[Is],delete t[Pu],delete t[Cu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xl(e){return e.tag===5||e.tag===3||e.tag===4}function $l(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _o(e,t,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=vi));else if(u!==4&&(e=e.child,e!==null))for(_o(e,t,a),e=e.sibling;e!==null;)_o(e,t,a),e=e.sibling}function So(e,t,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(So(e,t,a),e=e.sibling;e!==null;)So(e,t,a),e=e.sibling}var ft=null,Gt=!1;function Cn(e,t,a){for(a=a.child;a!==null;)Kl(e,t,a),a=a.sibling}function Kl(e,t,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 5:vt||gr(a,t);case 6:var u=ft,g=Gt;ft=null,Cn(e,t,a),ft=u,Gt=g,ft!==null&&(Gt?(e=ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ft.removeChild(a.stateNode));break;case 18:ft!==null&&(Gt?(e=ft,a=a.stateNode,e.nodeType===8?Ls(e.parentNode,a):e.nodeType===1&&Ls(e,a),Tr(e)):Ls(ft,a.stateNode));break;case 4:u=ft,g=Gt,ft=a.stateNode.containerInfo,Gt=!0,Cn(e,t,a),ft=u,Gt=g;break;case 0:case 11:case 14:case 15:if(!vt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){g=u=u.next;do{var A=g,N=A.destroy;A=A.tag,N!==void 0&&((A&2)!==0||(A&4)!==0)&&xo(a,t,N),g=g.next}while(g!==u)}Cn(e,t,a);break;case 1:if(!vt&&(gr(a,t),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(Y){Ye(a,t,Y)}Cn(e,t,a);break;case 21:Cn(e,t,a);break;case 22:a.mode&1?(vt=(u=vt)||a.memoizedState!==null,Cn(e,t,a),vt=u):Cn(e,t,a);break;default:Cn(e,t,a)}}function Yl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Hu),t.forEach(function(u){var g=ed.bind(null,e,u);a.has(u)||(a.add(u),u.then(g,g))})}}function qt(e,t){var a=t.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u];try{var A=e,N=t,Y=N;e:for(;Y!==null;){switch(Y.tag){case 5:ft=Y.stateNode,Gt=!1;break e;case 3:ft=Y.stateNode.containerInfo,Gt=!0;break e;case 4:ft=Y.stateNode.containerInfo,Gt=!0;break e}Y=Y.return}if(ft===null)throw Error(s(160));Kl(A,N,g),ft=null,Gt=!1;var Z=g.alternate;Z!==null&&(Z.return=null),g.return=null}catch(de){Ye(g,t,de)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ql(t,e),t=t.sibling}function Ql(e,t){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),nn(e),u&4){try{$r(3,e,e.return),Ui(3,e)}catch(ke){Ye(e,e.return,ke)}try{$r(5,e,e.return)}catch(ke){Ye(e,e.return,ke)}}break;case 1:qt(t,e),nn(e),u&512&&a!==null&&gr(a,a.return);break;case 5:if(qt(t,e),nn(e),u&512&&a!==null&&gr(a,a.return),e.flags&32){var g=e.stateNode;try{dt(g,"")}catch(ke){Ye(e,e.return,ke)}}if(u&4&&(g=e.stateNode,g!=null)){var A=e.memoizedProps,N=a!==null?a.memoizedProps:A,Y=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{Y==="input"&&A.type==="radio"&&A.name!=null&&le(g,A),we(Y,N);var de=we(Y,A);for(N=0;N<Z.length;N+=2){var _e=Z[N],Se=Z[N+1];_e==="style"?ye(g,Se):_e==="dangerouslySetInnerHTML"?nt(g,Se):_e==="children"?dt(g,Se):O(g,_e,Se,de)}switch(Y){case"input":ue(g,A);break;case"textarea":Ne(g,A);break;case"select":var Ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!A.multiple;var Te=A.value;Te!=null?Pe(g,!!A.multiple,Te,!1):Ee!==!!A.multiple&&(A.defaultValue!=null?Pe(g,!!A.multiple,A.defaultValue,!0):Pe(g,!!A.multiple,A.multiple?[]:"",!1))}g[Nr]=A}catch(ke){Ye(e,e.return,ke)}}break;case 6:if(qt(t,e),nn(e),u&4){if(e.stateNode===null)throw Error(s(162));g=e.stateNode,A=e.memoizedProps;try{g.nodeValue=A}catch(ke){Ye(e,e.return,ke)}}break;case 3:if(qt(t,e),nn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(ke){Ye(e,e.return,ke)}break;case 4:qt(t,e),nn(e);break;case 13:qt(t,e),nn(e),g=e.child,g.flags&8192&&(A=g.memoizedState!==null,g.stateNode.isHidden=A,!A||g.alternate!==null&&g.alternate.memoizedState!==null||(wo=et())),u&4&&Yl(e);break;case 22:if(_e=a!==null&&a.memoizedState!==null,e.mode&1?(vt=(de=vt)||_e,qt(t,e),vt=de):qt(t,e),nn(e),u&8192){if(de=e.memoizedState!==null,(e.stateNode.isHidden=de)&&!_e&&(e.mode&1)!==0)for(Ce=e,_e=e.child;_e!==null;){for(Se=Ce=_e;Ce!==null;){switch(Ee=Ce,Te=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:$r(4,Ee,Ee.return);break;case 1:gr(Ee,Ee.return);var Re=Ee.stateNode;if(typeof Re.componentWillUnmount=="function"){u=Ee,a=Ee.return;try{t=u,Re.props=t.memoizedProps,Re.state=t.memoizedState,Re.componentWillUnmount()}catch(ke){Ye(u,a,ke)}}break;case 5:gr(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){ec(Se);continue}}Te!==null?(Te.return=Ee,Ce=Te):ec(Se)}_e=_e.sibling}e:for(_e=null,Se=e;;){if(Se.tag===5){if(_e===null){_e=Se;try{g=Se.stateNode,de?(A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(Y=Se.stateNode,Z=Se.memoizedProps.style,N=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Y.style.display=pn("display",N))}catch(ke){Ye(e,e.return,ke)}}}else if(Se.tag===6){if(_e===null)try{Se.stateNode.nodeValue=de?"":Se.memoizedProps}catch(ke){Ye(e,e.return,ke)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===e)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===e)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===e)break e;_e===Se&&(_e=null),Se=Se.return}_e===Se&&(_e=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:qt(t,e),nn(e),u&4&&Yl(e);break;case 21:break;default:qt(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(Xl(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 5:var g=u.stateNode;u.flags&32&&(dt(g,""),u.flags&=-33);var A=$l(e);So(e,A,g);break;case 3:case 4:var N=u.stateNode.containerInfo,Y=$l(e);_o(e,Y,N);break;default:throw Error(s(161))}}catch(Z){Ye(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qu(e,t,a){Ce=e,Jl(e)}function Jl(e,t,a){for(var u=(e.mode&1)!==0;Ce!==null;){var g=Ce,A=g.child;if(g.tag===22&&u){var N=g.memoizedState!==null||Bi;if(!N){var Y=g.alternate,Z=Y!==null&&Y.memoizedState!==null||vt;Y=Bi;var de=vt;if(Bi=N,(vt=Z)&&!de)for(Ce=g;Ce!==null;)N=Ce,Z=N.child,N.tag===22&&N.memoizedState!==null?tc(g):Z!==null?(Z.return=N,Ce=Z):tc(g);for(;A!==null;)Ce=A,Jl(A),A=A.sibling;Ce=g,Bi=Y,vt=de}Zl(e)}else(g.subtreeFlags&8772)!==0&&A!==null?(A.return=g,Ce=A):Zl(e)}}function Zl(e){for(;Ce!==null;){var t=Ce;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Ui(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!vt)if(a===null)u.componentDidMount();else{var g=t.elementType===t.type?a.memoizedProps:Ht(t.type,a.memoizedProps);u.componentDidUpdate(g,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var A=t.updateQueue;A!==null&&el(t,A,u);break;case 3:var N=t.updateQueue;if(N!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}el(t,N,a)}break;case 5:var Y=t.stateNode;if(a===null&&t.flags&4){a=Y;var Z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&a.focus();break;case"img":Z.src&&(a.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var de=t.alternate;if(de!==null){var _e=de.memoizedState;if(_e!==null){var Se=_e.dehydrated;Se!==null&&Tr(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vt||t.flags&512&&Eo(t)}catch(Ee){Ye(t,t.return,Ee)}}if(t===e){Ce=null;break}if(a=t.sibling,a!==null){a.return=t.return,Ce=a;break}Ce=t.return}}function ec(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ce=a;break}Ce=t.return}}function tc(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Ui(4,t)}catch(Z){Ye(t,a,Z)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var g=t.return;try{u.componentDidMount()}catch(Z){Ye(t,g,Z)}}var A=t.return;try{Eo(t)}catch(Z){Ye(t,A,Z)}break;case 5:var N=t.return;try{Eo(t)}catch(Z){Ye(t,N,Z)}}}catch(Z){Ye(t,t.return,Z)}if(t===e){Ce=null;break}var Y=t.sibling;if(Y!==null){Y.return=t.return,Ce=Y;break}Ce=t.return}}var Xu=Math.ceil,zi=I.ReactCurrentDispatcher,Ao=I.ReactCurrentOwner,Nt=I.ReactCurrentBatchConfig,Be=0,ct=null,rt=null,pt=0,Dt=0,yr=An(0),ot=0,Kr=null,Xn=0,Wi=0,bo=0,Yr=null,bt=null,wo=0,vr=1/0,fn=null,Hi=!1,To=null,Rn=null,Gi=!1,kn=null,qi=0,Qr=0,Po=null,Xi=-1,$i=0;function Et(){return(Be&6)!==0?et():Xi!==-1?Xi:Xi=et()}function Mn(e){return(e.mode&1)===0?1:(Be&2)!==0&&pt!==0?pt&-pt:ku.transition!==null?($i===0&&($i=$o()),$i):(e=ze,e!==0||(e=window.event,e=e===void 0?16:ra(e.type)),e)}function Xt(e,t,a,u){if(50<Qr)throw Qr=0,Po=null,Error(s(185));_r(e,a,u),((Be&2)===0||e!==ct)&&(e===ct&&((Be&2)===0&&(Wi|=a),ot===4&&Dn(e,pt)),wt(e,u),a===1&&Be===0&&(t.mode&1)===0&&(vr=et()+500,Si&&wn()))}function wt(e,t){var a=e.callbackNode;kc(e,t);var u=ri(e,e===ct?pt:0);if(u===0)a!==null&&Go(a),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(a!=null&&Go(a),t===1)e.tag===0?Ru(rc.bind(null,e)):za(rc.bind(null,e)),wu(function(){(Be&6)===0&&wn()}),a=null;else{switch(Ko(u)){case 1:a=ss;break;case 4:a=qo;break;case 16:a=Zr;break;case 536870912:a=Xo;break;default:a=Zr}a=dc(a,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function nc(e,t){if(Xi=-1,$i=0,(Be&6)!==0)throw Error(s(327));var a=e.callbackNode;if(xr()&&e.callbackNode!==a)return null;var u=ri(e,e===ct?pt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=Ki(e,u);else{t=u;var g=Be;Be|=2;var A=sc();(ct!==e||pt!==t)&&(fn=null,vr=et()+500,Kn(e,t));do try{Yu();break}catch(Y){ic(e,Y)}while(!0);Hs(),zi.current=A,Be=g,rt!==null?t=0:(ct=null,pt=0,t=ot)}if(t!==0){if(t===2&&(g=os(e),g!==0&&(u=g,t=Co(e,g))),t===1)throw a=Kr,Kn(e,0),Dn(e,u),wt(e,et()),a;if(t===6)Dn(e,u);else{if(g=e.current.alternate,(u&30)===0&&!$u(g)&&(t=Ki(e,u),t===2&&(A=os(e),A!==0&&(u=A,t=Co(e,A))),t===1))throw a=Kr,Kn(e,0),Dn(e,u),wt(e,et()),a;switch(e.finishedWork=g,e.finishedLanes=u,t){case 0:case 1:throw Error(s(345));case 2:Yn(e,bt,fn);break;case 3:if(Dn(e,u),(u&130023424)===u&&(t=wo+500-et(),10<t)){if(ri(e,0)!==0)break;if(g=e.suspendedLanes,(g&u)!==u){Et(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=Fs(Yn.bind(null,e,bt,fn),t);break}Yn(e,bt,fn);break;case 4:if(Dn(e,u),(u&4194240)===u)break;for(t=e.eventTimes,g=-1;0<u;){var N=31-Ut(u);A=1<<N,N=t[N],N>g&&(g=N),u&=~A}if(u=g,u=et()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Xu(u/1960))-u,10<u){e.timeoutHandle=Fs(Yn.bind(null,e,bt,fn),u);break}Yn(e,bt,fn);break;case 5:Yn(e,bt,fn);break;default:throw Error(s(329))}}}return wt(e,et()),e.callbackNode===a?nc.bind(null,e):null}function Co(e,t){var a=Yr;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=bt,bt=a,t!==null&&Ro(t)),e}function Ro(e){bt===null?bt=e:bt.push.apply(bt,e)}function $u(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var g=a[u],A=g.getSnapshot;g=g.value;try{if(!zt(A(),g))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~bo,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Ut(t),u=1<<a;e[a]=-1,t&=~u}}function rc(e){if((Be&6)!==0)throw Error(s(327));xr();var t=ri(e,0);if((t&1)===0)return wt(e,et()),null;var a=Ki(e,t);if(e.tag!==0&&a===2){var u=os(e);u!==0&&(t=u,a=Co(e,u))}if(a===1)throw a=Kr,Kn(e,0),Dn(e,t),wt(e,et()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,bt,fn),wt(e,et()),null}function ko(e,t){var a=Be;Be|=1;try{return e(t)}finally{Be=a,Be===0&&(vr=et()+500,Si&&wn())}}function $n(e){kn!==null&&kn.tag===0&&(Be&6)===0&&xr();var t=Be;Be|=1;var a=Nt.transition,u=ze;try{if(Nt.transition=null,ze=1,e)return e()}finally{ze=u,Nt.transition=a,Be=t,(Be&6)===0&&wn()}}function Mo(){Dt=yr.current,Ge(yr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,bu(a)),rt!==null)for(a=rt.return;a!==null;){var u=a;switch(Vs(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ei();break;case 3:pr(),Ge(_t),Ge(mt),Js();break;case 5:Ys(u);break;case 4:pr();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:Gs(u.type._context);break;case 22:case 23:Mo()}a=a.return}if(ct=e,rt=e=Fn(e.current,null),pt=Dt=t,ot=0,Kr=null,bo=Wi=Xn=0,bt=Yr=null,Hn!==null){for(t=0;t<Hn.length;t++)if(a=Hn[t],u=a.interleaved,u!==null){a.interleaved=null;var g=u.next,A=a.pending;if(A!==null){var N=A.next;A.next=g,u.next=N}a.pending=u}Hn=null}return e}function ic(e,t){do{var a=rt;try{if(Hs(),Di.current=Oi,Fi){for(var u=$e.memoizedState;u!==null;){var g=u.queue;g!==null&&(g.pending=null),u=u.next}Fi=!1}if(qn=0,lt=st=$e=null,Wr=!1,Hr=0,Ao.current=null,a===null||a.return===null){ot=1,Kr=t,rt=null;break}e:{var A=e,N=a.return,Y=a,Z=t;if(t=pt,Y.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var de=Z,_e=Y,Se=_e.tag;if((_e.mode&1)===0&&(Se===0||Se===11||Se===15)){var Ee=_e.alternate;Ee?(_e.updateQueue=Ee.updateQueue,_e.memoizedState=Ee.memoizedState,_e.lanes=Ee.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=Rl(N);if(Te!==null){Te.flags&=-257,kl(Te,N,Y,A,t),Te.mode&1&&Cl(A,de,t),t=Te,Z=de;var Re=t.updateQueue;if(Re===null){var ke=new Set;ke.add(Z),t.updateQueue=ke}else Re.add(Z);break e}else{if((t&1)===0){Cl(A,de,t),Do();break e}Z=Error(s(426))}}else if(qe&&Y.mode&1){var tt=Rl(N);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),kl(tt,N,Y,A,t),zs(mr(Z,Y));break e}}A=Z=mr(Z,Y),ot!==4&&(ot=2),Yr===null?Yr=[A]:Yr.push(A),A=N;do{switch(A.tag){case 3:A.flags|=65536,t&=-t,A.lanes|=t;var re=Tl(A,Z,t);Za(A,re);break e;case 1:Y=Z;var te=A.type,ae=A.stateNode;if((A.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Rn===null||!Rn.has(ae)))){A.flags|=65536,t&=-t,A.lanes|=t;var Ae=Pl(A,Y,t);Za(A,Ae);break e}}A=A.return}while(A!==null)}ac(a)}catch(Me){t=Me,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function sc(){var e=zi.current;return zi.current=Oi,e===null?Oi:e}function Do(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||(Xn&268435455)===0&&(Wi&268435455)===0||Dn(ct,pt)}function Ki(e,t){var a=Be;Be|=2;var u=sc();(ct!==e||pt!==t)&&(fn=null,Kn(e,t));do try{Ku();break}catch(g){ic(e,g)}while(!0);if(Hs(),Be=a,zi.current=u,rt!==null)throw Error(s(261));return ct=null,pt=0,ot}function Ku(){for(;rt!==null;)oc(rt)}function Yu(){for(;rt!==null&&!_c();)oc(rt)}function oc(e){var t=uc(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?ac(e):rt=t,Ao.current=null}function ac(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=zu(a,t,Dt),a!==null){rt=a;return}}else{if(a=Wu(a,t),a!==null){a.flags&=32767,rt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function Yn(e,t,a){var u=ze,g=Nt.transition;try{Nt.transition=null,ze=1,Qu(e,t,a,u)}finally{Nt.transition=g,ze=u}return null}function Qu(e,t,a,u){do xr();while(kn!==null);if((Be&6)!==0)throw Error(s(327));a=e.finishedWork;var g=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var A=a.lanes|a.childLanes;if(Mc(e,A),e===ct&&(rt=ct=null,pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Gi||(Gi=!0,dc(Zr,function(){return xr(),null})),A=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||A){A=Nt.transition,Nt.transition=null;var N=ze;ze=1;var Y=Be;Be|=4,Ao.current=null,Gu(e,a),Ql(a,e),yu(Ms),oi=!!ks,Ms=ks=null,e.current=a,qu(a),Sc(),Be=Y,ze=N,Nt.transition=A}else e.current=a;if(Gi&&(Gi=!1,kn=e,qi=g),A=e.pendingLanes,A===0&&(Rn=null),wc(a.stateNode),wt(e,et()),t!==null)for(u=e.onRecoverableError,a=0;a<t.length;a++)g=t[a],u(g.value,{componentStack:g.stack,digest:g.digest});if(Hi)throw Hi=!1,e=To,To=null,e;return(qi&1)!==0&&e.tag!==0&&xr(),A=e.pendingLanes,(A&1)!==0?e===Po?Qr++:(Qr=0,Po=e):Qr=0,wn(),null}function xr(){if(kn!==null){var e=Ko(qi),t=Nt.transition,a=ze;try{if(Nt.transition=null,ze=16>e?16:e,kn===null)var u=!1;else{if(e=kn,kn=null,qi=0,(Be&6)!==0)throw Error(s(331));var g=Be;for(Be|=4,Ce=e.current;Ce!==null;){var A=Ce,N=A.child;if((Ce.flags&16)!==0){var Y=A.deletions;if(Y!==null){for(var Z=0;Z<Y.length;Z++){var de=Y[Z];for(Ce=de;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:$r(8,_e,A)}var Se=_e.child;if(Se!==null)Se.return=_e,Ce=Se;else for(;Ce!==null;){_e=Ce;var Ee=_e.sibling,Te=_e.return;if(ql(_e),_e===de){Ce=null;break}if(Ee!==null){Ee.return=Te,Ce=Ee;break}Ce=Te}}}var Re=A.alternate;if(Re!==null){var ke=Re.child;if(ke!==null){Re.child=null;do{var tt=ke.sibling;ke.sibling=null,ke=tt}while(ke!==null)}}Ce=A}}if((A.subtreeFlags&2064)!==0&&N!==null)N.return=A,Ce=N;else e:for(;Ce!==null;){if(A=Ce,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:$r(9,A,A.return)}var re=A.sibling;if(re!==null){re.return=A.return,Ce=re;break e}Ce=A.return}}var te=e.current;for(Ce=te;Ce!==null;){N=Ce;var ae=N.child;if((N.subtreeFlags&2064)!==0&&ae!==null)ae.return=N,Ce=ae;else e:for(N=te;Ce!==null;){if(Y=Ce,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Ui(9,Y)}}catch(Me){Ye(Y,Y.return,Me)}if(Y===N){Ce=null;break e}var Ae=Y.sibling;if(Ae!==null){Ae.return=Y.return,Ce=Ae;break e}Ce=Y.return}}if(Be=g,wn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ei,e)}catch{}u=!0}return u}finally{ze=a,Nt.transition=t}}return!1}function lc(e,t,a){t=mr(a,t),t=Tl(e,t,1),e=Pn(e,t,1),t=Et(),e!==null&&(_r(e,1,t),wt(e,t))}function Ye(e,t,a){if(e.tag===3)lc(e,e,a);else for(;t!==null;){if(t.tag===3){lc(t,e,a);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rn===null||!Rn.has(u))){e=mr(a,e),e=Pl(t,e,1),t=Pn(t,e,1),e=Et(),t!==null&&(_r(t,1,e),wt(t,e));break}}t=t.return}}function Ju(e,t,a){var u=e.pingCache;u!==null&&u.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&a,ct===e&&(pt&a)===a&&(ot===4||ot===3&&(pt&130023424)===pt&&500>et()-wo?Kn(e,0):bo|=a),wt(e,t)}function cc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var a=Et();e=un(e,t),e!==null&&(_r(e,t,a),wt(e,a))}function Zu(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),cc(e,a)}function ed(e,t){var a=0;switch(e.tag){case 13:var u=e.stateNode,g=e.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(t),cc(e,a)}var uc;uc=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)At=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return At=!1,Uu(e,t,a);At=(e.flags&131072)!==0}else At=!1,qe&&(t.flags&1048576)!==0&&Wa(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Vi(e,t),e=t.pendingProps;var g=ar(t,mt.current);fr(t,a),g=to(null,t,u,e,g,a);var A=no();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(u)?(A=!0,_i(t)):A=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,$s(t),g.updater=Ni,t.stateNode=g,g._reactInternals=t,lo(t,u,e,a),t=fo(null,t,u,!0,A,a)):(t.tag=0,qe&&A&&js(t),xt(null,t,g,a),t=t.child),t;case 16:u=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,g=u._init,u=g(u._payload),t.type=u,g=t.tag=nd(u),e=Ht(u,e),g){case 0:t=ho(null,t,u,e,a);break e;case 1:t=Ol(null,t,u,e,a);break e;case 11:t=Ml(null,t,u,e,a);break e;case 14:t=Dl(null,t,u,Ht(u.type,e),a);break e}throw Error(s(306,u,""))}return t;case 0:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),ho(e,t,u,g,a);case 1:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),Ol(e,t,u,g,a);case 3:e:{if(Nl(t),e===null)throw Error(s(387));u=t.pendingProps,A=t.memoizedState,g=A.element,Ja(e,t),ki(t,u,null,a);var N=t.memoizedState;if(u=N.element,A.isDehydrated)if(A={element:u,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},t.updateQueue.baseState=A,t.memoizedState=A,t.flags&256){g=mr(Error(s(423)),t),t=jl(e,t,u,a,g);break e}else if(u!==g){g=mr(Error(s(424)),t),t=jl(e,t,u,a,g);break e}else for(Mt=Sn(t.stateNode.containerInfo.firstChild),kt=t,qe=!0,Wt=null,a=Ya(t,null,u,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ur(),u===g){t=hn(e,t,a);break e}xt(e,t,u,a)}t=t.child}return t;case 5:return tl(t),e===null&&Us(t),u=t.type,g=t.pendingProps,A=e!==null?e.memoizedProps:null,N=g.children,Ds(u,g)?N=null:A!==null&&Ds(u,A)&&(t.flags|=32),Il(e,t),xt(e,t,N,a),t.child;case 6:return e===null&&Us(t),null;case 13:return Vl(e,t,a);case 4:return Ks(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=dr(t,null,u,a):xt(e,t,u,a),t.child;case 11:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),Ml(e,t,u,g,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(u=t.type._context,g=t.pendingProps,A=t.memoizedProps,N=g.value,We(Pi,u._currentValue),u._currentValue=N,A!==null)if(zt(A.value,N)){if(A.children===g.children&&!_t.current){t=hn(e,t,a);break e}}else for(A=t.child,A!==null&&(A.return=t);A!==null;){var Y=A.dependencies;if(Y!==null){N=A.child;for(var Z=Y.firstContext;Z!==null;){if(Z.context===u){if(A.tag===1){Z=dn(-1,a&-a),Z.tag=2;var de=A.updateQueue;if(de!==null){de=de.shared;var _e=de.pending;_e===null?Z.next=Z:(Z.next=_e.next,_e.next=Z),de.pending=Z}}A.lanes|=a,Z=A.alternate,Z!==null&&(Z.lanes|=a),qs(A.return,a,t),Y.lanes|=a;break}Z=Z.next}}else if(A.tag===10)N=A.type===t.type?null:A.child;else if(A.tag===18){if(N=A.return,N===null)throw Error(s(341));N.lanes|=a,Y=N.alternate,Y!==null&&(Y.lanes|=a),qs(N,a,t),N=A.sibling}else N=A.child;if(N!==null)N.return=A;else for(N=A;N!==null;){if(N===t){N=null;break}if(A=N.sibling,A!==null){A.return=N.return,N=A;break}N=N.return}A=N}xt(e,t,g.children,a),t=t.child}return t;case 9:return g=t.type,u=t.pendingProps.children,fr(t,a),g=It(g),u=u(g),t.flags|=1,xt(e,t,u,a),t.child;case 14:return u=t.type,g=Ht(u,t.pendingProps),g=Ht(u.type,g),Dl(e,t,u,g,a);case 15:return Fl(e,t,t.type,t.pendingProps,a);case 17:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),Vi(e,t),t.tag=1,St(u)?(e=!0,_i(t)):e=!1,fr(t,a),bl(t,u,g),lo(t,u,g,a),fo(null,t,u,!0,e,a);case 19:return Ul(e,t,a);case 22:return Ll(e,t,a)}throw Error(s(156,t.tag))};function dc(e,t){return Ho(e,t)}function td(e,t,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,u){return new td(e,t,a,u)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nd(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===ve)return 14}return 2}function Fn(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Yi(e,t,a,u,g,A){var N=2;if(u=e,typeof e=="function")Fo(e)&&(N=1);else if(typeof e=="string")N=5;else e:switch(e){case G:return Qn(a.children,g,A,t);case $:N=8,g|=8;break;case q:return e=jt(12,a,t,g|2),e.elementType=q,e.lanes=A,e;case he:return e=jt(13,a,t,g),e.elementType=he,e.lanes=A,e;case fe:return e=jt(19,a,t,g),e.elementType=fe,e.lanes=A,e;case z:return Qi(a,g,A,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:N=10;break e;case J:N=9;break e;case me:N=11;break e;case ve:N=14;break e;case ce:N=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=jt(N,a,t,g),t.elementType=e,t.type=u,t.lanes=A,t}function Qn(e,t,a,u){return e=jt(7,e,u,t),e.lanes=a,e}function Qi(e,t,a,u){return e=jt(22,e,u,t),e.elementType=z,e.lanes=a,e.stateNode={isHidden:!1},e}function Lo(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function Io(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rd(e,t,a,u,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=u,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Oo(e,t,a,u,g,A,N,Y,Z){return e=new rd(e,t,a,Y,Z),t===1?(t=1,A===!0&&(t|=8)):t=0,A=jt(3,null,null,t),e.current=A,A.stateNode=e,A.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(A),e}function sd(e,t,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:u==null?null:""+u,children:e,containerInfo:t,implementation:a}}function hc(e){if(!e)return bn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(St(a))return Ba(e,a,t)}return t}function fc(e,t,a,u,g,A,N,Y,Z){return e=Oo(a,u,!0,e,g,A,N,Y,Z),e.context=hc(null),a=e.current,u=Et(),g=Mn(a),A=dn(u,g),A.callback=t??null,Pn(a,A,g),e.current.lanes=g,_r(e,g,u),wt(e,u),e}function Ji(e,t,a,u){var g=t.current,A=Et(),N=Mn(g);return a=hc(a),t.context===null?t.context=a:t.pendingContext=a,t=dn(A,N),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Pn(g,t,N),e!==null&&(Xt(e,g,N,A),Ri(e,g,N)),N}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function No(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function od(){return null}var mc=typeof reportError=="function"?reportError:function(e){console.error(e)};function jo(e){this._internalRoot=e}es.prototype.render=jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Ji(e,t,null,null)},es.prototype.unmount=jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Ji(null,e,null,null)}),t[on]=null}};function es(e){this._internalRoot=e}es.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<xn.length&&t!==0&&t<xn[a].priority;a++);xn.splice(a,0,e),a===0&&ta(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ts(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function ad(e,t,a,u,g){if(g){if(typeof u=="function"){var A=u;u=function(){var de=Zi(N);A.call(de)}}var N=fc(t,u,e,0,null,!1,!1,"",gc);return e._reactRootContainer=N,e[on]=N.current,Ir(e.nodeType===8?e.parentNode:e),$n(),N}for(;g=e.lastChild;)e.removeChild(g);if(typeof u=="function"){var Y=u;u=function(){var de=Zi(Z);Y.call(de)}}var Z=Oo(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=Z,e[on]=Z.current,Ir(e.nodeType===8?e.parentNode:e),$n(function(){Ji(t,Z,a,u)}),Z}function ns(e,t,a,u,g){var A=a._reactRootContainer;if(A){var N=A;if(typeof g=="function"){var Y=g;g=function(){var Z=Zi(N);Y.call(Z)}}Ji(t,N,e,g)}else N=ad(a,t,e,g,u);return Zi(N)}Yo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Er(t.pendingLanes);a!==0&&(ls(t,a|1),wt(t,et()),(Be&6)===0&&(vr=et()+500,wn()))}break;case 13:$n(function(){var u=un(e,1);if(u!==null){var g=Et();Xt(u,e,1,g)}}),No(e,1)}},cs=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var a=Et();Xt(t,e,134217728,a)}No(e,134217728)}},Qo=function(e){if(e.tag===13){var t=Mn(e),a=un(e,t);if(a!==null){var u=Et();Xt(a,e,t,u)}No(e,t)}},Jo=function(){return ze},Zo=function(e,t){var a=ze;try{return ze=e,t()}finally{ze=a}},Ze=function(e,t,a){switch(t){case"input":if(ue(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var u=a[t];if(u!==e&&u.form===e.form){var g=xi(u);if(!g)throw Error(s(90));Q(u),ue(u,g)}}}break;case"textarea":Ne(e,a);break;case"select":t=a.value,t!=null&&Pe(e,!!a.multiple,t,!1)}},Bt=ko,In=$n;var ld={usingClientEntryPoint:!1,Events:[jr,sr,xi,ht,rn,ko]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cd={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zo(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||od,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{ei=rs.inject(cd),Jt=rs}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ld,reactDom_production_min.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(s(200));return sd(e,t,null,a)},reactDom_production_min.createRoot=function(e,t){if(!Vo(e))throw Error(s(299));var a=!1,u="",g=mc;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Oo(e,1,!1,null,null,a,!1,u,g),e[on]=t.current,Ir(e.nodeType===8?e.parentNode:e),new jo(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=zo(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return $n(e)},reactDom_production_min.hydrate=function(e,t,a){if(!ts(t))throw Error(s(200));return ns(null,e,t,!0,a)},reactDom_production_min.hydrateRoot=function(e,t,a){if(!Vo(e))throw Error(s(405));var u=a!=null&&a.hydratedSources||null,g=!1,A="",N=mc;if(a!=null&&(a.unstable_strictMode===!0&&(g=!0),a.identifierPrefix!==void 0&&(A=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),t=fc(t,null,e,1,a??null,g,!1,A,N),e[on]=t.current,Ir(e),u)for(e=0;e<u.length;e++)a=u[e],g=a._getVersion,g=g(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,g]:t.mutableSourceEagerHydrationData.push(a,g);return new es(t)},reactDom_production_min.render=function(e,t,a){if(!ts(t))throw Error(s(200));return ns(null,e,t,!1,a)},reactDom_production_min.unmountComponentAtNode=function(e){if(!ts(e))throw Error(s(40));return e._reactRootContainer?($n(function(){ns(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=ko,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,a,u){if(!ts(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ns(e,t,a,!1,u)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var i=requireReactDom();return client.createRoot=i.createRoot,client.hydrateRoot=i.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,o)=>o?o.toUpperCase():s.toLowerCase()),toPascalCase=i=>{const n=toCamelCase(i);return n.charAt(0).toUpperCase()+n.slice(1)},mergeClasses=(...i)=>i.filter((n,s,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===s).join(" ").trim(),hasA11yProp=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=reactExports.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:m,iconNode:f,..._},x)=>reactExports.createElement("svg",{ref:x,...defaultAttributes,width:n,height:n,stroke:i,strokeWidth:o?Number(s)*24/Number(n):s,className:mergeClasses("lucide",c),...!m&&!hasA11yProp(_)&&{"aria-hidden":"true"},..._},[...f.map(([d,l])=>reactExports.createElement(d,l)),...Array.isArray(m)?m:[m]]));const createLucideIcon=(i,n)=>{const s=reactExports.forwardRef(({className:o,...c},m)=>reactExports.createElement(Icon,{ref:m,iconNode:n,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(i))}`,`lucide-${i}`,o),...c}));return s.displayName=toPascalCase(i),s};const __iconNode$j=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$j);const __iconNode$i=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$i);const __iconNode$h=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ArrowUp=createLucideIcon("arrow-up",__iconNode$h);const __iconNode$g=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$g);const __iconNode$f=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],Brush=createLucideIcon("brush",__iconNode$f);const __iconNode$e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$e);const __iconNode$d=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$d);const __iconNode$c=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Dices=createLucideIcon("dices",__iconNode$c);const __iconNode$b=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$b);const __iconNode$a=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$a);const __iconNode$9=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],FlaskConical=createLucideIcon("flask-conical",__iconNode$9);const __iconNode$8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Grid3x3=createLucideIcon("grid-3x3",__iconNode$8);const __iconNode$7=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Maximize=createLucideIcon("maximize",__iconNode$7);const __iconNode$6=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],Minimize=createLucideIcon("minimize",__iconNode$6);const __iconNode$5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$5);const __iconNode$4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Volume2=createLucideIcon("volume-2",__iconNode$4);const __iconNode$3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],VolumeX=createLucideIcon("volume-x",__iconNode$3);const __iconNode$2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$2);const __iconNode$1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon("zoom-in",__iconNode$1);const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomOut=createLucideIcon("zoom-out",__iconNode),LayoutGroupContext=reactExports.createContext({});function useConstant(i){const n=reactExports.useRef(null);return n.current===null&&(n.current=i()),n.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(i,n){i.indexOf(n)===-1&&i.push(n)}function removeItem(i,n){const s=i.indexOf(n);s>-1&&i.splice(s,1)}const clamp=(i,n,s)=>s>n?n:s<i?i:s;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function isObject(i){return typeof i=="object"&&i!==null}const isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function memo(i){let n;return()=>(n===void 0&&(n=i()),n)}const noop=i=>i,combineFunctions=(i,n)=>s=>n(i(s)),pipe=(...i)=>i.reduce(combineFunctions),progress=(i,n,s)=>{const o=n-i;return o===0?1:(s-i)/o};class SubscriptionManager{constructor(){this.subscriptions=[]}add(n){return addUniqueItem(this.subscriptions,n),()=>removeItem(this.subscriptions,n)}notify(n,s,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](n,s,o);else for(let m=0;m<c;m++){const f=this.subscriptions[m];f&&f(n,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3;function velocityPerSecond(i,n){return n?i*(1e3/n):0}const calcBezier=(i,n,s)=>(((1-3*s+3*n)*i+(3*s-6*n))*i+3*n)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,n,s,o,c){let m,f,_=0;do f=n+(s-n)/2,m=calcBezier(f,o,c)-i,m>0?s=f:n=f;while(Math.abs(m)>subdivisionPrecision&&++_<subdivisionMaxIterations);return f}function cubicBezier(i,n,s,o){if(i===n&&s===o)return noop;const c=m=>binarySubdivide(m,0,1,i,s);return m=>m===0||m===1?m:calcBezier(c(m),n,o)}const mirrorEasing=i=>n=>n<=.5?i(2*n)/2:(2-i(2*(1-n)))/2,reverseEasing=i=>n=>1-i(1-n),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=i=>typeof i=="string",easingDefinitionToFunction=i=>{if(isBezierDefinition(i)){invariant$1(i.length===4);const[n,s,o,c]=i;return cubicBezier(n,s,o,c)}else if(isValidEasing(i))return easingLookup[i];return i},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(i,n){let s=new Set,o=new Set,c=!1,m=!1;const f=new WeakSet;let _={delta:0,timestamp:0,isProcessing:!1};function x(l){f.has(l)&&(d.schedule(l),i()),l(_)}const d={schedule:(l,h=!1,y=!1)=>{const p=y&&c?s:o;return h&&f.add(l),p.has(l)||p.add(l),l},cancel:l=>{o.delete(l),f.delete(l)},process:l=>{if(_=l,c){m=!0;return}c=!0,[s,o]=[o,s],s.forEach(x),s.clear(),c=!1,m&&(m=!1,d.process(l))}};return d}const maxElapsed=40;function createRenderBatcher(i,n){let s=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},m=()=>s=!0,f=stepsOrder.reduce((O,I)=>(O[I]=createRenderStep(m),O),{}),{setup:_,read:x,resolveKeyframes:d,preUpdate:l,update:h,preRender:y,render:v,postRender:p}=f,b=()=>{const O=MotionGlobalConfig.useManualTiming?c.timestamp:performance.now();s=!1,MotionGlobalConfig.useManualTiming||(c.delta=o?1e3/60:Math.max(Math.min(O-c.timestamp,maxElapsed),1)),c.timestamp=O,c.isProcessing=!0,_.process(c),x.process(c),d.process(c),l.process(c),h.process(c),y.process(c),v.process(c),p.process(c),c.isProcessing=!1,s&&n&&(o=!1,i(b))},C=()=>{s=!0,o=!0,c.isProcessing||i(b)};return{schedule:stepsOrder.reduce((O,I)=>{const R=f[I];return O[I]=(F,G=!1,$=!1)=>(s||C(),R.schedule(F,G,$)),O},{}),cancel:O=>{for(let I=0;I<stepsOrder.length;I++)f[stepsOrder[I]].cancel(O)},state:c,steps:f}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},checkStringStartsWith=i=>n=>typeof n=="string"&&n.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(i){return i==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(i,n)=>s=>!!(typeof s=="string"&&singleColorRegex.test(s)&&s.startsWith(i)||n&&!isNullish(s)&&Object.prototype.hasOwnProperty.call(s,n)),splitColor=(i,n,s)=>o=>{if(typeof o!="string")return o;const[c,m,f,_]=o.match(floatRegex);return{[i]:parseFloat(c),[n]:parseFloat(m),[s]:parseFloat(f),alpha:_!==void 0?parseFloat(_):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:n,blue:s,alpha:o=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(n)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(o))+")"};function parseHex(i){let n="",s="",o="",c="";return i.length>5?(n=i.substring(1,3),s=i.substring(3,5),o=i.substring(5,7),c=i.substring(7,9)):(n=i.substring(1,2),s=i.substring(2,3),o=i.substring(3,4),c=i.substring(4,5),n+=n,s+=s,o+=o,c+=c),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=i=>({test:n=>typeof n=="string"&&n.endsWith(i)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(n))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(o))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i),getAnimatableNone:i=>{const n=color.parse(i);return n.alpha=0,color.transform(n)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(i){return isNaN(i)&&typeof i=="string"&&(i.match(floatRegex)?.length||0)+(i.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const n=i.toString(),s=[],o={color:[],number:[],var:[]},c=[];let m=0;const _=n.replace(complexRegex,x=>(color.test(x)?(o.color.push(m),c.push(COLOR_TOKEN),s.push(color.parse(x))):x.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(m),c.push(VAR_TOKEN),s.push(x)):(o.number.push(m),c.push(NUMBER_TOKEN),s.push(parseFloat(x))),++m,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:s,split:_,indexes:o,types:c}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:n,types:s}=analyseComplexValue(i),o=n.length;return c=>{let m="";for(let f=0;f<o;f++)if(m+=n[f],c[f]!==void 0){const _=s[f];_===NUMBER_TOKEN?m+=sanitize(c[f]):_===COLOR_TOKEN?m+=color.transform(c[f]):m+=c[f]}return m}}const convertNumbersToZero=i=>typeof i=="number"?0:color.test(i)?color.getAnimatableNone(i):i;function getAnimatableNone$1(i){const n=parseComplexValue(i);return createTransformer(i)(n.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(i,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(n-i)*6*s:s<1/2?n:s<2/3?i+(n-i)*(2/3-s)*6:i}function hslaToRgba({hue:i,saturation:n,lightness:s,alpha:o}){i/=360,n/=100,s/=100;let c=0,m=0,f=0;if(!n)c=m=f=s;else{const _=s<.5?s*(1+n):s+n-s*n,x=2*s-_;c=hueToRgb(x,_,i+1/3),m=hueToRgb(x,_,i),f=hueToRgb(x,_,i-1/3)}return{red:Math.round(c*255),green:Math.round(m*255),blue:Math.round(f*255),alpha:o}}function mixImmediate(i,n){return s=>s>0?n:i}const mixNumber$1=(i,n,s)=>i+(n-i)*s,mixLinearColor=(i,n,s)=>{const o=i*i,c=s*(n*n-o)+o;return c<0?0:Math.sqrt(c)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(n=>n.test(i));function asRGBA(i){const n=getColorType(i);if(!n)return!1;let s=n.parse(i);return n===hsla&&(s=hslaToRgba(s)),s}const mixColor=(i,n)=>{const s=asRGBA(i),o=asRGBA(n);if(!s||!o)return mixImmediate(i,n);const c={...s};return m=>(c.red=mixLinearColor(s.red,o.red,m),c.green=mixLinearColor(s.green,o.green,m),c.blue=mixLinearColor(s.blue,o.blue,m),c.alpha=mixNumber$1(s.alpha,o.alpha,m),rgba.transform(c))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(i,n){return invisibleValues.has(i)?s=>s<=0?i:n:s=>s>=1?n:i}function mixNumber(i,n){return s=>mixNumber$1(i,n,s)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,n){const s=[...i],o=s.length,c=i.map((m,f)=>getMixer(m)(m,n[f]));return m=>{for(let f=0;f<o;f++)s[f]=c[f](m);return s}}function mixObject(i,n){const s={...i,...n},o={};for(const c in s)i[c]!==void 0&&n[c]!==void 0&&(o[c]=getMixer(i[c])(i[c],n[c]));return c=>{for(const m in o)s[m]=o[m](c);return s}}function matchOrder(i,n){const s=[],o={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const m=n.types[c],f=i.indexes[m][o[m]],_=i.values[f]??0;s[c]=_,o[m]++}return s}const mixComplex=(i,n)=>{const s=complex.createTransformer(n),o=analyseComplexValue(i),c=analyseComplexValue(n);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?invisibleValues.has(i)&&!c.values.length||invisibleValues.has(n)&&!o.values.length?mixVisibility(i,n):pipe(mixArray(matchOrder(o,c),c.values),s):mixImmediate(i,n)};function mix(i,n,s){return typeof i=="number"&&typeof n=="number"&&typeof s=="number"?mixNumber$1(i,n,s):getMixer(i)(i,n)}const frameloopDriver=i=>{const n=({timestamp:s})=>i(s);return{start:(s=!0)=>frame.update(n,s),stop:()=>cancelFrame(n),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(i,n,s=10)=>{let o="";const c=Math.max(Math.round(n/s),2);for(let m=0;m<c;m++)o+=Math.round(i(m/(c-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let n=0;const s=50;let o=i.next(n);for(;!o.done&&n<maxGeneratorDuration;)n+=s,o=i.next(n);return n>=maxGeneratorDuration?1/0:n}function createGeneratorEasing(i,n=100,s){const o=s({...i,keyframes:[0,n]}),c=Math.min(calcGeneratorDuration(o),maxGeneratorDuration);return{type:"keyframes",ease:m=>o.next(c*m).value/n,duration:millisecondsToSeconds(c)}}const velocitySampleDuration=5;function calcGeneratorVelocity(i,n,s){const o=Math.max(n-velocitySampleDuration,0);return velocityPerSecond(s-i(o),n-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:i=springDefaults.duration,bounce:n=springDefaults.bounce,velocity:s=springDefaults.velocity,mass:o=springDefaults.mass}){let c,m,f=1-n;f=clamp(springDefaults.minDamping,springDefaults.maxDamping,f),i=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(i)),f<1?(c=d=>{const l=d*f,h=l*i,y=l-s,v=calcAngularFreq(d,f),p=Math.exp(-h);return safeMin-y/v*p},m=d=>{const h=d*f*i,y=h*s+s,v=Math.pow(f,2)*Math.pow(d,2)*i,p=Math.exp(-h),b=calcAngularFreq(Math.pow(d,2),f);return(-c(d)+safeMin>0?-1:1)*((y-v)*p)/b}):(c=d=>{const l=Math.exp(-d*i),h=(d-s)*i+1;return-safeMin+l*h},m=d=>{const l=Math.exp(-d*i),h=(s-d)*(i*i);return l*h});const _=5/i,x=approximateRoot(c,m,_);if(i=secondsToMilliseconds(i),isNaN(x))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:i};{const d=Math.pow(x,2)*o;return{stiffness:d,damping:f*2*Math.sqrt(o*d),duration:i}}}const rootIterations=12;function approximateRoot(i,n,s){let o=s;for(let c=1;c<rootIterations;c++)o=o-i(o)/n(o);return o}function calcAngularFreq(i,n){return i*Math.sqrt(1-n*n)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,n){return n.some(s=>i[s]!==void 0)}function getSpringOptions(i){let n={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys))if(i.visualDuration){const s=i.visualDuration,o=2*Math.PI/(s*1.2),c=o*o,m=2*clamp(.05,1,1-(i.bounce||0))*Math.sqrt(c);n={...n,mass:springDefaults.mass,stiffness:c,damping:m}}else{const s=findSpring(i);n={...n,...s,mass:springDefaults.mass},n.isResolvedFromDuration=!0}return n}function spring(i=springDefaults.visualDuration,n=springDefaults.bounce){const s=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:n}:i;let{restSpeed:o,restDelta:c}=s;const m=s.keyframes[0],f=s.keyframes[s.keyframes.length-1],_={done:!1,value:m},{stiffness:x,damping:d,mass:l,duration:h,velocity:y,isResolvedFromDuration:v}=getSpringOptions({...s,velocity:-millisecondsToSeconds(s.velocity||0)}),p=y||0,b=d/(2*Math.sqrt(x*l)),C=f-m,S=millisecondsToSeconds(Math.sqrt(x/l)),D=Math.abs(C)<5;o||(o=D?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),c||(c=D?springDefaults.restDelta.granular:springDefaults.restDelta.default);let O;if(b<1){const R=calcAngularFreq(S,b);O=F=>{const G=Math.exp(-b*S*F);return f-G*((p+b*S*C)/R*Math.sin(R*F)+C*Math.cos(R*F))}}else if(b===1)O=R=>f-Math.exp(-S*R)*(C+(p+S*C)*R);else{const R=S*Math.sqrt(b*b-1);O=F=>{const G=Math.exp(-b*S*F),$=Math.min(R*F,300);return f-G*((p+b*S*C)*Math.sinh($)+R*C*Math.cosh($))/R}}const I={calculatedDuration:v&&h||null,next:R=>{const F=O(R);if(v)_.done=R>=h;else{let G=R===0?p:0;b<1&&(G=R===0?secondsToMilliseconds(p):calcGeneratorVelocity(O,R,F));const $=Math.abs(G)<=o,q=Math.abs(f-F)<=c;_.done=$&&q}return _.value=_.done?f:F,_},toString:()=>{const R=Math.min(calcGeneratorDuration(I),maxGeneratorDuration),F=generateLinearEasing(G=>I.next(R*G).value,R,30);return R+"ms "+F},toTransition:()=>{}};return I}spring.applyToOptions=i=>{const n=createGeneratorEasing(i,100,spring);return i.ease=n.ease,i.duration=secondsToMilliseconds(n.duration),i.type="keyframes",i};function inertia({keyframes:i,velocity:n=0,power:s=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:m=500,modifyTarget:f,min:_,max:x,restDelta:d=.5,restSpeed:l}){const h=i[0],y={done:!1,value:h},v=$=>_!==void 0&&$<_||x!==void 0&&$>x,p=$=>_===void 0?x:x===void 0||Math.abs(_-$)<Math.abs(x-$)?_:x;let b=s*n;const C=h+b,S=f===void 0?C:f(C);S!==C&&(b=S-h);const D=$=>-b*Math.exp(-$/o),O=$=>S+D($),I=$=>{const q=D($),ee=O($);y.done=Math.abs(q)<=d,y.value=y.done?S:ee};let R,F;const G=$=>{v(y.value)&&(R=$,F=spring({keyframes:[y.value,p(y.value)],velocity:calcGeneratorVelocity(O,$,y.value),damping:c,stiffness:m,restDelta:d,restSpeed:l}))};return G(0),{calculatedDuration:null,next:$=>{let q=!1;return!F&&R===void 0&&(q=!0,I($),G($)),R!==void 0&&$>=R?F.next($-R):(!q&&I($),y)}}}function createMixers(i,n,s){const o=[],c=s||MotionGlobalConfig.mix||mix,m=i.length-1;for(let f=0;f<m;f++){let _=c(i[f],i[f+1]);if(n){const x=Array.isArray(n)?n[f]||noop:n;_=pipe(x,_)}o.push(_)}return o}function interpolate(i,n,{clamp:s=!0,ease:o,mixer:c}={}){const m=i.length;if(invariant$1(m===n.length),m===1)return()=>n[0];if(m===2&&n[0]===n[1])return()=>n[1];const f=i[0]===i[1];i[0]>i[m-1]&&(i=[...i].reverse(),n=[...n].reverse());const _=createMixers(n,o,c),x=_.length,d=l=>{if(f&&l<i[0])return n[0];let h=0;if(x>1)for(;h<i.length-2&&!(l<i[h+1]);h++);const y=progress(i[h],i[h+1],l);return _[h](y)};return s?l=>d(clamp(i[0],i[m-1],l)):d}function fillOffset(i,n){const s=i[i.length-1];for(let o=1;o<=n;o++){const c=progress(0,n,o);i.push(mixNumber$1(s,1,c))}}function defaultOffset(i){const n=[0];return fillOffset(n,i.length-1),n}function convertOffsetToTimes(i,n){return i.map(s=>s*n)}function defaultEasing(i,n){return i.map(()=>n||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:n,times:s,ease:o="easeInOut"}){const c=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),m={done:!1,value:n[0]},f=convertOffsetToTimes(s&&s.length===n.length?s:defaultOffset(n),i),_=interpolate(f,n,{ease:Array.isArray(c)?c:defaultEasing(n,c)});return{calculatedDuration:i,next:x=>(m.value=_(x),m.done=x>=i,m)}}const isNotNull$1=i=>i!==null;function getFinalKeyframe$1(i,{repeat:n,repeatType:s="loop"},o,c=1){const m=i.filter(isNotNull$1),_=c<0||n&&s!=="loop"&&n%2===1?0:m.length-1;return!_||o===void 0?m[_]:o}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(i){typeof i.type=="string"&&(i.type=transitionTypeMap[i.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,s){return this.finished.then(n,s)}}const percentToProgress=i=>i/100;class JSAnimation extends WithPromise{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;replaceTransitionType(n);const{type:s=keyframes,repeat:o=0,repeatDelay:c=0,repeatType:m,velocity:f=0}=n;let{keyframes:_}=n;const x=s||keyframes;x!==keyframes&&typeof _[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(_[0],_[1])),_=[0,100]);const d=x({...n,keyframes:_});m==="mirror"&&(this.mirroredGenerator=x({...n,keyframes:[..._].reverse(),velocity:-f})),d.calculatedDuration===null&&(d.calculatedDuration=calcGeneratorDuration(d));const{calculatedDuration:l}=d;this.calculatedDuration=l,this.resolvedDuration=l+c,this.totalDuration=this.resolvedDuration*(o+1)-c,this.generator=d}updateTime(n){const s=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(n,s=!1){const{generator:o,totalDuration:c,mixKeyframes:m,mirroredGenerator:f,resolvedDuration:_,calculatedDuration:x}=this;if(this.startTime===null)return o.next(0);const{delay:d=0,keyframes:l,repeat:h,repeatType:y,repeatDelay:v,type:p,onUpdate:b,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-c/this.speed,this.startTime)),s?this.currentTime=n:this.updateTime(n);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?S<0:S>c;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let O=this.currentTime,I=o;if(h){const $=Math.min(this.currentTime,c)/_;let q=Math.floor($),ee=$%1;!ee&&$>=1&&(ee=1),ee===1&&q--,q=Math.min(q,h+1),!!(q%2)&&(y==="reverse"?(ee=1-ee,v&&(ee-=v/_)):y==="mirror"&&(I=f)),O=clamp(0,1,ee)*_}const R=D?{done:!1,value:l[0]}:I.next(O);m&&(R.value=m(R.value));let{done:F}=R;!D&&x!==null&&(F=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return G&&p!==inertia&&(R.value=getFinalKeyframe$1(l,this.options,C,this.speed)),b&&b(R.value),G&&this.finish(),R}then(n,s){return this.finished.then(n,s)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+millisecondsToSeconds(n)}get time(){return millisecondsToSeconds(this.currentTime)}set time(n){n=secondsToMilliseconds(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(time.now());const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=frameloopDriver,startTime:s}=this.options;this.driver||(this.driver=n(c=>this.tick(c))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function fillWildcards(i){for(let n=1;n<i.length;n++)i[n]??(i[n]=i[n-1])}const radToDeg=i=>i*180/Math.PI,rotate=i=>{const n=radToDeg(Math.atan2(i[1],i[0]));return rebaseAngle(n)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate,rotateZ:rotate,skewX:i=>radToDeg(Math.atan(i[1])),skewY:i=>radToDeg(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},rebaseAngle=i=>(i=i%360,i<0&&(i+=360),i),rotateZ=rotate,scaleX=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),scaleY=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:i=>(scaleX(i)+scaleY(i))/2,rotateX:i=>rebaseAngle(radToDeg(Math.atan2(i[6],i[5]))),rotateY:i=>rebaseAngle(radToDeg(Math.atan2(-i[2],i[0]))),rotateZ,rotate:rotateZ,skewX:i=>radToDeg(Math.atan(i[4])),skewY:i=>radToDeg(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function defaultTransformValue(i){return i.includes("scale")?1:0}function parseValueFromTransform(i,n){if(!i||i==="none")return defaultTransformValue(n);const s=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(s)o=matrix3dParsers,c=s;else{const _=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=matrix2dParsers,c=_}if(!c)return defaultTransformValue(n);const m=o[n],f=c[1].split(",").map(convertTransformToNumber);return typeof m=="function"?m(f):f[m]}const readTransformValue=(i,n)=>{const{transform:s="none"}=getComputedStyle(i);return parseValueFromTransform(s,n)};function convertTransformToNumber(i){return parseFloat(i.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=i=>i===number||i===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const n=[];return nonTranslationalTransformKeys.forEach(s=>{const o=i.getValue(s);o!==void 0&&(n.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),n}const positionalValues={width:({x:i},{paddingLeft:n="0",paddingRight:s="0"})=>i.max-i.min-parseFloat(n)-parseFloat(s),height:({y:i},{paddingTop:n="0",paddingBottom:s="0"})=>i.max-i.min-parseFloat(n)-parseFloat(s),top:(i,{top:n})=>parseFloat(n),left:(i,{left:n})=>parseFloat(n),bottom:({y:i},{top:n})=>parseFloat(n)+(i.max-i.min),right:({x:i},{left:n})=>parseFloat(n)+(i.max-i.min),x:(i,{transform:n})=>parseValueFromTransform(n,"x"),y:(i,{transform:n})=>parseValueFromTransform(n,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const i=Array.from(toResolve).filter(o=>o.needsMeasurement),n=new Set(i.map(o=>o.element)),s=new Map;n.forEach(o=>{const c=removeNonTranslationalTransform(o);c.length&&(s.set(o,c),o.render())}),i.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const c=s.get(o);c&&c.forEach(([m,f])=>{o.getValue(m)?.set(f)})}),i.forEach(o=>o.measureEndState()),i.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(n,s,o,c,m,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=o,this.motionValue=c,this.element=m,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:o,motionValue:c}=this;if(n[0]===null){const m=c?.get(),f=n[n.length-1];if(m!==void 0)n[0]=m;else if(o&&s){const _=o.readValue(s,f);_!=null&&(n[0]=_)}n[0]===void 0&&(n[0]=f),c&&m===void 0&&c.set(n[0])}fillWildcards(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=i=>i.startsWith("--");function setStyle(i,n,s){isCSSVar(n)?i.style.setProperty(n,s):i.style[n]=s}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(i,n){const s=memo(i);return()=>supportsFlags[n]??s()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([i,n,s,o])=>`cubic-bezier(${i}, ${n}, ${s}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i,n){if(i)return typeof i=="function"?supportsLinearEasing()?generateLinearEasing(i,n):"ease-out":isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(s=>mapEasingToNativeEasing(s,n)||supportedWaapiEasing.easeOut):supportedWaapiEasing[i]}function startWaapiAnimation(i,n,s,{delay:o=0,duration:c=300,repeat:m=0,repeatType:f="loop",ease:_="easeOut",times:x}={},d=void 0){const l={[n]:s};x&&(l.offset=x);const h=mapEasingToNativeEasing(_,c);Array.isArray(h)&&(l.easing=h);const y={delay:o,duration:c,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:m+1,direction:f==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),i.animate(l,y)}function isGenerator(i){return typeof i=="function"&&"applyToOptions"in i}function applyGeneratorOptions({type:i,...n}){return isGenerator(i)&&supportsLinearEasing()?i.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class NativeAnimation extends WithPromise{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:s,name:o,keyframes:c,pseudoElement:m,allowFlatten:f=!1,finalKeyframe:_,onComplete:x}=n;this.isPseudoElement=!!m,this.allowFlatten=f,this.options=n,invariant$1(typeof n.type!="string");const d=applyGeneratorOptions(n);this.animation=startWaapiAnimation(s,o,c,d,m),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!m){const l=getFinalKeyframe$1(c,this.options,_,this.speed);this.updateMotionValue?this.updateMotionValue(l):setStyle(s,o,l),this.animation.cancel()}x?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+millisecondsToSeconds(n)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&supportsScrollTimeline()?(this.animation.timeline=n,noop):s(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(i){return i in unsupportedEasingFunctions}function replaceStringEasing(i){typeof i.ease=="string"&&isUnsupportedEase(i.ease)&&(i.ease=unsupportedEasingFunctions[i.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(n){replaceStringEasing(n),replaceTransitionType(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:s,onUpdate:o,onComplete:c,element:m,...f}=this.options;if(!s)return;if(n!==void 0){s.set(n);return}const _=new JSAnimation({...f,autoplay:!1}),x=secondsToMilliseconds(this.finishedTime??this.time);s.setWithVelocity(_.sample(x-sampleDelta).value,_.sample(x).value,sampleDelta),_.stop()}}const isAnimatable=(i,n)=>n==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const n=i[0];if(i.length===1)return!0;for(let s=0;s<i.length;s++)if(i[s]!==n)return!0}function canAnimate(i,n,s,o){const c=i[0];if(c===null)return!1;if(n==="display"||n==="visibility")return!0;const m=i[i.length-1],f=isAnimatable(c,n),_=isAnimatable(m,n);return!f||!_?!1:hasKeyframesChanged(i)||(s==="spring"||isGenerator(s))&&o}function makeAnimationInstant(i){i.duration=0,i.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(i){const{motionValue:n,name:s,repeatDelay:o,repeatType:c,damping:m,type:f}=i;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:d}=n.owner.getProps();return supportsWaapi()&&s&&acceleratedValues.has(s)&&(s!=="transform"||!d)&&!x&&!o&&c!=="mirror"&&m!==0&&f!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:n=!0,delay:s=0,type:o="keyframes",repeat:c=0,repeatDelay:m=0,repeatType:f="loop",keyframes:_,name:x,motionValue:d,element:l,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time.now();const y={autoplay:n,delay:s,type:o,repeat:c,repeatDelay:m,repeatType:f,name:x,motionValue:d,element:l,...h},v=l?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new v(_,(p,b,C)=>this.onKeyframesResolved(p,b,y,!C),x,d,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,s,o,c){this.keyframeResolver=void 0;const{name:m,type:f,velocity:_,delay:x,isHandoff:d,onUpdate:l}=o;this.resolvedAt=time.now(),canAnimate(n,m,f,_)||((MotionGlobalConfig.instantAnimations||!x)&&l?.(getFinalKeyframe$1(n,o,s)),n[0]=n[n.length-1],makeAnimationInstant(o),o.repeat=0);const y={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:n},v=!d&&supportsBrowserAnimation(y)?new NativeAnimationExtended({...y,element:y.motionValue.owner.current}):new JSAnimation(y);v.finished.then(()=>this.notifyFinished()).catch(noop),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(n,s){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const n=splitCSSVariableRegex.exec(i);if(!n)return[,];const[,s,o,c]=n;return[`--${s??o}`,c]}function getVariableValue(i,n,s=1){const[o,c]=parseCSSVariable(i);if(!o)return;const m=window.getComputedStyle(n).getPropertyValue(o);if(m){const f=m.trim();return isNumericalString(f)?parseFloat(f):f}return isCSSVariableToken(c)?getVariableValue(c,n,s+1):c}function getValueTransition(i,n){return i?.[n]??i?.default??i}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:i=>i==="auto",parse:i=>i},testValueType=i=>n=>n.test(i),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i));function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[n,s]=i.slice(0,-1).split("(");if(n==="drop-shadow")return i;const[o]=s.match(floatRegex)||[];if(!o)return i;const c=s.replace(o,"");let m=maxDefaults.has(n)?1:0;return o!==s&&(m*=100),n+"("+m+c+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:i=>{const n=i.match(functionRegex);return n?n.map(applyDefaultFilter).join(" "):i}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,n){let s=getDefaultValueType(i);return s!==filter&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(i,n,s){let o=0,c;for(;o<i.length&&!c;){const m=i[o];typeof m=="string"&&!invalidTemplates.has(m)&&analyseComplexValue(m).values.length&&(c=i[o]),o++}if(c&&s)for(const m of n)i[m]=getAnimatableNone(s,c)}class DOMKeyframesResolver extends KeyframeResolver{constructor(n,s,o,c,m){super(n,s,o,c,m,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let x=0;x<n.length;x++){let d=n[x];if(typeof d=="string"&&(d=d.trim(),isCSSVariableToken(d))){const l=getVariableValue(d,s.current);l!==void 0&&(n[x]=l),x===n.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||n.length!==2)return;const[c,m]=n,f=findDimensionValueType(c),_=findDimensionValueType(m);if(f!==_)if(isNumOrPxType(f)&&isNumOrPxType(_))for(let x=0;x<n.length;x++){const d=n[x];typeof d=="string"&&(n[x]=parseFloat(d))}else positionalValues[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,o=[];for(let c=0;c<n.length;c++)(n[c]===null||isNone(n[c]))&&o.push(c);o.length&&makeNoneKeyframesAnimatable(n,o,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const c=s[s.length-1];c!==void 0&&n.getValue(o,c).jump(c,!1)}measureEndState(){const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const c=n.getValue(s);c&&c.jump(this.measuredOrigin,!1);const m=o.length-1,f=o[m];o[m]=positionalValues[s](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([_,x])=>{n.getValue(_).set(x)}),this.resolveNoneKeyframes()}}function resolveElements(i,n,s){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let o=document;const c=s?.[i]??o.querySelectorAll(i);return c?Array.from(c):[]}return Array.from(i)}const getValueAsType=(i,n)=>n&&typeof i=="number"?n.transform(i):i;function isHTMLElement(i){return isObject(i)&&"offsetHeight"in i}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(n,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const c=time.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=time.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new SubscriptionManager);const o=this.events[n].add(s);return n==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,n){return new MotionValue(i,n)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(i){return i==="x"||i==="y"?isDragging[i]?null:(isDragging[i]=!0,()=>{isDragging[i]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(i,n){const s=resolveElements(i),o=new AbortController,c={passive:!0,...n,signal:o.signal};return[s,c,()=>o.abort()]}function isValidHover(i){return!(i.pointerType==="touch"||isDragActive())}function hover(i,n,s={}){const[o,c,m]=setupGesture(i,s),f=_=>{if(!isValidHover(_))return;const{target:x}=_,d=n(x,_);if(typeof d!="function"||!x)return;const l=h=>{isValidHover(h)&&(d(h),x.removeEventListener("pointerleave",l))};x.addEventListener("pointerleave",l,c)};return o.forEach(_=>{_.addEventListener("pointerenter",f,c)}),m}const isNodeOrChild=(i,n)=>n?i===n?!0:isNodeOrChild(i,n.parentElement):!1,isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(i){return focusableElements.has(i.tagName)||i.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(i){return n=>{n.key==="Enter"&&i(n)}}function firePointerEvent(i,n){i.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(i,n)=>{const s=i.currentTarget;if(!s)return;const o=filterEvents(()=>{if(isPressing.has(s))return;firePointerEvent(s,"down");const c=filterEvents(()=>{firePointerEvent(s,"up")}),m=()=>firePointerEvent(s,"cancel");s.addEventListener("keyup",c,n),s.addEventListener("blur",m,n)});s.addEventListener("keydown",o,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),n)};function isValidPressEvent(i){return isPrimaryPointer(i)&&!isDragActive()}function press(i,n,s={}){const[o,c,m]=setupGesture(i,s),f=_=>{const x=_.currentTarget;if(!isValidPressEvent(_))return;isPressing.add(x);const d=n(x,_),l=(v,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",y),isPressing.has(x)&&isPressing.delete(x),isValidPressEvent(v)&&typeof d=="function"&&d(v,{success:p})},h=v=>{l(v,x===window||x===document||s.useGlobalTarget||isNodeOrChild(x,v.target))},y=v=>{l(v,!1)};window.addEventListener("pointerup",h,c),window.addEventListener("pointercancel",y,c)};return o.forEach(_=>{(s.useGlobalTarget?window:_).addEventListener("pointerdown",f,c),isHTMLElement(_)&&(_.addEventListener("focus",d=>enableKeyboardPress(d,c)),!isElementKeyboardAccessible(_)&&!_.hasAttribute("tabindex")&&(_.tabIndex=0))}),m}function isSVGElement(i){return isObject(i)&&"ownerSVGElement"in i}function isSVGSVGElement(i){return isSVGElement(i)&&i.tagName==="svg"}const isMotionValue=i=>!!(i&&i.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function setRef(i,n){if(typeof i=="function")return i(n);i!=null&&(i.current=n)}function composeRefs(...i){return n=>{let s=!1;const o=i.map(c=>{const m=setRef(c,n);return!s&&typeof m=="function"&&(s=!0),m});if(s)return()=>{for(let c=0;c<o.length;c++){const m=o[c];typeof m=="function"?m():setRef(i[c],null)}}}}function useComposedRefs(...i){return reactExports.useCallback(composeRefs(...i),i)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const o=s.offsetParent,c=isHTMLElement(o)&&o.offsetWidth||0,m=this.props.sizeRef.current;m.height=s.offsetHeight||0,m.width=s.offsetWidth||0,m.top=s.offsetTop,m.left=s.offsetLeft,m.right=c-m.width-m.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:n,anchorX:s,root:o}){const c=reactExports.useId(),m=reactExports.useRef(null),f=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:_}=reactExports.useContext(MotionConfigContext),x=useComposedRefs(m,i?.ref);return reactExports.useInsertionEffect(()=>{const{width:d,height:l,top:h,left:y,right:v}=f.current;if(n||!m.current||!d||!l)return;const p=s==="left"?`left: ${y}`:`right: ${v}`;m.current.dataset.motionPopId=c;const b=document.createElement("style");_&&(b.nonce=_);const C=o??document.head;return C.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${h}px !important;
          }
        `),()=>{C.contains(b)&&C.removeChild(b)}},[n]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:n,childRef:m,sizeRef:f,children:reactExports.cloneElement(i,{ref:x})})}const PresenceChild=({children:i,initial:n,isPresent:s,onExitComplete:o,custom:c,presenceAffectsLayout:m,mode:f,anchorX:_,root:x})=>{const d=useConstant(newChildrenMap),l=reactExports.useId();let h=!0,y=reactExports.useMemo(()=>(h=!1,{id:l,initial:n,isPresent:s,custom:c,onExitComplete:v=>{d.set(v,!0);for(const p of d.values())if(!p)return;o&&o()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[s,d,o]);return m&&h&&(y={...y}),reactExports.useMemo(()=>{d.forEach((v,p)=>d.set(p,!1))},[s]),reactExports.useEffect(()=>{!s&&!d.size&&o&&o()},[s]),f==="popLayout"&&(i=jsxRuntimeExports.jsx(PopChild,{isPresent:s,anchorX:_,root:x,children:i})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:y,children:i})};function newChildrenMap(){return new Map}function usePresence(i=!0){const n=reactExports.useContext(PresenceContext);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:c}=n,m=reactExports.useId();reactExports.useEffect(()=>{if(i)return c(m)},[i]);const f=reactExports.useCallback(()=>i&&o&&o(m),[m,o,i]);return!s&&o?[!1,f]:[!0]}const getChildKey=i=>i.key||"";function onlyElements(i){const n=[];return reactExports.Children.forEach(i,s=>{reactExports.isValidElement(s)&&n.push(s)}),n}const AnimatePresence=({children:i,custom:n,initial:s=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:m="sync",propagate:f=!1,anchorX:_="left",root:x})=>{const[d,l]=usePresence(f),h=reactExports.useMemo(()=>onlyElements(i),[i]),y=f&&!d?[]:h.map(getChildKey),v=reactExports.useRef(!0),p=reactExports.useRef(h),b=useConstant(()=>new Map),[C,S]=reactExports.useState(h),[D,O]=reactExports.useState(h);useIsomorphicLayoutEffect(()=>{v.current=!1,p.current=h;for(let F=0;F<D.length;F++){const G=getChildKey(D[F]);y.includes(G)?b.delete(G):b.get(G)!==!0&&b.set(G,!1)}},[D,y.length,y.join("-")]);const I=[];if(h!==C){let F=[...h];for(let G=0;G<D.length;G++){const $=D[G],q=getChildKey($);y.includes(q)||(F.splice(G,0,$),I.push($))}return m==="wait"&&I.length&&(F=I),O(onlyElements(F)),S(h),null}const{forceRender:R}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:D.map(F=>{const G=getChildKey(F),$=f&&!d?!1:h===D||y.includes(G),q=()=>{if(b.has(G))b.set(G,!0);else return;let ee=!0;b.forEach(J=>{J||(ee=!1)}),ee&&(R?.(),O(p.current),f&&l?.(),o&&o())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:$,initial:!v.current||s?void 0:!1,custom:n,presenceAffectsLayout:c,mode:m,root:x,onExitComplete:$?void 0:q,anchorX:_,children:F},G)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:n=>featureProps[i].some(s=>!!n[s])};function loadFeatures(i){for(const n in i)featureDefinitions[n]={...featureDefinitions[n],...i[n]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){typeof i=="function"&&(shouldForward=n=>n.startsWith("on")?!isValidMotionProp(n):i(n))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,n,s){const o={};for(const c in i)c==="values"&&typeof i.values=="object"||(shouldForward(c)||s===!0&&isValidMotionProp(c)||!n&&!isValidMotionProp(c)||i.draggable&&c.startsWith("onDrag"))&&(o[c]=i[c]);return o}const MotionContext=reactExports.createContext({});function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(n=>isVariantLabel(i[n]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,n){if(isControllingVariants(i)){const{initial:s,animate:o}=i;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(o)?o:void 0}}return i.inherit!==!1?n:{}}function useCreateMotionContext(i){const{initial:n,animate:s}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:n,animate:s}),[variantLabelsAsDependency(n),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const scaleCorrectors={};function addScaleCorrector(i){for(const n in i)scaleCorrectors[n]=i[n],isCSSVariableName(n)&&(scaleCorrectors[n].isCSSVariable=!0)}function isForcedMotionValue(i,{layout:n,layoutId:s}){return transformProps.has(i)||i.startsWith("origin")||(n||s!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,n,s){let o="",c=!0;for(let m=0;m<numTransforms;m++){const f=transformPropOrder[m],_=i[f];if(_===void 0)continue;let x=!0;if(typeof _=="number"?x=_===(f.startsWith("scale")?1:0):x=parseFloat(_)===0,!x||s){const d=getValueAsType(_,numberValueTypes[f]);if(!x){c=!1;const l=translateAlias[f]||f;o+=`${l}(${d}) `}s&&(n[f]=d)}}return o=o.trim(),s?o=s(n,c?"":o):c&&(o="none"),o}function buildHTMLStyles(i,n,s){const{style:o,vars:c,transformOrigin:m}=i;let f=!1,_=!1;for(const x in n){const d=n[x];if(transformProps.has(x)){f=!0;continue}else if(isCSSVariableName(x)){c[x]=d;continue}else{const l=getValueAsType(d,numberValueTypes[x]);x.startsWith("origin")?(_=!0,m[x]=l):o[x]=l}}if(n.transform||(f||s?o.transform=buildTransform(n,i.transform,s):o.transform&&(o.transform="none")),_){const{originX:x="50%",originY:d="50%",originZ:l=0}=m;o.transformOrigin=`${x} ${d} ${l}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(i,n,s){for(const o in n)!isMotionValue(n[o])&&!isForcedMotionValue(o,s)&&(i[o]=n[o])}function useInitialMotionValues({transformTemplate:i},n){return reactExports.useMemo(()=>{const s=createHtmlRenderState();return buildHTMLStyles(s,n,i),Object.assign({},s.vars,s.style)},[n])}function useStyle(i,n){const s=i.style||{},o={};return copyRawValuesOnly(o,s,i),Object.assign(o,useInitialMotionValues(i,n)),o}function useHTMLProps(i,n){const s={},o=useStyle(i,n);return i.drag&&i.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(s.tabIndex=0),s.style=o,s}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,n,s=1,o=0,c=!0){i.pathLength=1;const m=c?dashKeys:camelKeys;i[m.offset]=px.transform(-o);const f=px.transform(n),_=px.transform(s);i[m.array]=`${f} ${_}`}function buildSVGAttrs(i,{attrX:n,attrY:s,attrScale:o,pathLength:c,pathSpacing:m=1,pathOffset:f=0,..._},x,d,l){if(buildHTMLStyles(i,_,d),x){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:h,style:y}=i;h.transform&&(y.transform=h.transform,delete h.transform),(y.transform||h.transformOrigin)&&(y.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),y.transform&&(y.transformBox=l?.transformBox??"fill-box",delete h.transformBox),n!==void 0&&(h.x=n),s!==void 0&&(h.y=s),o!==void 0&&(h.scale=o),c!==void 0&&buildSVGPath(h,c,m,f,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,n,s,o){const c=reactExports.useMemo(()=>{const m=createSvgRenderState();return buildSVGAttrs(m,n,isSVGTag(o),i.transformTemplate,i.style),{...m.attrs,style:{...m.style}}},[n]);if(i.style){const m={};copyRawValuesOnly(m,i.style,i),c.style={...m,...c.style}}return c}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}function useRender(i,n,s,{latestValues:o},c,m=!1){const _=(isSVGComponent(i)?useSVGProps:useHTMLProps)(n,o,c,i),x=filterProps(n,typeof i=="string",m),d=i!==reactExports.Fragment?{...x,..._,ref:s}:{},{children:l}=n,h=reactExports.useMemo(()=>isMotionValue(l)?l.get():l,[l]);return reactExports.createElement(i,{...d,children:h})}function getValueState(i){const n=[{},{}];return i?.values.forEach((s,o)=>{n[0][o]=s.get(),n[1][o]=s.getVelocity()}),n}function resolveVariantFromProps(i,n,s,o){if(typeof n=="function"){const[c,m]=getValueState(o);n=n(s!==void 0?s:i.custom,c,m)}if(typeof n=="string"&&(n=i.variants&&i.variants[n]),typeof n=="function"){const[c,m]=getValueState(o);n=n(s!==void 0?s:i.custom,c,m)}return n}function resolveMotionValue(i){return isMotionValue(i)?i.get():i}function makeState({scrapeMotionValuesFromProps:i,createRenderState:n},s,o,c){return{latestValues:makeLatestValues(s,o,c,i),renderState:n()}}function makeLatestValues(i,n,s,o){const c={},m=o(i,{});for(const y in m)c[y]=resolveMotionValue(m[y]);let{initial:f,animate:_}=i;const x=isControllingVariants(i),d=isVariantNode(i);n&&d&&!x&&i.inherit!==!1&&(f===void 0&&(f=n.initial),_===void 0&&(_=n.animate));let l=s?s.initial===!1:!1;l=l||f===!1;const h=l?_:f;if(h&&typeof h!="boolean"&&!isAnimationControls(h)){const y=Array.isArray(h)?h:[h];for(let v=0;v<y.length;v++){const p=resolveVariantFromProps(i,y[v]);if(p){const{transitionEnd:b,transition:C,...S}=p;for(const D in S){let O=S[D];if(Array.isArray(O)){const I=l?O.length-1:0;O=O[I]}O!==null&&(c[D]=O)}for(const D in b)c[D]=b[D]}}}return c}const makeUseVisualState=i=>(n,s)=>{const o=reactExports.useContext(MotionContext),c=reactExports.useContext(PresenceContext),m=()=>makeState(i,n,o,c);return s?m():useConstant(m)};function scrapeMotionValuesFromProps$1(i,n,s){const{style:o}=i,c={};for(const m in o)(isMotionValue(o[m])||n.style&&isMotionValue(n.style[m])||isForcedMotionValue(m,i)||s?.getValue(m)?.liveStyle!==void 0)&&(c[m]=o[m]);return c}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(i,n,s){const o=scrapeMotionValuesFromProps$1(i,n,s);for(const c in i)if(isMotionValue(i[c])||isMotionValue(n[c])){const m=transformPropOrder.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[m]=i[c]}return o}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function useMotionRef(i,n,s){return reactExports.useCallback(o=>{o&&i.onMount&&i.onMount(o),n&&(o?n.mount(o):n.unmount()),s&&(typeof s=="function"?s(o):isRefObject(s)&&(s.current=o))},[n])}const camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(i,n,s,o,c){const{visualElement:m}=reactExports.useContext(MotionContext),f=reactExports.useContext(LazyContext),_=reactExports.useContext(PresenceContext),x=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef(null);o=o||f.renderer,!d.current&&o&&(d.current=o(i,{visualState:n,parent:m,props:s,presenceContext:_,blockInitialAnimation:_?_.initial===!1:!1,reducedMotionConfig:x}));const l=d.current,h=reactExports.useContext(SwitchLayoutGroupContext);l&&!l.projection&&c&&(l.type==="html"||l.type==="svg")&&createProjectionNode$1(d.current,s,c,h);const y=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{l&&y.current&&l.update(s,_)});const v=s[optimizedAppearDataAttribute],p=reactExports.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return useIsomorphicLayoutEffect(()=>{l&&(y.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),l.scheduleRenderMicrotask(),p.current&&l.animationState&&l.animationState.animateChanges())}),reactExports.useEffect(()=>{l&&(!p.current&&l.animationState&&l.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),p.current=!1),l.enteringChildren=void 0)}),l}function createProjectionNode$1(i,n,s,o){const{layoutId:c,layout:m,drag:f,dragConstraints:_,layoutScroll:x,layoutRoot:d,layoutCrossfade:l}=n;i.projection=new s(i.latestValues,n["data-framer-portal-id"]?void 0:getClosestProjectingNode(i.parent)),i.projection.setOptions({layoutId:c,layout:m,alwaysMeasureLayout:!!f||_&&isRefObject(_),visualElement:i,animationType:typeof m=="string"?m:"both",initialPromotionConfig:o,crossfade:l,layoutScroll:x,layoutRoot:d})}function getClosestProjectingNode(i){if(i)return i.options.allowProjection!==!1?i.projection:getClosestProjectingNode(i.parent)}function createMotionComponent(i,{forwardMotionProps:n=!1}={},s,o){s&&loadFeatures(s);const c=isSVGComponent(i)?useSVGVisualState:useHTMLVisualState;function m(_,x){let d;const l={...reactExports.useContext(MotionConfigContext),..._,layoutId:useLayoutId(_)},{isStatic:h}=l,y=useCreateMotionContext(_),v=c(_,h);if(!h&&isBrowser$1){useStrictMode();const p=getProjectionFunctionality(l);d=p.MeasureLayout,y.visualElement=useVisualElement(i,v,l,o,p.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:y,children:[d&&y.visualElement?jsxRuntimeExports.jsx(d,{visualElement:y.visualElement,...l}):null,useRender(i,_,useMotionRef(v,y.visualElement,x),v,h,n)]})}m.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const f=reactExports.forwardRef(m);return f[motionComponentSymbol]=i,f}function useLayoutId({layoutId:i}){const n=reactExports.useContext(LayoutGroupContext).id;return n&&i!==void 0?n+"-"+i:i}function useStrictMode(i,n){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(i){const{drag:n,layout:s}=featureDefinitions;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(i)||s?.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function createMotionProxy(i,n){if(typeof Proxy>"u")return createMotionComponent;const s=new Map,o=(m,f)=>createMotionComponent(m,f,i,n),c=(m,f)=>o(m,f);return new Proxy(c,{get:(m,f)=>f==="create"?o:(s.has(f)||s.set(f,createMotionComponent(f,void 0,i,n)),s.get(f))})}function convertBoundingBoxToBox({top:i,left:n,right:s,bottom:o}){return{x:{min:n,max:s},y:{min:i,max:o}}}function convertBoxToBoundingBox({x:i,y:n}){return{top:n.min,right:i.max,bottom:n.max,left:i.min}}function transformBoxPoints(i,n){if(!n)return i;const s=n({x:i.left,y:i.top}),o=n({x:i.right,y:i.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:n,scaleY:s}){return!isIdentityScale(i)||!isIdentityScale(n)||!isIdentityScale(s)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,n,s){const o=i-s,c=n*o;return s+c}function applyPointDelta(i,n,s,o,c){return c!==void 0&&(i=scalePoint(i,c,o)),scalePoint(i,s,o)+n}function applyAxisDelta(i,n=0,s=1,o,c){i.min=applyPointDelta(i.min,n,s,o,c),i.max=applyPointDelta(i.max,n,s,o,c)}function applyBoxDelta(i,{x:n,y:s}){applyAxisDelta(i.x,n.translate,n.scale,n.originPoint),applyAxisDelta(i.y,s.translate,s.scale,s.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(i,n,s,o=!1){const c=s.length;if(!c)return;n.x=n.y=1;let m,f;for(let _=0;_<c;_++){m=s[_],f=m.projectionDelta;const{visualElement:x}=m.options;x&&x.props.style&&x.props.style.display==="contents"||(o&&m.options.layoutScroll&&m.scroll&&m!==m.root&&transformBox(i,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),f&&(n.x*=f.x.scale,n.y*=f.y.scale,applyBoxDelta(i,f)),o&&hasTransform(m.latestValues)&&transformBox(i,m.latestValues))}n.x<TREE_SCALE_SNAP_MAX&&n.x>TREE_SCALE_SNAP_MIN&&(n.x=1),n.y<TREE_SCALE_SNAP_MAX&&n.y>TREE_SCALE_SNAP_MIN&&(n.y=1)}function translateAxis(i,n){i.min=i.min+n,i.max=i.max+n}function transformAxis(i,n,s,o,c=.5){const m=mixNumber$1(i.min,i.max,c);applyAxisDelta(i,n,s,m,o)}function transformBox(i,n){transformAxis(i.x,n.x,n.scaleX,n.scale,n.originX),transformAxis(i.y,n.y,n.scaleY,n.scale,n.originY)}function measureViewportBox(i,n){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),n))}function measurePageBox(i,n,s){const o=measureViewportBox(i,s),{scroll:c}=n;return c&&(translateAxis(o.x,c.offset.x),translateAxis(o.y,c.offset.y)),o}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),n=()=>prefersReducedMotion.current=i.matches;i.addEventListener("change",n),n()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(i,n,s){for(const o in n){const c=n[o],m=s[o];if(isMotionValue(c))i.addValue(o,c);else if(isMotionValue(m))i.addValue(o,motionValue(c,{owner:i}));else if(m!==c)if(i.hasValue(o)){const f=i.getValue(o);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=i.getStaticValue(o);i.addValue(o,motionValue(f!==void 0?f:c,{owner:i}))}}for(const o in s)n[o]===void 0&&i.removeValue(o);return n}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(n,s,o){return{}}constructor({parent:n,props:s,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:m,visualState:f},_={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=time.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,frame.render(this.render,!1,!0))};const{latestValues:x,renderState:d}=f;this.latestValues=x,this.baseTarget={...x},this.initialValues=s.initial?{...x}:{},this.renderState=d,this.parent=n,this.props=s,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=c,this.options=_,this.blockInitialAnimation=!!m,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:l,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in h){const v=h[y];x[y]!==void 0&&isMotionValue(v)&&v.set(x[y])}}mount(n){this.current=n,visualElementStore.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=transformProps.has(n);o&&this.onBindTransform&&this.onBindTransform();const c=s.on("change",f=>{this.latestValues[n]=f,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{c(),m&&m(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in featureDefinitions){const s=featureDefinitions[n];if(!s)continue;const{isEnabled:o,Feature:c}=s;if(!this.features[n]&&c&&o(this.props)&&(this.features[n]=new c(this)),this.features[n]){const m=this.features[n];m.isMounted?m.update():(m.mount(),m.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<propEventHandlers.length;o++){const c=propEventHandlers[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const m="on"+c,f=n[m];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const o=this.values.get(n);s!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&s!==void 0&&(o=motionValue(s===null?void 0:s,{owner:this}),this.addValue(n,o)),o}readValue(n,s){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(isNumericalString(o)||isZeroValueString(o))?o=parseFloat(o):!findValueType(o)&&complex.test(s)&&(o=getAnimatableNone(n,s)),this.setBaseTarget(n,isMotionValue(o)?o.get():o)),isMotionValue(o)?o.get():o}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const m=resolveVariantFromProps(this.props,s,this.presenceContext?.custom);m&&(o=m[n])}if(s&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new SubscriptionManager),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:o}){delete s[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;isMotionValue(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function renderHTML(i,{style:n,vars:s},o,c){const m=i.style;let f;for(f in n)m[f]=n[f];c?.applyProjectionStyles(m,o);for(f in s)m.setProperty(f,s[f])}function getComputedStyle$1(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(n,s){if(transformProps.has(s))return this.projection?.isProjecting?defaultTransformValue(s):readTransformValue(n,s);{const o=getComputedStyle$1(n),c=(isCSSVariableName(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:s}){return measureViewportBox(n,s)}build(n,s,o){buildHTMLStyles(n,s,o.transformTemplate)}scrapeMotionValuesFromProps(n,s,o){return scrapeMotionValuesFromProps$1(n,s,o)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,n,s,o){renderHTML(i,n,void 0,o);for(const c in n.attrs)i.setAttribute(camelCaseAttributes.has(c)?c:camelToDash(c),n.attrs[c])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,o){return scrapeMotionValuesFromProps(n,s,o)}build(n,s,o){buildSVGAttrs(n,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,s,o,c){renderSVG(n,s,o,c)}mount(n){this.isSVGTag=isSVGTag(n.tagName),super.mount(n)}}const createDomVisualElement=(i,n)=>isSVGComponent(i)?new SVGVisualElement(n):new HTMLVisualElement(n,{allowProjection:i!==reactExports.Fragment});function resolveVariant(i,n,s){const o=i.getProps();return resolveVariantFromProps(o,n,s!==void 0?s:o.custom,i)}const isKeyframesTarget=i=>Array.isArray(i);function setMotionValue(i,n,s){i.hasValue(n)?i.getValue(n).set(s):i.addValue(n,motionValue(s))}function resolveFinalValueInKeyframes(i){return isKeyframesTarget(i)?i[i.length-1]||0:i}function setTarget(i,n){const s=resolveVariant(i,n);let{transitionEnd:o={},transition:c={},...m}=s||{};m={...m,...o};for(const f in m){const _=resolveFinalValueInKeyframes(m[f]);setMotionValue(i,f,_)}}function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function addValueToWillChange(i,n){const s=i.getValue("willChange");if(isWillChangeMotionValue(s))return s.add(n);if(!s&&MotionGlobalConfig.WillChange){const o=new MotionGlobalConfig.WillChange("auto");i.addValue("willChange",o),o.add(n)}}function getOptimisedAppearId(i){return i.props[optimizedAppearDataAttribute]}const isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:n,repeatType:s="loop"},o){const c=i.filter(isNotNull),m=n&&s!=="loop"&&n%2===1?0:c.length-1;return c[m]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:n})=>n.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(n[1]):underDampedSpring:ease;function isTransitionDefined({when:i,delay:n,delayChildren:s,staggerChildren:o,staggerDirection:c,repeat:m,repeatType:f,repeatDelay:_,from:x,elapsed:d,...l}){return!!Object.keys(l).length}const animateMotionValue=(i,n,s,o={},c,m)=>f=>{const _=getValueTransition(o,i)||{},x=_.delay||o.delay||0;let{elapsed:d=0}=o;d=d-secondsToMilliseconds(x);const l={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),..._,delay:-d,onUpdate:y=>{n.set(y),_.onUpdate&&_.onUpdate(y)},onComplete:()=>{f(),_.onComplete&&_.onComplete()},name:i,motionValue:n,element:m?void 0:c};isTransitionDefined(_)||Object.assign(l,getDefaultTransition(i,l)),l.duration&&(l.duration=secondsToMilliseconds(l.duration)),l.repeatDelay&&(l.repeatDelay=secondsToMilliseconds(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let h=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(makeAnimationInstant(l),l.delay===0&&(h=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(h=!0,makeAnimationInstant(l),l.delay=0),l.allowFlatten=!_.type&&!_.ease,h&&!m&&n.get()!==void 0){const y=getFinalKeyframe(l.keyframes,_);if(y!==void 0){frame.update(()=>{l.onUpdate(y),l.onComplete()});return}}return _.isSync?new JSAnimation(l):new AsyncMotionValueAnimation(l)};function shouldBlockAnimation({protectedKeys:i,needsAnimating:n},s){const o=i.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,o}function animateTarget(i,n,{delay:s=0,transitionOverride:o,type:c}={}){let{transition:m=i.getDefaultTransition(),transitionEnd:f,..._}=n;o&&(m=o);const x=[],d=c&&i.animationState&&i.animationState.getState()[c];for(const l in _){const h=i.getValue(l,i.latestValues[l]??null),y=_[l];if(y===void 0||d&&shouldBlockAnimation(d,l))continue;const v={delay:s,...getValueTransition(m||{},l)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(y)&&y===p&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const S=getOptimisedAppearId(i);if(S){const D=window.MotionHandoffAnimation(S,l,frame);D!==null&&(v.startTime=D,b=!0)}}addValueToWillChange(i,l),h.start(animateMotionValue(l,h,y,i.shouldReduceMotion&&positionalKeys.has(l)?{type:!1}:v,i,b));const C=h.animation;C&&x.push(C)}return f&&Promise.all(x).then(()=>{frame.update(()=>{f&&setTarget(i,f)})}),x}function calcChildStagger(i,n,s,o=0,c=1){const m=Array.from(i).sort((d,l)=>d.sortNodePosition(l)).indexOf(n),f=i.size,_=(f-1)*o;return typeof s=="function"?s(m,f):c===1?m*o:_-m*o}function animateVariant(i,n,s={}){const o=resolveVariant(i,n,s.type==="exit"?i.presenceContext?.custom:void 0);let{transition:c=i.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const m=o?()=>Promise.all(animateTarget(i,o,s)):()=>Promise.resolve(),f=i.variantChildren&&i.variantChildren.size?(x=0)=>{const{delayChildren:d=0,staggerChildren:l,staggerDirection:h}=c;return animateChildren(i,n,x,d,l,h,s)}:()=>Promise.resolve(),{when:_}=c;if(_){const[x,d]=_==="beforeChildren"?[m,f]:[f,m];return x().then(()=>d())}else return Promise.all([m(),f(s.delay)])}function animateChildren(i,n,s=0,o=0,c=0,m=1,f){const _=[];for(const x of i.variantChildren)x.notify("AnimationStart",n),_.push(animateVariant(x,n,{...f,delay:s+(typeof o=="function"?0:o)+calcChildStagger(i.variantChildren,x,o,c,m)}).then(()=>x.notify("AnimationComplete",n)));return Promise.all(_)}function animateVisualElement(i,n,s={}){i.notify("AnimationStart",n);let o;if(Array.isArray(n)){const c=n.map(m=>animateVariant(i,m,s));o=Promise.all(c)}else if(typeof n=="string")o=animateVariant(i,n,s);else{const c=typeof n=="function"?resolveVariant(i,n,s.custom):n;o=Promise.all(animateTarget(i,c,s))}return o.then(()=>{i.notify("AnimationComplete",n)})}function shallowCompare(i,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==i.length)return!1;for(let o=0;o<s;o++)if(n[o]!==i[o])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(i){if(!i)return;if(!i.isControllingVariants){const s=i.parent?getVariantContext(i.parent)||{}:{};return i.props.initial!==void 0&&(s.initial=i.props.initial),s}const n={};for(let s=0;s<numVariantProps;s++){const o=variantProps[s],c=i.props[o];(isVariantLabel(c)||c===!1)&&(n[o]=c)}return n}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return n=>Promise.all(n.map(({animation:s,options:o})=>animateVisualElement(i,s,o)))}function createAnimationState(i){let n=animateList(i),s=createState(),o=!0;const c=x=>(d,l)=>{const h=resolveVariant(i,l,x==="exit"?i.presenceContext?.custom:void 0);if(h){const{transition:y,transitionEnd:v,...p}=h;d={...d,...p,...v}}return d};function m(x){n=x(i)}function f(x){const{props:d}=i,l=getVariantContext(i.parent)||{},h=[],y=new Set;let v={},p=1/0;for(let C=0;C<numAnimationTypes;C++){const S=reversePriorityOrder[C],D=s[S],O=d[S]!==void 0?d[S]:l[S],I=isVariantLabel(O),R=S===x?D.isActive:null;R===!1&&(p=C);let F=O===l[S]&&O!==d[S]&&I;if(F&&o&&i.manuallyAnimateOnMount&&(F=!1),D.protectedKeys={...v},!D.isActive&&R===null||!O&&!D.prevProp||isAnimationControls(O)||typeof O=="boolean")continue;const G=checkVariantsDidChange(D.prevProp,O);let $=G||S===x&&D.isActive&&!F&&I||C>p&&I,q=!1;const ee=Array.isArray(O)?O:[O];let J=ee.reduce(c(S),{});R===!1&&(J={});const{prevResolvedValues:me={}}=D,he={...me,...J},fe=z=>{$=!0,y.has(z)&&(q=!0,y.delete(z)),D.needsAnimating[z]=!0;const k=i.getValue(z);k&&(k.liveStyle=!1)};for(const z in he){const k=J[z],P=me[z];if(v.hasOwnProperty(z))continue;let T=!1;isKeyframesTarget(k)&&isKeyframesTarget(P)?T=!shallowCompare(k,P):T=k!==P,T?k!=null?fe(z):y.add(z):k!==void 0&&y.has(z)?fe(z):D.protectedKeys[z]=!0}D.prevProp=O,D.prevResolvedValues=J,D.isActive&&(v={...v,...J}),o&&i.blockInitialAnimation&&($=!1);const ve=F&&G;$&&(!ve||q)&&h.push(...ee.map(z=>{const k={type:S};if(typeof z=="string"&&o&&!ve&&i.manuallyAnimateOnMount&&i.parent){const{parent:P}=i,T=resolveVariant(P,z);if(P.enteringChildren&&T){const{delayChildren:w}=T.transition||{};k.delay=calcChildStagger(P.enteringChildren,i,w)}}return{animation:z,options:k}}))}if(y.size){const C={};if(typeof d.initial!="boolean"){const S=resolveVariant(i,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(C.transition=S.transition)}y.forEach(S=>{const D=i.getBaseTarget(S),O=i.getValue(S);O&&(O.liveStyle=!0),C[S]=D??null}),h.push({animation:C})}let b=!!h.length;return o&&(d.initial===!1||d.initial===d.animate)&&!i.manuallyAnimateOnMount&&(b=!1),o=!1,b?n(h):Promise.resolve()}function _(x,d){if(s[x].isActive===d)return Promise.resolve();i.variantChildren?.forEach(h=>h.animationState?.setActive(x,d)),s[x].isActive=d;const l=f(x);for(const h in s)s[h].protectedKeys={};return l}return{animateChanges:f,setActive:_,setAnimateFunction:m,getState:()=>s,reset:()=>{s=createState()}}}function checkVariantsDidChange(i,n){return typeof n=="string"?n!==i:Array.isArray(n)?!shallowCompare(n,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(n){this.isMounted=!1,this.node=n}update(){}}class AnimationFeature extends Feature{constructor(n){super(n),n.animationState||(n.animationState=createAnimationState(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();isAnimationControls(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const c=this.node.animationState.setActive("exit",!n);s&&!n&&c.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(i,n,s,o={passive:!0}){return i.addEventListener(n,s,o),()=>i.removeEventListener(n,s)}function extractEventInfo(i){return{point:{x:i.pageX,y:i.pageY}}}const addPointerInfo=i=>n=>isPrimaryPointer(n)&&i(n,extractEventInfo(n));function addPointerEvent(i,n,s,o){return addDomEvent(i,n,addPointerInfo(s),o)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(i){return i.max-i.min}function isNear(i,n,s){return Math.abs(i-n)<=s}function calcAxisDelta(i,n,s,o=.5){i.origin=o,i.originPoint=mixNumber$1(n.min,n.max,i.origin),i.scale=calcLength(s)/calcLength(n),i.translate=mixNumber$1(s.min,s.max,i.origin)-i.originPoint,(i.scale>=SCALE_MIN&&i.scale<=SCALE_MAX||isNaN(i.scale))&&(i.scale=1),(i.translate>=TRANSLATE_MIN&&i.translate<=TRANSLATE_MAX||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,n,s,o){calcAxisDelta(i.x,n.x,s.x,o?o.originX:void 0),calcAxisDelta(i.y,n.y,s.y,o?o.originY:void 0)}function calcRelativeAxis(i,n,s){i.min=s.min+n.min,i.max=i.min+calcLength(n)}function calcRelativeBox(i,n,s){calcRelativeAxis(i.x,n.x,s.x),calcRelativeAxis(i.y,n.y,s.y)}function calcRelativeAxisPosition(i,n,s){i.min=n.min-s.min,i.max=i.min+calcLength(n)}function calcRelativePosition(i,n,s){calcRelativeAxisPosition(i.x,n.x,s.x),calcRelativeAxisPosition(i.y,n.y,s.y)}function eachAxis(i){return[i("x"),i("y")]}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,distance=(i,n)=>Math.abs(i-n);function distance2D(i,n){const s=distance(i.x,n.x),o=distance(i.y,n.y);return Math.sqrt(s**2+o**2)}class PanSession{constructor(n,s,{transformPagePoint:o,contextWindow:c=window,dragSnapToOrigin:m=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=getPanInfo(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,p=distance2D(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!p)return;const{point:b}=y,{timestamp:C}=frameData;this.history.push({...b,timestamp:C});const{onStart:S,onMove:D}=this.handlers;v||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=transformPoint(v,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=getPanInfo(y.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(v,this.transformPagePoint),this.history);this.startEvent&&p&&p(y,S),b&&b(y,S)},!isPrimaryPointer(n))return;this.dragSnapToOrigin=m,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=f,this.contextWindow=c||window;const _=extractEventInfo(n),x=transformPoint(_,this.transformPagePoint),{point:d}=x,{timestamp:l}=frameData;this.history=[{...d,timestamp:l}];const{onSessionStart:h}=s;h&&h(n,getPanInfo(x,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,n){return n?{point:n(i.point)}:i}function subtractPoint(i,n){return{x:i.x-n.x,y:i.y-n.y}}function getPanInfo({point:i},n){return{point:i,delta:subtractPoint(i,lastDevicePoint(n)),offset:subtractPoint(i,startDevicePoint(n)),velocity:getVelocity(n,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,n){if(i.length<2)return{x:0,y:0};let s=i.length-1,o=null;const c=lastDevicePoint(i);for(;s>=0&&(o=i[s],!(c.timestamp-o.timestamp>secondsToMilliseconds(n)));)s--;if(!o)return{x:0,y:0};const m=millisecondsToSeconds(c.timestamp-o.timestamp);if(m===0)return{x:0,y:0};const f={x:(c.x-o.x)/m,y:(c.y-o.y)/m};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function applyConstraints(i,{min:n,max:s},o){return n!==void 0&&i<n?i=o?mixNumber$1(n,i,o.min):Math.max(i,n):s!==void 0&&i>s&&(i=o?mixNumber$1(s,i,o.max):Math.min(i,s)),i}function calcRelativeAxisConstraints(i,n,s){return{min:n!==void 0?i.min+n:void 0,max:s!==void 0?i.max+s-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:n,left:s,bottom:o,right:c}){return{x:calcRelativeAxisConstraints(i.x,s,c),y:calcRelativeAxisConstraints(i.y,n,o)}}function calcViewportAxisConstraints(i,n){let s=n.min-i.min,o=n.max-i.max;return n.max-n.min<i.max-i.min&&([s,o]=[o,s]),{min:s,max:o}}function calcViewportConstraints(i,n){return{x:calcViewportAxisConstraints(i.x,n.x),y:calcViewportAxisConstraints(i.y,n.y)}}function calcOrigin(i,n){let s=.5;const o=calcLength(i),c=calcLength(n);return c>o?s=progress(n.min,n.max-o,i.min):o>c&&(s=progress(i.min,i.max-c,n.min)),clamp(0,1,s)}function rebaseAxisConstraints(i,n){const s={};return n.min!==void 0&&(s.min=n.min-i.min),n.max!==void 0&&(s.max=n.max-i.min),s}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,n,s){return{min:resolvePointElastic(i,n),max:resolvePointElastic(i,s)}}function resolvePointElastic(i,n){return typeof i=="number"?i:i[n]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const m=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(h).point)},f=(h,y)=>{const{drag:v,dragPropagation:p,onDragStart:b}=this.getProps();if(v&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(S=>{let D=this.getAxisMotionValue(S).get()||0;if(percent.test(D)){const{projection:O}=this.visualElement;if(O&&O.layout){const I=O.layout.layoutBox[S];I&&(D=calcLength(I)*(parseFloat(D)/100))}}this.originPoint[S]=D}),b&&frame.postRender(()=>b(h,y)),addValueToWillChange(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},_=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:p,onDirectionLock:b,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=y;if(p&&this.currentDirection===null){this.currentDirection=getCurrentDirection(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),C&&C(h,y)},x=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y,this.stop(h,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>eachAxis(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new PanSession(n,{onSessionStart:m,onStart:f,onMove:_,onSessionEnd:x,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:o,contextWindow:getContextWindow(this.visualElement)})}stop(n,s){const o=n||this.latestPointerEvent,c=s||this.latestPanInfo,m=this.isDragging;if(this.cancel(),!m||!c||!o)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:_}=this.getProps();_&&frame.postRender(()=>_(o,c))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,o){const{drag:c}=this.getProps();if(!o||!shouldDrag(n,c,this.currentDirection))return;const m=this.getAxisMotionValue(n);let f=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(f=applyConstraints(f,this.constraints[n],this.elastic[n])),m.set(f)}resolveConstraints(){const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;n&&isRefObject(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=calcRelativeConstraints(o.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(s),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=rebaseAxisConstraints(o.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!isRefObject(n))return!1;const o=n.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const m=measurePageBox(o,c.root,this.visualElement.getTransformPagePoint());let f=calcViewportConstraints(c.layout.layoutBox,m);if(s){const _=s(convertBoxToBoundingBox(f));this.hasMutatedConstraints=!!_,_&&(f=convertBoundingBoxToBox(_))}return f}startAnimation(n){const{drag:s,dragMomentum:o,dragElastic:c,dragTransition:m,dragSnapToOrigin:f,onDragTransitionEnd:_}=this.getProps(),x=this.constraints||{},d=eachAxis(l=>{if(!shouldDrag(l,s,this.currentDirection))return;let h=x&&x[l]||{};f&&(h={min:0,max:0});const y=c?200:1e6,v=c?40:1e7,p={type:"inertia",velocity:o?n[l]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...m,...h};return this.startAxisValueAnimation(l,p)});return Promise.all(d).then(_)}startAxisValueAnimation(n,s){const o=this.getAxisMotionValue(n);return addValueToWillChange(this.visualElement,n),o.start(animateMotionValue(n,o,0,s,this.visualElement,!1))}stopAnimation(){eachAxis(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){eachAxis(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),c=o[s];return c||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){eachAxis(s=>{const{drag:o}=this.getProps();if(!shouldDrag(s,o,this.currentDirection))return;const{projection:c}=this.visualElement,m=this.getAxisMotionValue(s);if(c&&c.layout){const{min:f,max:_}=c.layout.layoutBox[s];m.set(n[s]-mixNumber$1(f,_,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(s)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};eachAxis(f=>{const _=this.getAxisMotionValue(f);if(_&&this.constraints!==!1){const x=_.get();c[f]=calcOrigin({min:x,max:x},this.constraints[f])}});const{transformTemplate:m}=this.visualElement.getProps();this.visualElement.current.style.transform=m?m({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(f=>{if(!shouldDrag(f,n,null))return;const _=this.getAxisMotionValue(f),{min:x,max:d}=this.constraints[f];_.set(mixNumber$1(x,d,c[f]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const n=this.visualElement.current,s=addPointerEvent(n,"pointerdown",x=>{const{drag:d,dragListener:l=!0}=this.getProps();d&&l&&this.start(x)}),o=()=>{const{dragConstraints:x}=this.getProps();isRefObject(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,m=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),frame.read(o);const f=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),_=c.addEventListener("didUpdate",(({delta:x,hasLayoutChanged:d})=>{this.isDragging&&d&&(eachAxis(l=>{const h=this.getAxisMotionValue(l);h&&(this.originPoint[l]+=x[l].translate,h.set(h.get()+x[l].translate))}),this.visualElement.render())}));return()=>{f(),s(),m(),_&&_()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:m=!1,dragElastic:f=defaultElastic,dragMomentum:_=!0}=n;return{...n,drag:s,dragDirectionLock:o,dragPropagation:c,dragConstraints:m,dragElastic:f,dragMomentum:_}}}function shouldDrag(i,n,s){return(n===!0||n===i)&&(s===null||s===i)}function getCurrentDirection(i,n=10){let s=null;return Math.abs(i.y)>n?s="y":Math.abs(i.x)>n&&(s="x"),s}class DragGesture extends Feature{constructor(n){super(n),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(n,s)=>{i&&frame.postRender(()=>i(n,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(n){this.session=new PanSession(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:asyncHandler(n),onStart:asyncHandler(s),onMove:o,onEnd:(m,f)=>{delete this.session,c&&frame.postRender(()=>c(m,f))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,n){return n.max===n.min?0:i/(n.max-n.min)*100}const correctBorderRadius={correct:(i,n)=>{if(!n.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const s=pixelsToPercent(i,n.target.x),o=pixelsToPercent(i,n.target.y);return`${s}% ${o}%`}},correctBoxShadow={correct:(i,{treeScale:n,projectionDelta:s})=>{const o=i,c=complex.parse(i);if(c.length>5)return o;const m=complex.createTransformer(i),f=typeof c[0]!="number"?1:0,_=s.x.scale*n.x,x=s.y.scale*n.y;c[0+f]/=_,c[1+f]/=x;const d=mixNumber$1(_,x,.5);return typeof c[2+f]=="number"&&(c[2+f]/=d),typeof c[3+f]=="number"&&(c[3+f]/=d),m(c)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o,layoutId:c}=this.props,{projection:m}=n;addScaleCorrector(defaultScaleCorrectors),m&&(s.group&&s.group.add(m),o&&o.register&&c&&o.register(m),hasTakenAnySnapshot&&m.root.didUpdate(),m.addEventListener("animationComplete",()=>{this.safeToRemove()}),m.setOptions({...m.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:o,drag:c,isPresent:m}=this.props,{projection:f}=o;return f&&(f.isPresent=m,hasTakenAnySnapshot=!0,c||n.layoutDependency!==s||s===void 0||n.isPresent!==m?f.willUpdate():this.safeToRemove(),n.isPresent!==m&&(m?f.promote():f.relegate()||frame.postRender(()=>{const _=f.getStack();(!_||!_.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),microtask.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:c}=n;hasTakenAnySnapshot=!0,c&&(c.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function MeasureLayout(i){const[n,s]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...i,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:n,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(i,n,s){const o=isMotionValue(i)?i:motionValue(i);return o.start(animateMotionValue("",o,n,s)),o.animation}const compareByDepth=(i,n)=>i.depth-n.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(n){addUniqueItem(this.children,n),this.isDirty=!0}remove(n){removeItem(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(n)}}function delay(i,n){const s=time.now(),o=({timestamp:c})=>{const m=c-s;m>=n&&(cancelFrame(o),i(m-n))};return frame.setup(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,n,s,o,c,m){c?(i.opacity=mixNumber$1(0,s.opacity??1,easeCrossfadeIn(o)),i.opacityExit=mixNumber$1(n.opacity??1,0,easeCrossfadeOut(o))):m&&(i.opacity=mixNumber$1(n.opacity??1,s.opacity??1,o));for(let f=0;f<numBorders;f++){const _=`border${borders[f]}Radius`;let x=getRadius(n,_),d=getRadius(s,_);if(x===void 0&&d===void 0)continue;x||(x=0),d||(d=0),x===0||d===0||isPx(x)===isPx(d)?(i[_]=Math.max(mixNumber$1(asNumber(x),asNumber(d),o),0),(percent.test(d)||percent.test(x))&&(i[_]+="%")):i[_]=d}(n.rotate||s.rotate)&&(i.rotate=mixNumber$1(n.rotate||0,s.rotate||0,o))}function getRadius(i,n){return i[n]!==void 0?i[n]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(i,n,s){return o=>o<i?0:o>n?1:s(progress(i,n,o))}function copyAxisInto(i,n){i.min=n.min,i.max=n.max}function copyBoxInto(i,n){copyAxisInto(i.x,n.x),copyAxisInto(i.y,n.y)}function copyAxisDeltaInto(i,n){i.translate=n.translate,i.scale=n.scale,i.originPoint=n.originPoint,i.origin=n.origin}function removePointDelta(i,n,s,o,c){return i-=n,i=scalePoint(i,1/s,o),c!==void 0&&(i=scalePoint(i,1/c,o)),i}function removeAxisDelta(i,n=0,s=1,o=.5,c,m=i,f=i){if(percent.test(n)&&(n=parseFloat(n),n=mixNumber$1(f.min,f.max,n/100)-f.min),typeof n!="number")return;let _=mixNumber$1(m.min,m.max,o);i===m&&(_-=n),i.min=removePointDelta(i.min,n,s,_,c),i.max=removePointDelta(i.max,n,s,_,c)}function removeAxisTransforms(i,n,[s,o,c],m,f){removeAxisDelta(i,n[s],n[o],n[c],n.scale,m,f)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,n,s,o){removeAxisTransforms(i.x,n,xKeys,s?s.x:void 0,o?o.x:void 0),removeAxisTransforms(i.y,n,yKeys,s?s.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function axisEquals(i,n){return i.min===n.min&&i.max===n.max}function boxEquals(i,n){return axisEquals(i.x,n.x)&&axisEquals(i.y,n.y)}function axisEqualsRounded(i,n){return Math.round(i.min)===Math.round(n.min)&&Math.round(i.max)===Math.round(n.max)}function boxEqualsRounded(i,n){return axisEqualsRounded(i.x,n.x)&&axisEqualsRounded(i.y,n.y)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}function axisDeltaEquals(i,n){return i.translate===n.translate&&i.scale===n.scale&&i.originPoint===n.originPoint}class NodeStack{constructor(){this.members=[]}add(n){addUniqueItem(this.members,n),n.scheduleRender()}remove(n){if(removeItem(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(c=>n===c);if(s===0)return!1;let o;for(let c=s;c>=0;c--){const m=this.members[c];if(m.isPresent!==!1){o=m;break}}return o?(this.promote(o),!0):!1}promote(n,s){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,s&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:c}=n.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:o}=n;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,n,s){let o="";const c=i.x.translate/n.x,m=i.y.translate/n.y,f=s?.z||0;if((c||m||f)&&(o=`translate3d(${c}px, ${m}px, ${f}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:d,rotate:l,rotateX:h,rotateY:y,skewX:v,skewY:p}=s;d&&(o=`perspective(${d}px) ${o}`),l&&(o+=`rotate(${l}deg) `),h&&(o+=`rotateX(${h}deg) `),y&&(o+=`rotateY(${y}deg) `),v&&(o+=`skewX(${v}deg) `),p&&(o+=`skewY(${p}deg) `)}const _=i.x.scale*n.x,x=i.y.scale*n.y;return(_!==1||x!==1)&&(o+=`scale(${_}, ${x})`),o||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(i,n,s,o){const{latestValues:c}=n;c[i]&&(s[i]=c[i],n.setStaticValue(i,0),o&&(o[i]=0))}function cancelTreeOptimisedTransformAnimations(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:n}=i.options;if(!n)return;const s=getOptimisedAppearId(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:c,layoutId:m}=i.options;window.MotionCancelOptimisedAnimation(s,"transform",frame,!(c||m))}const{parent:o}=i;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:i,defaultParent:n,measureScroll:s,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(f={},_=n?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=_?_.root||_:this,this.path=_?[..._.path,_]:[],this.parent=_,this.depth=_?_.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(f,_){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new SubscriptionManager),this.eventHandlers.get(f).add(_)}notifyListeners(f,..._){const x=this.eventHandlers.get(f);x&&x.notify(..._)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=isSVGElement(f)&&!isSVGSVGElement(f),this.instance=f;const{layoutId:_,layout:x,visualElement:d}=this.options;if(d&&!d.current&&d.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(x||_)&&(this.isLayoutDirty=!0),i){let l,h=0;const y=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{h=window.innerWidth}),i(f,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,l&&l(),l=delay(y,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}_&&this.root.registerSharedNode(_,this),this.options.animate!==!1&&d&&(_||x)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=d.getProps(),S=!this.targetLayout||!boxEqualsRounded(this.targetLayout,v),D=!h&&y;if(this.options.layoutRoot||this.resumeFrom||D||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...getValueTransition(p,"layout"),onPlay:b,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(l,D)}else h||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const h=this.path[l];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:_,layout:x}=this.options;if(_===void 0&&!x)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const _=time.now();frameData.delta=clamp(0,1e3/60,_-frameData.timestamp),frameData.timestamp=_,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:_}=this.options;_&&_.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let _=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(_=!1),_&&this.instance){const x=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:x,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,_=this.projectionDelta&&!isDeltaZero(this.projectionDelta),x=this.getTransformTemplate(),d=x?x(this.latestValues,""):void 0,l=d!==this.prevTransformTemplateValue;f&&this.instance&&(_||hasTransform(this.latestValues)||l)&&(c(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const _=this.measurePageBox();let x=this.removeElementScroll(_);return f&&(x=this.removeTransform(x)),roundBox(x),{animationId:this.root.animationId,measuredBox:_,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return createBox();const _=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:d}=this.root;d&&(translateAxis(_.x,d.offset.x),translateAxis(_.y,d.offset.y))}return _}removeElementScroll(f){const _=createBox();if(copyBoxInto(_,f),this.scroll?.wasRoot)return _;for(let x=0;x<this.path.length;x++){const d=this.path[x],{scroll:l,options:h}=d;d!==this.root&&l&&h.layoutScroll&&(l.wasRoot&&copyBoxInto(_,f),translateAxis(_.x,l.offset.x),translateAxis(_.y,l.offset.y))}return _}applyTransform(f,_=!1){const x=createBox();copyBoxInto(x,f);for(let d=0;d<this.path.length;d++){const l=this.path[d];!_&&l.options.layoutScroll&&l.scroll&&l!==l.root&&transformBox(x,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),hasTransform(l.latestValues)&&transformBox(x,l.latestValues)}return hasTransform(this.latestValues)&&transformBox(x,this.latestValues),x}removeTransform(f){const _=createBox();copyBoxInto(_,f);for(let x=0;x<this.path.length;x++){const d=this.path[x];if(!d.instance||!hasTransform(d.latestValues))continue;hasScale(d.latestValues)&&d.updateSnapshot();const l=createBox(),h=d.measurePageBox();copyBoxInto(l,h),removeBoxTransforms(_,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,l)}return hasTransform(this.latestValues)&&removeBoxTransforms(_,this.latestValues),_}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const _=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=_.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=_.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=_.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==_;if(!(f||x&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:h}=this.options;if(!(!this.layout||!(l||h))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,y.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),_=!!this.resumingFrom||this!==f;let x=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(x=!1),_&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(x=!1),x)return;const{layout:d,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||l))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,_),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=createBox());const{target:v}=f;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const _=this.getStack();_&&_.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(f,_=!1){const x=this.snapshot,d=x?x.latestValues:{},l={...this.latestValues},h=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!_;const y=createBox(),v=x?x.source:void 0,p=this.layout?this.layout.source:void 0,b=v!==p,C=this.getStack(),S=!C||C.members.length<=1,D=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let O;this.mixTargetDelta=I=>{const R=I/1e3;mixAxisDelta(h.x,f.x,R),mixAxisDelta(h.y,f.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,y,R),O&&boxEquals(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=createBox()),copyBoxInto(O,this.relativeTarget)),b&&(this.animationValues=l,mixValues(l,d,this.latestValues,R,D,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:_=>{this.mixTargetDelta(_),f.onUpdate&&f.onUpdate(_)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:_,target:x,layout:d,latestValues:l}=f;if(!(!_||!x||!d)){if(this!==f&&this.layout&&d&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,d.layoutBox)){x=this.target||createBox();const h=calcLength(this.layout.layoutBox.x);x.x.min=f.target.x.min,x.x.max=x.x.min+h;const y=calcLength(this.layout.layoutBox.y);x.y.min=f.target.y.min,x.y.max=x.y.min+y}copyBoxInto(_,x),transformBox(_,l),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,_,l)}}registerSharedNode(f,_){this.sharedNodes.has(f)||this.sharedNodes.set(f,new NodeStack),this.sharedNodes.get(f).add(_);const d=_.options.initialPromotionConfig;_.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(_):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:_,preserveFollowOpacity:x}={}){const d=this.getStack();d&&d.promote(this,x),f&&(this.projectionDelta=void 0,this.needsReset=!0),_&&this.setOptions({transition:_})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let _=!1;const{latestValues:x}=f;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(_=!0),!_)return;const d={};x.z&&resetDistortingTransform("z",f,d,this.animationValues);for(let l=0;l<transformAxes.length;l++)resetDistortingTransform(`rotate${transformAxes[l]}`,f,d,this.animationValues),resetDistortingTransform(`skew${transformAxes[l]}`,f,d,this.animationValues);f.render();for(const l in d)f.setStaticValue(l,d[l]),this.animationValues&&(this.animationValues[l]=d[l]);f.scheduleRender()}applyProjectionStyles(f,_){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const x=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=resolveMotionValue(_?.pointerEvents)||"",f.transform=x?x(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=resolveMotionValue(_?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(f.transform=x?x({},""):"none",this.hasProjected=!1);return}f.visibility="";const l=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,l);x&&(h=x(l,h)),f.transform=h;const{x:y,y:v}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?f.opacity=d===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:f.opacity=d===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const p in scaleCorrectors){if(l[p]===void 0)continue;const{correct:b,applyTo:C,isCSSVariable:S}=scaleCorrectors[p],D=h==="none"?l[p]:b(l[p],d);if(C){const O=C.length;for(let I=0;I<O;I++)f[C[I]]=D}else S?this.options.visualElement.renderState.vars[p]=D:f[p]=D}this.options.layoutId&&(f.pointerEvents=d===this?resolveMotionValue(_?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){const n=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&n&&i.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=i.layout,{animationType:c}=i.options,m=n.source!==i.layout.source;c==="size"?eachAxis(l=>{const h=m?n.measuredBox[l]:n.layoutBox[l],y=calcLength(h);h.min=s[l].min,h.max=h.min+y}):shouldAnimatePositionOnly(c,n.layoutBox,s)&&eachAxis(l=>{const h=m?n.measuredBox[l]:n.layoutBox[l],y=calcLength(s[l]);h.max=h.min+y,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[l].max=i.relativeTarget[l].min+y)});const f=createDelta();calcBoxDelta(f,s,n.layoutBox);const _=createDelta();m?calcBoxDelta(_,i.applyTransform(o,!0),n.measuredBox):calcBoxDelta(_,s,n.layoutBox);const x=!isDeltaZero(f);let d=!1;if(!i.resumeFrom){const l=i.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:h,layout:y}=l;if(h&&y){const v=createBox();calcRelativePosition(v,n.layoutBox,h.layoutBox);const p=createBox();calcRelativePosition(p,s,y.layoutBox),boxEqualsRounded(v,p)||(d=!0),l.options.layoutRoot&&(i.relativeTarget=p,i.relativeTargetOrigin=v,i.relativeParent=l)}}}i.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:_,layoutDelta:f,hasLayoutChanged:x,hasRelativeLayoutChanged:d})}else if(i.isLead()){const{onExitComplete:s}=i.options;s&&s()}i.options.transition=void 0}function propagateDirtyNodes(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:n}=i.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetSkewAndRotation(i){i.resetSkewAndRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,n,s){i.translate=mixNumber$1(n.translate,0,s),i.scale=mixNumber$1(n.scale,1,s),i.origin=n.origin,i.originPoint=n.originPoint}function mixAxis(i,n,s,o){i.min=mixNumber$1(n.min,s.min,o),i.max=mixNumber$1(n.max,s.max,o)}function mixBox(i,n,s,o){mixAxis(i.x,n.x,s.x,o),mixAxis(i.y,n.y,s.y,o)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,n,s){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(n),aspectRatio(s),.2)}function checkNodeWasScrollRoot(i){return i!==i.root&&i.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,n)=>addDomEvent(i,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,n)=>{i.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(i,n,s){const{props:o}=i;i.animationState&&o.whileHover&&i.animationState.setActive("whileHover",s==="Start");const c="onHover"+s,m=o[c];m&&frame.postRender(()=>m(n,extractEventInfo(n)))}class HoverGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=hover(n,(s,o)=>(handleHoverEvent(this.node,o,"Start"),c=>handleHoverEvent(this.node,c,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(i,n,s){const{props:o}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&o.whileTap&&i.animationState.setActive("whileTap",s==="Start");const c="onTap"+(s==="End"?"":s),m=o[c];m&&frame.postRender(()=>m(n,extractEventInfo(n)))}class PressGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=press(n,(s,o)=>(handlePressEvent(this.node,o,"Start"),(c,{success:m})=>handlePressEvent(this.node,c,m?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const n=observerCallbacks.get(i.target);n&&n(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...n}){const s=i||document;observers.has(s)||observers.set(s,{});const o=observers.get(s),c=JSON.stringify(n);return o[c]||(o[c]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...n})),o[c]}function observeIntersection(i,n,s){const o=initIntersectionObserver(n);return observerCallbacks.set(i,s),o.observe(i),()=>{observerCallbacks.delete(i),o.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:o,amount:c="some",once:m}=n,f={root:s?s.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:thresholdNames[c]},_=x=>{const{isIntersecting:d}=x;if(this.isInView===d||(this.isInView=d,m&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),y=d?l:h;y&&y(x)};return observeIntersection(this.node.current,f,_)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(n,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:n={}}={}){return s=>i[s]!==n[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(n,s){module.exports=n.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.RenderingIntentFlag=n.PromiseCapability=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.MAX_IMAGE_SIZE_TO_CACHE=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.BASELINE_FACTOR=n.AnnotationType=n.AnnotationReplyType=n.AnnotationPrefix=n.AnnotationMode=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.assert=P,n.bytesToString=K,n.createValidAbsoluteUrl=w,n.getModificationDate=Qe,n.getUuid=$t,n.getVerbosityLevel=ve,n.info=ce,n.isArrayBuffer=je,n.isArrayEqual=at,n.isNodeJS=void 0,n.normalizeUnicode=Vt,n.objectFromMap=se,n.objectSize=xe,n.setVerbosityLevel=fe,n.shadow=j,n.string32=oe,n.stringToBytes=Q,n.stringToPDFString=De,n.stringToUTF8String=Ie,n.unreachable=k,n.utf8StringToString=Ne,n.warn=z;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=s;const o=[1,0,0,1,0,0];n.IDENTITY_MATRIX=o;const c=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=c;const m=1e7;n.MAX_IMAGE_SIZE_TO_CACHE=m;const f=1.35;n.LINE_FACTOR=f;const _=.35;n.LINE_DESCENT_FACTOR=_;const x=_/f;n.BASELINE_FACTOR=x;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=d;const l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=l;const h="pdfjs_internal_editor_";n.AnnotationEditorPrefix=h;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};n.AnnotationEditorType=y;const v={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};n.AnnotationEditorParamsType=v;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=p;const b={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=b;const C={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=C;const S={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=S;const D={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=D;const O={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=O;const I={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=I;const R={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=R;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=F;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=G;const $={O:"PageOpen",C:"PageClose"};n.PageActionEventType=$;const q={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=q;const ee={NONE:0,BINARY:1};n.CMapCompressionType=ee;const J={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=J;const me={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=me;let he=q.WARNINGS;function fe(ye){Number.isInteger(ye)&&(he=ye)}function ve(){return he}function ce(ye){he>=q.INFOS&&console.log(`Info: ${ye}`)}function z(ye){he>=q.WARNINGS&&console.log(`Warning: ${ye}`)}function k(ye){throw new Error(ye)}function P(ye,ie){ye||k(ie)}function T(ye){switch(ye?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function w(ye,ie=null,ne=null){if(!ye)return null;try{if(ne&&typeof ye=="string"&&(ne.addDefaultProtocol&&ye.startsWith("www.")&&ye.match(/\./g)?.length>=2&&(ye=`http://${ye}`),ne.tryConvertEncoding))try{ye=Ie(ye)}catch{}const we=ie?new URL(ye,ie):new URL(ye);if(T(we))return we}catch{}return null}function j(ye,ie,ne,we=!1){return Object.defineProperty(ye,ie,{value:ne,enumerable:!we,configurable:!0,writable:!1}),ne}const U=(function(){function ie(ne,we){this.constructor===ie&&k("Cannot initialize BaseException."),this.message=ne,this.name=we}return ie.prototype=new Error,ie.constructor=ie,ie})();n.BaseException=U;class H extends U{constructor(ie,ne){super(ie,"PasswordException"),this.code=ne}}n.PasswordException=H;class V extends U{constructor(ie,ne){super(ie,"UnknownErrorException"),this.details=ne}}n.UnknownErrorException=V;class E extends U{constructor(ie){super(ie,"InvalidPDFException")}}n.InvalidPDFException=E;class M extends U{constructor(ie){super(ie,"MissingPDFException")}}n.MissingPDFException=M;class L extends U{constructor(ie,ne){super(ie,"UnexpectedResponseException"),this.status=ne}}n.UnexpectedResponseException=L;class B extends U{constructor(ie){super(ie,"FormatError")}}n.FormatError=B;class W extends U{constructor(ie){super(ie,"AbortException")}}n.AbortException=W;function K(ye){(typeof ye!="object"||ye?.length===void 0)&&k("Invalid argument for bytesToString");const ie=ye.length,ne=8192;if(ie<ne)return String.fromCharCode.apply(null,ye);const we=[];for(let Ve=0;Ve<ie;Ve+=ne){const Je=Math.min(Ve+ne,ie),Ze=ye.subarray(Ve,Je);we.push(String.fromCharCode.apply(null,Ze))}return we.join("")}function Q(ye){typeof ye!="string"&&k("Invalid argument for stringToBytes");const ie=ye.length,ne=new Uint8Array(ie);for(let we=0;we<ie;++we)ne[we]=ye.charCodeAt(we)&255;return ne}function oe(ye){return String.fromCharCode(ye>>24&255,ye>>16&255,ye>>8&255,ye&255)}function xe(ye){return Object.keys(ye).length}function se(ye){const ie=Object.create(null);for(const[ne,we]of ye)ie[ne]=we;return ie}function le(){const ye=new Uint8Array(4);return ye[0]=1,new Uint32Array(ye.buffer,0,1)[0]===1}function ue(){try{return new Function(""),!0}catch{return!1}}class pe{static get isLittleEndian(){return j(this,"isLittleEndian",le())}static get isEvalSupported(){return j(this,"isEvalSupported",ue())}static get isOffscreenCanvasSupported(){return j(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?j(this,"platform",{isWin:!1,isMac:!1}):j(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return j(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}n.FeatureTest=pe;const ge=[...Array(256).keys()].map(ye=>ye.toString(16).padStart(2,"0"));class be{static makeHexColor(ie,ne,we){return`#${ge[ie]}${ge[ne]}${ge[we]}`}static scaleMinMax(ie,ne){let we;ie[0]?(ie[0]<0&&(we=ne[0],ne[0]=ne[1],ne[1]=we),ne[0]*=ie[0],ne[1]*=ie[0],ie[3]<0&&(we=ne[2],ne[2]=ne[3],ne[3]=we),ne[2]*=ie[3],ne[3]*=ie[3]):(we=ne[0],ne[0]=ne[2],ne[2]=we,we=ne[1],ne[1]=ne[3],ne[3]=we,ie[1]<0&&(we=ne[2],ne[2]=ne[3],ne[3]=we),ne[2]*=ie[1],ne[3]*=ie[1],ie[2]<0&&(we=ne[0],ne[0]=ne[1],ne[1]=we),ne[0]*=ie[2],ne[1]*=ie[2]),ne[0]+=ie[4],ne[1]+=ie[4],ne[2]+=ie[5],ne[3]+=ie[5]}static transform(ie,ne){return[ie[0]*ne[0]+ie[2]*ne[1],ie[1]*ne[0]+ie[3]*ne[1],ie[0]*ne[2]+ie[2]*ne[3],ie[1]*ne[2]+ie[3]*ne[3],ie[0]*ne[4]+ie[2]*ne[5]+ie[4],ie[1]*ne[4]+ie[3]*ne[5]+ie[5]]}static applyTransform(ie,ne){const we=ie[0]*ne[0]+ie[1]*ne[2]+ne[4],Ve=ie[0]*ne[1]+ie[1]*ne[3]+ne[5];return[we,Ve]}static applyInverseTransform(ie,ne){const we=ne[0]*ne[3]-ne[1]*ne[2],Ve=(ie[0]*ne[3]-ie[1]*ne[2]+ne[2]*ne[5]-ne[4]*ne[3])/we,Je=(-ie[0]*ne[1]+ie[1]*ne[0]+ne[4]*ne[1]-ne[5]*ne[0])/we;return[Ve,Je]}static getAxialAlignedBoundingBox(ie,ne){const we=this.applyTransform(ie,ne),Ve=this.applyTransform(ie.slice(2,4),ne),Je=this.applyTransform([ie[0],ie[3]],ne),Ze=this.applyTransform([ie[2],ie[1]],ne);return[Math.min(we[0],Ve[0],Je[0],Ze[0]),Math.min(we[1],Ve[1],Je[1],Ze[1]),Math.max(we[0],Ve[0],Je[0],Ze[0]),Math.max(we[1],Ve[1],Je[1],Ze[1])]}static inverseTransform(ie){const ne=ie[0]*ie[3]-ie[1]*ie[2];return[ie[3]/ne,-ie[1]/ne,-ie[2]/ne,ie[0]/ne,(ie[2]*ie[5]-ie[4]*ie[3])/ne,(ie[4]*ie[1]-ie[5]*ie[0])/ne]}static singularValueDecompose2dScale(ie){const ne=[ie[0],ie[2],ie[1],ie[3]],we=ie[0]*ne[0]+ie[1]*ne[2],Ve=ie[0]*ne[1]+ie[1]*ne[3],Je=ie[2]*ne[0]+ie[3]*ne[2],Ze=ie[2]*ne[1]+ie[3]*ne[3],Pt=(we+Ze)/2,Ct=Math.sqrt((we+Ze)**2-4*(we*Ze-Je*Ve))/2,Kt=Pt+Ct||1,ht=Pt-Ct||1;return[Math.sqrt(Kt),Math.sqrt(ht)]}static normalizeRect(ie){const ne=ie.slice(0);return ie[0]>ie[2]&&(ne[0]=ie[2],ne[2]=ie[0]),ie[1]>ie[3]&&(ne[1]=ie[3],ne[3]=ie[1]),ne}static intersect(ie,ne){const we=Math.max(Math.min(ie[0],ie[2]),Math.min(ne[0],ne[2])),Ve=Math.min(Math.max(ie[0],ie[2]),Math.max(ne[0],ne[2]));if(we>Ve)return null;const Je=Math.max(Math.min(ie[1],ie[3]),Math.min(ne[1],ne[3])),Ze=Math.min(Math.max(ie[1],ie[3]),Math.max(ne[1],ne[3]));return Je>Ze?null:[we,Je,Ve,Ze]}static bezierBoundingBox(ie,ne,we,Ve,Je,Ze,Pt,Ct){const Kt=[],ht=[[],[]];let rn,Bt,In,Ke,On,Yt,Nn,sn;for(let mn=0;mn<2;++mn){if(mn===0?(Bt=6*ie-12*we+6*Je,rn=-3*ie+9*we-9*Je+3*Pt,In=3*we-3*ie):(Bt=6*ne-12*Ve+6*Ze,rn=-3*ne+9*Ve-9*Ze+3*Ct,In=3*Ve-3*ne),Math.abs(rn)<1e-12){if(Math.abs(Bt)<1e-12)continue;Ke=-In/Bt,0<Ke&&Ke<1&&Kt.push(Ke);continue}Nn=Bt*Bt-4*In*rn,sn=Math.sqrt(Nn),!(Nn<0)&&(On=(-Bt+sn)/(2*rn),0<On&&On<1&&Kt.push(On),Yt=(-Bt-sn)/(2*rn),0<Yt&&Yt<1&&Kt.push(Yt))}let jn=Kt.length,it;const Qt=jn;for(;jn--;)Ke=Kt[jn],it=1-Ke,ht[0][jn]=it*it*it*ie+3*it*it*Ke*we+3*it*Ke*Ke*Je+Ke*Ke*Ke*Pt,ht[1][jn]=it*it*it*ne+3*it*it*Ke*Ve+3*it*Ke*Ke*Ze+Ke*Ke*Ke*Ct;return ht[0][Qt]=ie,ht[1][Qt]=ne,ht[0][Qt+1]=Pt,ht[1][Qt+1]=Ct,ht[0].length=ht[1].length=Qt+2,[Math.min(...ht[0]),Math.min(...ht[1]),Math.max(...ht[0]),Math.max(...ht[1])]}}n.Util=be;const Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function De(ye){if(ye[0]>=""){let ne;if(ye[0]===""&&ye[1]===""?ne="utf-16be":ye[0]===""&&ye[1]===""?ne="utf-16le":ye[0]===""&&ye[1]===""&&ye[2]===""&&(ne="utf-8"),ne)try{const we=new TextDecoder(ne,{fatal:!0}),Ve=Q(ye);return we.decode(Ve)}catch(we){z(`stringToPDFString: "${we}".`)}}const ie=[];for(let ne=0,we=ye.length;ne<we;ne++){const Ve=Pe[ye.charCodeAt(ne)];ie.push(Ve?String.fromCharCode(Ve):ye.charAt(ne))}return ie.join("")}function Ie(ye){return decodeURIComponent(escape(ye))}function Ne(ye){return unescape(encodeURIComponent(ye))}function je(ye){return typeof ye=="object"&&ye?.byteLength!==void 0}function at(ye,ie){if(ye.length!==ie.length)return!1;for(let ne=0,we=ye.length;ne<we;ne++)if(ye[ne]!==ie[ne])return!1;return!0}function Qe(ye=new Date){return[ye.getUTCFullYear().toString(),(ye.getUTCMonth()+1).toString().padStart(2,"0"),ye.getUTCDate().toString().padStart(2,"0"),ye.getUTCHours().toString().padStart(2,"0"),ye.getUTCMinutes().toString().padStart(2,"0"),ye.getUTCSeconds().toString().padStart(2,"0")].join("")}class Tt{#e=!1;constructor(){this.promise=new Promise((ie,ne)=>{this.resolve=we=>{this.#e=!0,ie(we)},this.reject=we=>{this.#e=!0,ne(we)}})}get settled(){return this.#e}}n.PromiseCapability=Tt;let nt=null,dt=null;function Vt(ye){return nt||(nt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dt=new Map([["","t"]])),ye.replaceAll(nt,(ie,ne,we)=>ne?ne.normalize("NFKC"):dt.get(we))}function $t(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ye=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ye);else for(let ie=0;ie<32;ie++)ye[ie]=Math.floor(Math.random()*255);return K(ye)}const pn="pdfjs_internal_id_";n.AnnotationPrefix=pn}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(i){if(typeof i=="string"||i instanceof URL?i={url:i}:(0,_util.isArrayBuffer)(i)&&(i={data:i}),typeof i!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!i.url&&!i.data&&!i.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const n=new PDFDocumentLoadingTask,{docId:s}=n,o=i.url?getUrlProp(i.url):null,c=i.data?getDataProp(i.data):null,m=i.httpHeaders||null,f=i.withCredentials===!0,_=i.password??null,x=i.range instanceof PDFDataRangeTransport?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let l=i.worker instanceof PDFWorker?i.worker:null;const h=i.verbosity,y=typeof i.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(i.docBaseUrl)?i.docBaseUrl:null,v=typeof i.cMapUrl=="string"?i.cMapUrl:null,p=i.cMapPacked!==!1,b=i.CMapReaderFactory||DefaultCMapReaderFactory,C=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,S=i.StandardFontDataFactory||DefaultStandardFontDataFactory,D=i.stopAtErrors!==!0,O=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,I=i.isEvalSupported!==!1,R=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!_util.isNodeJS,F=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,G=typeof i.disableFontFace=="boolean"?i.disableFontFace:_util.isNodeJS,$=i.fontExtraProperties===!0,q=i.enableXfa===!0,ee=i.ownerDocument||globalThis.document,J=i.disableRange===!0,me=i.disableStream===!0,he=i.disableAutoFetch===!0,fe=i.pdfBug===!0,ve=x?x.length:i.length??NaN,ce=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!_util.isNodeJS&&!G,z=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:b===_display_utils.DOMCMapReaderFactory&&S===_display_utils.DOMStandardFontDataFactory&&v&&C&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(C,document.baseURI),k=i.canvasFactory||new DefaultCanvasFactory({ownerDocument:ee}),P=i.filterFactory||new DefaultFilterFactory({docId:s,ownerDocument:ee}),T=null;(0,_util.setVerbosityLevel)(h);const w={canvasFactory:k,filterFactory:P};if(z||(w.cMapReaderFactory=new b({baseUrl:v,isCompressed:p}),w.standardFontDataFactory=new S({baseUrl:C})),!l){const H={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};l=H.port?PDFWorker.fromPort(H):new PDFWorker(H),n._worker=l}const j={docId:s,apiVersion:"3.11.174",data:c,password:_,disableAutoFetch:he,rangeChunkSize:d,length:ve,docBaseUrl:y,enableXfa:q,evaluatorOptions:{maxImageSize:O,disableFontFace:G,ignoreErrors:D,isEvalSupported:I,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:$,useSystemFonts:ce,cMapUrl:z?v:null,standardFontDataUrl:z?C:null}},U={ignoreErrors:D,isEvalSupported:I,disableFontFace:G,fontExtraProperties:$,enableXfa:q,ownerDocument:ee,disableAutoFetch:he,pdfBug:fe,styleElement:T};return l.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");const H=_fetchDocument(l,j),V=new Promise(function(E){let M;x?M=new _transport_stream.PDFDataTransportStream({length:ve,initialData:x.initialData,progressiveDone:x.progressiveDone,contentDispositionFilename:x.contentDispositionFilename,disableRange:J,disableStream:me},x):c||(M=(B=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(B):(0,_display_utils.isValidFetchUrl)(B.url)?new _displayFetch_stream.PDFFetchStream(B):new _displayNetwork.PDFNetworkStream(B))({url:o,length:ve,httpHeaders:m,withCredentials:f,rangeChunkSize:d,disableRange:J,disableStream:me})),E(M)});return Promise.all([H,V]).then(function([E,M]){if(n.destroyed)throw new Error("Loading aborted");const L=new _message_handler.MessageHandler(s,E,l.port),B=new WorkerTransport(L,n,M,U,w);n._transport=B,L.send("Ready",null)})}).catch(n._capability.reject),n}async function _fetchDocument(i,n){if(i.destroyed)throw new Error("Worker was destroyed");const s=await i.messageHandler.sendWithPromise("GetDocRequest",n,n.data?[n.data.buffer]:null);if(i.destroyed)throw new Error("Worker was destroyed");return s}function getUrlProp(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(_util.isNodeJS&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(i){if(_util.isNodeJS&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return(0,_util.stringToBytes)(i);if(typeof i=="object"&&!isNaN(i?.length)||(0,_util.isArrayBuffer)(i))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(n){throw this._worker?.port&&delete this._worker._pendingDestroy,n}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(n,s,o=!1,c=null){this.length=n,this.initialData=s,this.progressiveDone=o,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,s){for(const o of this._rangeListeners)o(n,s)}onDataProgress(n,s){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(n,s)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,s){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(n,s){this._pdfInfo=n,this._transport=s,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const c=[];for(const m in o)c.push(...o[m]);return c}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(n,s,o,c=!1){this._pageIndex=n,this._pageInfo=s,this._transport=o,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:s=this.rotate,offsetX:o=0,offsetY:c=0,dontFlip:m=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:s,offsetX:o,offsetY:c,dontFlip:m})}getAnnotations({intent:n="display"}={}){const s=this._transport.getRenderingIntent(n);return this._transport.getAnnotations(this._pageIndex,s.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:n,viewport:s,intent:o="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:m=null,background:f=null,optionalContentConfigPromise:_=null,annotationCanvasMap:x=null,pageColors:d=null,printAnnotationStorage:l=null}){this._stats?.time("Overall");const h=this._transport.getRenderingIntent(o,c,l);this.#t=!1,this.#r(),_||(_=this._transport.getOptionalContentConfig());let y=this._intentStates.get(h.cacheKey);y||(y=Object.create(null),this._intentStates.set(h.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const p=S=>{y.renderTasks.delete(b),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),S?(b.capability.reject(S),this._abortOperatorList({intentState:y,reason:S instanceof Error?S:new Error(S)})):b.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},b=new InternalRenderTask({callback:p,params:{canvasContext:n,viewport:s,transform:m,background:f},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:x,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||=new Set).add(b);const C=b.task;return Promise.all([y.displayReadyCapability.promise,_]).then(([S,D])=>{if(this.destroyed){p();return}this._stats?.time("Rendering"),b.initializeGraphics({transparency:S,optionalContentConfig:D}),b.operatorListChanged()}).catch(p),C}getOperatorList({intent:n="display",annotationMode:s=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){function c(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(_))}const m=this._transport.getRenderingIntent(n,s,o,!0);let f=this._intentStates.get(m.cacheKey);f||(f=Object.create(null),this._intentStates.set(m.cacheKey,f));let _;return f.opListReadCapability||(_=Object.create(null),_.operatorListChanged=c,f.opListReadCapability=new _util.PromiseCapability,(f.renderTasks||=new Set).add(_),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m)),f.opListReadCapability.promise}streamTextContent({includeMarkedContent:n=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:n===!0,disableNormalization:s===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const s=this.streamTextContent(n);return new Promise(function(o,c){function m(){f.read().then(function({value:x,done:d}){if(d){o(_);return}Object.assign(_.styles,x.styles),_.items.push(...x.items),m()},c)}const f=s.getReader(),_={items:[],styles:Object.create(null)};m()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const n=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const o of s.renderTasks)n.push(o.completed),o.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(n)}cleanup(n=!1){this.#t=!0;const s=this.#n(!1);return n&&s&&(this._stats&&=new _display_utils.StatTimer),s}#n(n=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(n)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:s,operatorList:o}of this._intentStates.values())if(s.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(n,s){const o=this._intentStates.get(s);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(n))}_renderPageChunk(n,s){for(let o=0,c=n.length;o<c;o++)s.operatorList.fnArray.push(n.fnArray[o]),s.operatorList.argsArray.push(n.argsArray[o]);s.operatorList.lastChunk=n.lastChunk,s.operatorList.separateAnnots=n.separateAnnots;for(const o of s.renderTasks)o.operatorListChanged();n.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:n,cacheKey:s,annotationStorageSerializable:o}){const{map:c,transfers:m}=o,_=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:s,annotationStorage:c},m).getReader(),x=this._intentStates.get(s);x.streamReader=_;const d=()=>{_.read().then(({value:l,done:h})=>{if(h){x.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,x),d())},l=>{if(x.streamReader=null,!this._transport.destroyed){if(x.operatorList){x.operatorList.lastChunk=!0;for(const h of x.renderTasks)h.operatorListChanged();this.#n(!0)}if(x.displayReadyCapability)x.displayReadyCapability.reject(l);else if(x.opListReadCapability)x.opListReadCapability.reject(l);else throw l}})};d()}_abortOperatorList({intentState:n,reason:s,force:o=!1}){if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!o){if(n.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException){let c=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(c+=s.extraDelay),n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:s,force:!0})},c);return}}if(n.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[c,m]of this._intentStates)if(m===n){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(n,s){const o={data:structuredClone(n,s?{transfer:s}:null)};this.#t.then(()=>{for(const c of this.#e)c.call(this,o)})}addEventListener(n,s){this.#e.add(s)}removeEventListener(n,s){this.#e.delete(s)}terminate(){this.#e.clear()}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const i=document?.currentScript?.src;i&&(PDFWorkerUtil.fallbackWorkerSrc=i.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(i,n){let s;try{if(s=new URL(i),!s.origin||s.origin==="null")return!1}catch{return!1}const o=new URL(n,s);return s.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(i){const n=`importScripts("${i}");`;return URL.createObjectURL(new Blob([n]))}}class PDFWorker{static#workerPorts;constructor({name:i=null,port:n=null,verbosity:s=(0,_util.getVerbosityLevel)()}={}){if(this.name=i,this.destroyed=!1,this.verbosity=s,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,n){if(PDFWorker.#workerPorts?.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:i}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,i)||(i=PDFWorkerUtil.createCDNWrapper(new URL(i,window.location).href));const n=new Worker(i),s=new _message_handler.MessageHandler("main","worker",n),o=()=>{n.removeEventListener("error",c),s.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||o()};n.addEventListener("error",c),s.on("test",f=>{if(n.removeEventListener("error",c),this.destroyed){o();return}f?(this._messageHandler=s,this._port=n,this._webWorker=n,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),n.terminate())}),s.on("ready",f=>{if(n.removeEventListener("error",c),this.destroyed){o();return}try{m()}catch{this._setupFakeWorker()}});const m=()=>{const f=new Uint8Array;s.send("test",f,[f.buffer])};m();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(i=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new LoopbackPort;this._port=n;const s=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(s+"_worker",s,n);i.setup(o,n);const c=new _message_handler.MessageHandler(s,s+"_worker",n);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){if(!i?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=this.#workerPorts?.get(i.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new PDFWorker(i)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports$1.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(n,s,o,c,m){this.messageHandler=n,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,this.canvasFactory=m.canvasFactory,this.filterFactory=m.filterFactory,this.cMapReaderFactory=m.cMapReaderFactory,this.standardFontDataFactory=m.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(n,s=null){const o=this.#e.get(n);if(o)return o;const c=this.messageHandler.sendWithPromise(n,s);return this.#e.set(n,c),c}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(n,s=_util.AnnotationMode.ENABLE,o=null,c=!1){let m=_util.RenderingIntentFlag.DISPLAY,f=_annotation_storage.SerializableEmpty;switch(n){case"any":m=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":m=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${n}`)}switch(s){case _util.AnnotationMode.DISABLE:m+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:m+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:m+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=(m&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${s}`)}return c&&(m+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:m,cacheKey:`${m}_${f.hash}`,annotationStorageSerializable:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const o of this.#t.values())n.push(o._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return n.push(s),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:s}=this;n.on("GetReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=m=>{this._lastProgress={loaded:m.loaded,total:m.total}},c.onPull=()=>{this._fullReader.read().then(function({value:m,done:f}){if(f){c.close();return}(0,_util.assert)(m instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(m),1,[m])}).catch(m=>{c.error(m)})},c.onCancel=m=>{this._fullReader.cancel(m),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),n.on("ReaderHeadersReady",o=>{const c=new _util.PromiseCapability,m=this._fullReader;return m.headersReady.then(()=>{(!m.isStreamingSupported||!m.isRangeSupported)&&(this._lastProgress&&s.onProgress?.(this._lastProgress),m.onProgress=f=>{s.onProgress?.({loaded:f.loaded,total:f.total})}),c.resolve({isStreamingSupported:m.isStreamingSupported,isRangeSupported:m.isRangeSupported,contentLength:m.contentLength})},c.reject),c.promise}),n.on("GetRangeReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const m=this._networkStream.getRangeReader(o.begin,o.end);if(!m){c.close();return}c.onPull=()=>{m.read().then(function({value:f,done:_}){if(_){c.close();return}(0,_util.assert)(f instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{c.error(f)})},c.onCancel=f=>{m.cancel(f),c.ready.catch(_=>{if(!this.destroyed)throw _})}}),n.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(o,this))}),n.on("DocException",function(o){let c;switch(o.name){case"PasswordException":c=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":c=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}s._capability.reject(c)}),n.on("PasswordRequest",o=>{if(this.#r=new _util.PromiseCapability,s.onPassword){const c=m=>{m instanceof Error?this.#r.reject(m):this.#r.resolve({password:m})};try{s.onPassword(c,o.code)}catch(m){this.#r.reject(m)}}else this.#r.reject(new _util.PasswordException(o.message,o.code));return this.#r.promise}),n.on("DataLoaded",o=>{s.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),n.on("StartRenderPage",o=>{if(this.destroyed)return;this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),n.on("commonobj",([o,c,m])=>{if(!this.destroyed&&!this.commonObjs.has(o))switch(c){case"Font":const f=this._params;if("error"in m){const d=m.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(o,d);break}const _=f.pdfBug&&globalThis.FontInspector?.enabled?(d,l)=>globalThis.FontInspector.fontAdded(d,l):null,x=new _font_loader.FontFaceObject(m,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,inspectFont:_});this.fontLoader.bind(x).catch(d=>n.sendWithPromise("FontFallback",{id:o})).finally(()=>{!f.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(o,x)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,m);break;default:throw new Error(`Got unknown common object type ${c}`)}}),n.on("obj",([o,c,m,f])=>{if(this.destroyed)return;const _=this.#t.get(c);if(!_.objs.has(o))switch(m){case"Image":if(_.objs.resolve(o,f),f){let x;if(f.bitmap){const{width:d,height:l}=f;x=d*l*4}else x=f.data?.length||0;x>_util.MAX_IMAGE_SIZE_TO_CACHE&&(_._maybeCleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(o,f);break;default:throw new Error(`Got unknown object type ${m}`)}}),n.on("DocProgress",o=>{this.destroyed||s.onProgress?.({loaded:o.loaded,total:o.total})}),n.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),n.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfers:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:this._fullReader?.filename??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=n-1,o=this.#n.get(s);if(o)return o;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(m=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(s,m,this,this._params.pdfBug);return this.#t.set(s,f),f});return this.#n.set(s,c),c}getPageIndex(n){return typeof n!="object"||n===null||!Number.isInteger(n.num)||n.num<0||!Number.isInteger(n.gen)||n.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen})}getAnnotations(n,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:s})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return typeof n!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(n=>new _optional_content_config.OptionalContentConfig(n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const n="GetMetadata",s=this.#e.get(n);if(s)return s;const o=this.messageHandler.sendWithPromise(n,null).then(c=>({info:c[0],metadata:c[1]?new _metadata.Metadata(c[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(n,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(n=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of this.#t.values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),n||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:n,enableXfa:s}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n,enableXfa:s})}}class PDFObjects{#e=Object.create(null);#t(n){return this.#e[n]||={capability:new _util.PromiseCapability,data:null}}get(n,s=null){if(s){const c=this.#t(n);return c.capability.promise.then(()=>s(c.data)),null}const o=this.#e[n];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${n}.`);return o.data}has(n){return this.#e[n]?.capability.settled||!1}resolve(n,s=null){const o=this.#t(n);o.data=s,o.capability.resolve()}clear(){for(const n in this.#e){const{data:s}=this.#e[n];s?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(n){this.#e=n,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(n=0){this.#e.cancel(null,n)}get separateAnnots(){const{separateAnnots:n}=this.#e.operatorList;if(!n)return!1;const{annotationCanvasMap:s}=this.#e;return n.form||n.canvas&&s?.size>0}}exports$1.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:n,params:s,objs:o,commonObjs:c,annotationCanvasMap:m,operatorList:f,pageIndex:_,canvasFactory:x,filterFactory:d,useRequestAnimationFrame:l=!1,pdfBug:h=!1,pageColors:y=null}){this.callback=n,this.params=s,this.objs=o,this.commonObjs=c,this.annotationCanvasMap=m,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=_,this.canvasFactory=x,this.filterFactory=d,this._pdfBug=h,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:s}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:c,transform:m,background:f}=this.params;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:m,viewport:c,transparency:n,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(n=null,s=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SerializableEmpty=n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var o=s(1),c=s(4),m=s(8);const f=Object.freeze({map:null,hash:"",transfers:void 0});n.SerializableEmpty=f;class _{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(l,h){const y=this.#t.get(l);return y===void 0?h:Object.assign(h,y)}getRawValue(l){return this.#t.get(l)}remove(l){if(this.#t.delete(l),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const h of this.#t.values())if(h instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(l,h){const y=this.#t.get(l);let v=!1;if(y!==void 0)for(const[p,b]of Object.entries(h))y[p]!==b&&(v=!0,y[p]=b);else v=!0,this.#t.set(l,h);v&&this.#n(),h instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(h.constructor._type)}has(l){return this.#t.has(l)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(l){for(const[h,y]of Object.entries(l))this.setValue(h,y)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new x(this)}get serializable(){if(this.#t.size===0)return f;const l=new Map,h=new m.MurmurHash3_64,y=[],v=Object.create(null);let p=!1;for(const[b,C]of this.#t){const S=C instanceof c.AnnotationEditor?C.serialize(!1,v):C;S&&(l.set(b,S),h.update(`${b}:${JSON.stringify(S)}`),p||=!!S.bitmap)}if(p)for(const b of l.values())b.bitmap&&y.push(b.bitmap);return l.size>0?{map:l,hash:h.hexdigest(),transfers:y}:f}}n.AnnotationStorage=_;class x extends _{#e;constructor(l){super();const{map:h,hash:y,transfers:v}=l.serializable,p=structuredClone(h,v?{transfer:v}:null);this.#e={map:p,hash:y,transfers:v}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}n.PrintAnnotationStorage=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var o=s(5),c=s(1),m=s(6);class f{#e="";#t=!1;#n=null;#r=null;#a=null;#o=!1;#s=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=f._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===f&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:l,rawDims:{pageWidth:h,pageHeight:y,pageX:v,pageY:p}}=this.parent.viewport;this.rotation=l,this.pageRotation=(360+l-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[h,y],this.pageTranslation=[v,p];const[b,C]=this.parentDimensions;this.x=d.x/b,this.y=d.y/C,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const l=new _({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});l.annotationElementId=d.annotationElementId,l.deleted=!0,l._uiManager.addToAnnotationStorage(l)}static initialize(d,l=null){if(f._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(y=>[y,d.get(y)])),l?.strings)for(const y of l.strings)f._l10nPromise.set(y,d.get(y));if(f._borderLineWidth!==-1)return;const h=getComputedStyle(document.documentElement);f._borderLineWidth=parseFloat(h.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,l){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,l){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,l]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*l/(d*2),this.y+=this.width*d/(l*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*l/(d*2),this.y-=this.width*d/(l*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,l,h,y){const[v,p]=this.parentDimensions;[h,y]=this.screenToPageTranslation(h,y),this.x=(d+h)/v,this.y=(l+y)/p,this.fixAndSetPosition()}#y([d,l],h,y){[h,y]=this.screenToPageTranslation(h,y),this.x+=h/d,this.y+=y/l,this.fixAndSetPosition()}translate(d,l){this.#y(this.parentDimensions,d,l)}translateInPage(d,l){this.#y(this.pageDimensions,d,l),this.div.scrollIntoView({block:"nearest"})}drag(d,l){const[h,y]=this.parentDimensions;if(this.x+=d/h,this.y+=l/y,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:S,y:D}=this.div.getBoundingClientRect();this.parent.findNewParent(this,S,D)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:v,y:p}=this;const[b,C]=this.#g();v+=b,p+=C,this.div.style.left=`${(100*v).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[d,l]=this.parentDimensions,{_borderLineWidth:h}=f,y=h/d,v=h/l;switch(this.rotation){case 90:return[-y,v];case 180:return[y,v];case 270:return[y,-v];default:return[-y,-v]}}fixAndSetPosition(){const[d,l]=this.pageDimensions;let{x:h,y,width:v,height:p}=this;switch(v*=d,p*=l,h*=d,y*=l,this.rotation){case 0:h=Math.max(0,Math.min(d-v,h)),y=Math.max(0,Math.min(l-p,y));break;case 90:h=Math.max(0,Math.min(d-p,h)),y=Math.min(l,Math.max(v,y));break;case 180:h=Math.min(d,Math.max(v,h)),y=Math.min(l,Math.max(p,y));break;case 270:h=Math.min(d,Math.max(p,h)),y=Math.max(0,Math.min(l-v,y));break}this.x=h/=d,this.y=y/=l;const[b,C]=this.#g();h+=b,y+=C;const{style:S}=this.div;S.left=`${(100*h).toFixed(2)}%`,S.top=`${(100*y).toFixed(2)}%`,this.moveInDOM()}static#m(d,l,h){switch(h){case 90:return[l,-d];case 180:return[-d,-l];case 270:return[-l,d];default:return[d,l]}}screenToPageTranslation(d,l){return f.#m(d,l,this.parentRotation)}pageTranslationToScreen(d,l){return f.#m(d,l,360-this.parentRotation)}#u(d){switch(d){case 90:{const[l,h]=this.pageDimensions;return[0,-l/h,h/l,0]}case 180:return[-1,0,0,-1];case 270:{const[l,h]=this.pageDimensions;return[0,l/h,-h/l,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[l,h]}=this,y=l*d,v=h*d;return c.FeatureTest.isCSSRoundSupported?[Math.round(y),Math.round(v)]:[y,v]}setDims(d,l){const[h,y]=this.parentDimensions;this.div.style.width=`${(100*d/h).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*l/y).toFixed(2)}%`),this.#n?.classList.toggle("small",d<f.SMALL_EDITOR_SIZE||l<f.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:l,width:h}=d,y=h.endsWith("%"),v=!this.#o&&l.endsWith("%");if(y&&v)return;const[p,b]=this.parentDimensions;y||(d.width=`${(100*parseFloat(h)/p).toFixed(2)}%`),!this.#o&&!v&&(d.height=`${(100*parseFloat(l)/b).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const l of d){const h=document.createElement("div");this.#s.append(h),h.classList.add("resizer",l),h.addEventListener("pointerdown",this.#A.bind(this,l)),h.addEventListener("contextmenu",m.noContextMenu)}this.div.prepend(this.#s)}#A(d,l){l.preventDefault();const{isMac:h}=c.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&h)return;const y=this.#S.bind(this,d),v=this._isDraggable;this._isDraggable=!1;const p={passive:!0,capture:!0};window.addEventListener("pointermove",y,p);const b=this.x,C=this.y,S=this.width,D=this.height,O=this.parent.div.style.cursor,I=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(l.target).cursor;const R=()=>{this._isDraggable=v,window.removeEventListener("pointerup",R),window.removeEventListener("blur",R),window.removeEventListener("pointermove",y,p),this.parent.div.style.cursor=O,this.div.style.cursor=I;const F=this.x,G=this.y,$=this.width,q=this.height;F===b&&G===C&&$===S&&q===D||this.addCommands({cmd:()=>{this.width=$,this.height=q,this.x=F,this.y=G;const[ee,J]=this.parentDimensions;this.setDims(ee*$,J*q),this.fixAndSetPosition()},undo:()=>{this.width=S,this.height=D,this.x=b,this.y=C;const[ee,J]=this.parentDimensions;this.setDims(ee*S,J*D),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",R),window.addEventListener("blur",R)}#S(d,l){const[h,y]=this.parentDimensions,v=this.x,p=this.y,b=this.width,C=this.height,S=f.MIN_SIZE/h,D=f.MIN_SIZE/y,O=V=>Math.round(V*1e4)/1e4,I=this.#u(this.rotation),R=(V,E)=>[I[0]*V+I[2]*E,I[1]*V+I[3]*E],F=this.#u(360-this.rotation),G=(V,E)=>[F[0]*V+F[2]*E,F[1]*V+F[3]*E];let $,q,ee=!1,J=!1;switch(d){case"topLeft":ee=!0,$=(V,E)=>[0,0],q=(V,E)=>[V,E];break;case"topMiddle":$=(V,E)=>[V/2,0],q=(V,E)=>[V/2,E];break;case"topRight":ee=!0,$=(V,E)=>[V,0],q=(V,E)=>[0,E];break;case"middleRight":J=!0,$=(V,E)=>[V,E/2],q=(V,E)=>[0,E/2];break;case"bottomRight":ee=!0,$=(V,E)=>[V,E],q=(V,E)=>[0,0];break;case"bottomMiddle":$=(V,E)=>[V/2,E],q=(V,E)=>[V/2,0];break;case"bottomLeft":ee=!0,$=(V,E)=>[0,E],q=(V,E)=>[V,0];break;case"middleLeft":J=!0,$=(V,E)=>[0,E/2],q=(V,E)=>[V,E/2];break}const me=$(b,C),he=q(b,C);let fe=R(...he);const ve=O(v+fe[0]),ce=O(p+fe[1]);let z=1,k=1,[P,T]=this.screenToPageTranslation(l.movementX,l.movementY);if([P,T]=G(P/h,T/y),ee){const V=Math.hypot(b,C);z=k=Math.max(Math.min(Math.hypot(he[0]-me[0]-P,he[1]-me[1]-T)/V,1/b,1/C),S/b,D/C)}else J?z=Math.max(S,Math.min(1,Math.abs(he[0]-me[0]-P)))/b:k=Math.max(D,Math.min(1,Math.abs(he[1]-me[1]-T)))/C;const w=O(b*z),j=O(C*k);fe=R(...q(w,j));const U=ve-fe[0],H=ce-fe[1];this.width=w,this.height=j,this.x=U,this.y=H,this.setDims(h*w,y*j),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const l=await f._l10nPromise.get("editor_alt_text_button_label");d.textContent=l,d.setAttribute("aria-label",l),d.tabIndex="0",d.addEventListener("contextmenu",m.noContextMenu),d.addEventListener("pointerdown",h=>h.stopPropagation()),d.addEventListener("click",h=>{h.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",h=>{h.target===d&&h.key==="Enter"&&(h.preventDefault(),this._uiManager.editAltText(this))}),this.#T(),this.div.append(d),f.SMALL_EDITOR_SIZE||(f.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#T(){const d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#r?.remove();return}f._l10nPromise.get("editor_alt_text_edit_button_label").then(h=>{d.setAttribute("aria-label",h)});let l=this.#r;if(!l){this.#r=l=document.createElement("span"),l.className="tooltip",l.setAttribute("role","tooltip");const h=l.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",h);const y=100;d.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},y)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#r?.classList.remove("show")})}d.classList.add("done"),l.innerText=this.#t?await f._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,l.parentNode||d.append(l)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:l}){this.#e===d&&this.#t===l||(this.#e=d,this.#t=l,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[d,l]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*l/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/l).toFixed(2)}%`);const[h,y]=this.getInitialTranslation();return this.translate(h,y),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:l}=c.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&l){d.preventDefault();return}this.#i=!0,this.#C(d)}#C(d){if(!this._isDraggable)return;const l=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let h,y;l&&(h={passive:!0,capture:!0},y=p=>{const[b,C]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(b,C)},window.addEventListener("pointermove",y,h));const v=()=>{if(window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),l&&window.removeEventListener("pointermove",y,h),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:p}=c.FeatureTest.platform;d.ctrlKey&&!p||d.shiftKey||d.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",v),window.addEventListener("blur",v)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,l,h){d.changeParent(this),this.x=l,this.y=h,this.fixAndSetPosition()}getRect(d,l){const h=this.parentScale,[y,v]=this.pageDimensions,[p,b]=this.pageTranslation,C=d/h,S=l/h,D=this.x*y,O=this.y*v,I=this.width*y,R=this.height*v;switch(this.rotation){case 0:return[D+C+p,v-O-S-R+b,D+C+I+p,v-O-S+b];case 90:return[D+S+p,v-O+C+b,D+S+R+p,v-O+C+I+b];case 180:return[D-C-I+p,v-O+S+b,D-C+p,v-O+S+R+b];case 270:return[D-S-R+p,v-O-C-I+b,D-S+p,v-O-C+b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,l){const[h,y,v,p]=d,b=v-h,C=p-y;switch(this.rotation){case 0:return[h,l-p,b,C];case 90:return[h,l-y,C,b];case 180:return[v,l-y,b,C];case 270:return[v,l-p,C,b];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(d=!1,l=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(d,l,h){const y=new this.prototype.constructor({parent:l,id:l.getNextId(),uiManager:h});y.rotation=d.rotation;const[v,p]=y.pageDimensions,[b,C,S,D]=y.getRectInCurrentCoords(d.rect,p);return y.x=b/v,y.y=C/p,y.width=S/v,y.height=D/p,y}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,l){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(d){this.#f=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,l){this.#o=!0;const h=d/l,{style:y}=this.div;y.aspectRatio=h,y.height="auto"}static get MIN_SIZE(){return 16}}n.AnnotationEditor=f;class _ extends f{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=m,n.opacityToHex=f;var o=s(1),c=s(6);function m(v,p,b){for(const C of b)p.addEventListener(C,v[C].bind(v))}function f(v){return Math.round(Math.min(255,Math.max(1,255*v))).toString(16).padStart(2,"0")}class _{#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class x{#e=(0,o.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const p='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',C=new OffscreenCanvas(1,3).getContext("2d"),S=new Image;S.src=p;const D=S.decode().then(()=>(C.drawImage(S,0,0,1,1,0,0,1,3),new Uint32Array(C.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",D)}async#r(p,b){this.#n||=new Map;let C=this.#n.get(p);if(C===null)return null;if(C?.bitmap)return C.refCounter+=1,C;try{C||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let S;if(typeof b=="string"){C.url=b;const D=await fetch(b);if(!D.ok)throw new Error(D.statusText);S=await D.blob()}else S=C.file=b;if(S.type==="image/svg+xml"){const D=x._isSVGFittingCanvas,O=new FileReader,I=new Image,R=new Promise((F,G)=>{I.onload=()=>{C.bitmap=I,C.isSvg=!0,F()},O.onload=async()=>{const $=C.svgUrl=O.result;I.src=await D?`${$}#svgView(preserveAspectRatio(none))`:$},I.onerror=O.onerror=G});O.readAsDataURL(S),await R}else C.bitmap=await createImageBitmap(S);C.refCounter=1}catch(S){console.error(S),C=null}return this.#n.set(p,C),C&&this.#n.set(C.id,C),C}async getFromFile(p){const{lastModified:b,name:C,size:S,type:D}=p;return this.#r(`${b}_${C}_${S}_${D}`,p)}async getFromUrl(p){return this.#r(p,p)}async getFromId(p){this.#n||=new Map;const b=this.#n.get(p);return b?b.bitmap?(b.refCounter+=1,b):b.file?this.getFromFile(b.file):this.getFromUrl(b.url):null}getSvgUrl(p){const b=this.#n.get(p);return b?.isSvg?b.svgUrl:null}deleteId(p){this.#n||=new Map;const b=this.#n.get(p);b&&(b.refCounter-=1,b.refCounter===0&&(b.bitmap=null))}isValidId(p){return p.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#r=-1;constructor(p=128){this.#n=p}add({cmd:p,undo:b,mustExec:C,type:S=NaN,overwriteIfSameType:D=!1,keepUndo:O=!1}){if(C&&p(),this.#t)return;const I={cmd:p,undo:b,type:S};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(I);return}if(D&&this.#e[this.#r].type===S){O&&(I.undo=this.#e[this.#r].undo),this.#e[this.#r]=I;return}const R=this.#r+1;R===this.#n?this.#e.splice(0,1):(this.#r=R,R<this.#e.length&&this.#e.splice(R)),this.#e.push(I)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}n.CommandManager=d;class l{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:b}=o.FeatureTest.platform;for(const[C,S,D={}]of p)for(const O of C){const I=O.startsWith("mac+");b&&I?(this.callbacks.set(O.slice(4),{callback:S,options:D}),this.allKeys.add(O.split("+").at(-1))):!b&&!I&&(this.callbacks.set(O,{callback:S,options:D}),this.allKeys.add(O.split("+").at(-1)))}}#e(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);const b=this.buffer.join("+");return this.buffer.length=0,b}exec(p,b){if(!this.allKeys.has(b.key))return;const C=this.callbacks.get(this.#e(b));if(!C)return;const{callback:S,options:{bubbles:D=!1,args:O=[],checker:I=null}}=C;I&&!I(p,b)||(S.bind(p,...O)(),D||(b.stopPropagation(),b.preventDefault()))}}n.KeyboardManager=l;class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const p=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(p),(0,o.shadow)(this,"_colors",p)}convert(p){const b=(0,c.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return b;for(const[C,S]of this._colors)if(S.every((D,O)=>D===b[O]))return h._colorsMapping.get(C);return b}getHexCode(p){const b=this._colors.get(p);return b?o.Util.makeHexColor(...b):p}}n.ColorManager=h;class y{#e=null;#t=new Map;#n=new Map;#r=null;#a=null;#o=new d;#s=0;#l=new Set;#c=null;#i=null;#f=new Set;#d=null;#h=new _;#p=!1;#y=!1;#g=null;#m=o.AnnotationEditorType.NONE;#u=new Set;#v=null;#A=this.blur.bind(this);#S=this.focus.bind(this);#T=this.copy.bind(this);#C=this.cut.bind(this);#L=this.paste.bind(this);#I=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#x=this.onPageChanging.bind(this);#F=this.onScaleChanging.bind(this);#R=this.onRotationChanging.bind(this);#k={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#E=[0,0];#P=null;#b=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const p=y.prototype,b=D=>{const{activeElement:O}=document;return O&&D.#b.contains(O)&&D.hasSomethingToControl()},C=this.TRANSLATE_SMALL,S=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new l([[["ctrl+a","mac+meta+a"],p.selectAll],[["ctrl+z","mac+meta+z"],p.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],p.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],p.delete],[["Escape","mac+Escape"],p.unselectAll],[["ArrowLeft","mac+ArrowLeft"],p.translateSelectedEditors,{args:[-C,0],checker:b}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],p.translateSelectedEditors,{args:[-S,0],checker:b}],[["ArrowRight","mac+ArrowRight"],p.translateSelectedEditors,{args:[C,0],checker:b}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],p.translateSelectedEditors,{args:[S,0],checker:b}],[["ArrowUp","mac+ArrowUp"],p.translateSelectedEditors,{args:[0,-C],checker:b}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],p.translateSelectedEditors,{args:[0,-S],checker:b}],[["ArrowDown","mac+ArrowDown"],p.translateSelectedEditors,{args:[0,C],checker:b}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],p.translateSelectedEditors,{args:[0,S],checker:b}]]))}constructor(p,b,C,S,D,O){this.#b=p,this.#N=b,this.#r=C,this._eventBus=S,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#x),this._eventBus._on("scalechanging",this.#F),this._eventBus._on("rotationchanging",this.#R),this.#a=D.annotationStorage,this.#d=D.filterFactory,this.#v=O,this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#V(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#x),this._eventBus._off("scalechanging",this.#F),this._eventBus._off("rotationchanging",this.#R);for(const p of this.#n.values())p.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#o.destroy(),this.#r.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#v?this.#d.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#b).direction)}editAltText(p){this.#r?.editAltText(this,p)}onPageChanging({pageNumber:p}){this.#s=p-1}focusMainContainer(){this.#b.focus()}findParent(p,b){for(const C of this.#n.values()){const{x:S,y:D,width:O,height:I}=C.div.getBoundingClientRect();if(p>=S&&p<=S+O&&b>=D&&b<=D+I)return C}return null}disableUserSelect(p=!1){this.#N.classList.toggle("noUserSelect",p)}addShouldRescale(p){this.#f.add(p)}removeShouldRescale(p){this.#f.delete(p)}onScaleChanging({scale:p}){this.commitOrRemove(),this.viewParameters.realScale=p*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const b of this.#f)b.onScaleChanging()}onRotationChanging({pagesRotation:p}){this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(p){!p.isEmpty()&&this.#a&&!this.#a.has(p.id)&&this.#a.setValue(p.id,p)}#j(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#A)}#V(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;const{activeElement:p}=document;for(const b of this.#u)if(b.div.contains(p)){this.#g=[b,p],b._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[p,b]=this.#g;this.#g=null,b.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),b.focus()}#B(){window.addEventListener("keydown",this.#I,{capture:!0})}#M(){window.removeEventListener("keydown",this.#I,{capture:!0})}#D(){document.addEventListener("copy",this.#T),document.addEventListener("cut",this.#C),document.addEventListener("paste",this.#L)}#w(){document.removeEventListener("copy",this.#T),document.removeEventListener("cut",this.#C),document.removeEventListener("paste",this.#L)}addEditListeners(){this.#B(),this.#D()}removeEditListeners(){this.#M(),this.#w()}copy(p){if(p.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const b=[];for(const C of this.#u){const S=C.serialize(!0);S&&b.push(S)}b.length!==0&&p.clipboardData.setData("application/pdfjs",JSON.stringify(b))}cut(p){this.copy(p),this.delete()}paste(p){p.preventDefault();const{clipboardData:b}=p;for(const D of b.items)for(const O of this.#i)if(O.isHandlingMimeForPasting(D.type)){O.paste(D,this.currentLayer);return}let C=b.getData("application/pdfjs");if(!C)return;try{C=JSON.parse(C)}catch(D){(0,o.warn)(`paste: "${D.message}".`);return}if(!Array.isArray(C))return;this.unselectAll();const S=this.currentLayer;try{const D=[];for(const R of C){const F=S.deserialize(R);if(!F)return;D.push(F)}const O=()=>{for(const R of D)this.#W(R);this.#H(D)},I=()=>{for(const R of D)R.remove()};this.addCommands({cmd:O,undo:I,mustExec:!0})}catch(D){(0,o.warn)(`paste: "${D.message}".`)}}keydown(p){this.getActive()?.shouldGetKeyboardEvents()||y._keyboardManager.exec(this,p)}onEditingAction(p){["undo","redo","delete","selectAll"].includes(p.name)&&this[p.name]()}#_(p){Object.entries(p).some(([C,S])=>this.#k[C]!==S)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#k,p)})}#U(p){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:p})}setEditingState(p){p?(this.#j(),this.#B(),this.#D(),this.#_({isEditing:this.#m!==o.AnnotationEditorType.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#V(),this.#M(),this.#w(),this.#_({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(p){if(!this.#i){this.#i=p;for(const b of this.#i)this.#U(b.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(p){return this.#n.get(p)}get currentPageIndex(){return this.#s}addLayer(p){this.#n.set(p.pageIndex,p),this.#p?p.enable():p.disable()}removeLayer(p){this.#n.delete(p.pageIndex)}updateMode(p,b=null){if(this.#m!==p){if(this.#m=p,p===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#q();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(const C of this.#n.values())C.updateMode(p);if(b){for(const C of this.#t.values())if(C.annotationElementId===b){this.setSelected(C),C.enterInEditMode();break}}}}updateToolbar(p){p!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:p})}updateParams(p,b){if(this.#i){if(p===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(p);return}for(const C of this.#u)C.updateParams(p,b);for(const C of this.#i)C.updateDefaultParams(p,b)}}enableWaiting(p=!1){if(this.#y!==p){this.#y=p;for(const b of this.#n.values())p?b.disableClick():b.enableClick(),b.div.classList.toggle("waiting",p)}}#G(){if(!this.#p){this.#p=!0;for(const p of this.#n.values())p.enable()}}#q(){if(this.unselectAll(),this.#p){this.#p=!1;for(const p of this.#n.values())p.disable()}}getEditors(p){const b=[];for(const C of this.#t.values())C.pageIndex===p&&b.push(C);return b}getEditor(p){return this.#t.get(p)}addEditor(p){this.#t.set(p.id,p)}removeEditor(p){this.#t.delete(p.id),this.unselect(p),(!p.annotationElementId||!this.#l.has(p.annotationElementId))&&this.#a?.remove(p.id)}addDeletedAnnotationElement(p){this.#l.add(p.annotationElementId),p.deleted=!0}isDeletedAnnotationElement(p){return this.#l.has(p)}removeDeletedAnnotationElement(p){this.#l.delete(p.annotationElementId),p.deleted=!1}#W(p){const b=this.#n.get(p.pageIndex);b?b.addOrRebuild(p):this.addEditor(p)}setActiveEditor(p){this.#e!==p&&(this.#e=p,p&&this.#U(p.propertiesToUpdate))}toggleSelected(p){if(this.#u.has(p)){this.#u.delete(p),p.unselect(),this.#_({hasSelectedEditor:this.hasSelection});return}this.#u.add(p),p.select(),this.#U(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}setSelected(p){for(const b of this.#u)b!==p&&b.unselect();this.#u.clear(),this.#u.add(p),p.select(),this.#U(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}isSelected(p){return this.#u.has(p)}unselect(p){p.unselect(),this.#u.delete(p),this.#_({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#o.undo(),this.#_({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#o.redo(),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(p){this.#o.add(p),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const p of this.#t.values())return p.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const p=[...this.#u],b=()=>{for(const S of p)S.remove()},C=()=>{for(const S of p)this.#W(S)};this.addCommands({cmd:b,undo:C,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#H(p){this.#u.clear();for(const b of p)b.isEmpty()||(this.#u.add(b),b.select());this.#_({hasSelectedEditor:!0})}selectAll(){for(const p of this.#u)p.commit();this.#H(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const p of this.#u)p.unselect();this.#u.clear(),this.#_({hasSelectedEditor:!1})}}translateSelectedEditors(p,b,C=!1){if(C||this.commitOrRemove(),!this.hasSelection)return;this.#E[0]+=p,this.#E[1]+=b;const[S,D]=this.#E,O=[...this.#u],I=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#E[0]=this.#E[1]=0,this.addCommands({cmd:()=>{for(const R of O)this.#t.has(R.id)&&R.translateInPage(S,D)},undo:()=>{for(const R of O)this.#t.has(R.id)&&R.translateInPage(-S,-D)},mustExec:!1})},I);for(const R of O)R.translateInPage(p,b)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const p of this.#u)this.#c.set(p,{savedX:p.x,savedY:p.y,savedPageIndex:p.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const p=this.#c;this.#c=null;let b=!1;for(const[{x:S,y:D,pageIndex:O},I]of p)I.newX=S,I.newY=D,I.newPageIndex=O,b||=S!==I.savedX||D!==I.savedY||O!==I.savedPageIndex;if(!b)return!1;const C=(S,D,O,I)=>{if(this.#t.has(S.id)){const R=this.#n.get(I);R?S._setParentAndPosition(R,D,O):(S.pageIndex=I,S.x=D,S.y=O)}};return this.addCommands({cmd:()=>{for(const[S,{newX:D,newY:O,newPageIndex:I}]of p)C(S,D,O,I)},undo:()=>{for(const[S,{savedX:D,savedY:O,savedPageIndex:I}]of p)C(S,D,O,I)},mustExec:!0}),!0}dragSelectedEditors(p,b){if(this.#c)for(const C of this.#c.keys())C.drag(p,b)}rebuild(p){if(p.parent===null){const b=this.getLayer(p.pageIndex);b?(b.changeParent(p),b.addOrRebuild(p)):(this.addEditor(p),this.addToAnnotationStorage(p),p.rebuild())}else p.parent.addOrRebuild(p)}isActive(p){return this.#e===p}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,o.shadow)(this,"imageManager",new x)}}n.AnnotationEditorUIManager=y}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMFilterFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.deprecated=G,n.getColorValues=me,n.getCurrentTransform=he,n.getCurrentTransformInverse=fe,n.getFilenameFromUrl=S,n.getPdfFilenameFromUrl=D,n.getRGB=J,n.getXfaPageViewport=ee,n.isDataScheme=b,n.isPdfFile=C,n.isValidFetchUrl=I,n.loadScript=F,n.noContextMenu=R,n.setLayerDimensions=ve;var o=s(7),c=s(1);const m="http://www.w3.org/2000/svg";class f{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}n.PixelsPerInch=f;class _ extends o.BaseFilterFactory{#e;#t;#n;#r;#a;#o;#s;#l;#c;#i;#f=0;constructor({docId:z,ownerDocument:k=globalThis.document}={}){super(),this.#n=z,this.#r=k}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const z=this.#r.createElement("div"),{style:k}=z;k.visibility="hidden",k.contain="strict",k.width=k.height=0,k.position="absolute",k.top=k.left=0,k.zIndex=-1;const P=this.#r.createElementNS(m,"svg");P.setAttribute("width",0),P.setAttribute("height",0),this.#t=this.#r.createElementNS(m,"defs"),z.append(P),P.append(this.#t),this.#r.body.append(z)}return this.#t}addFilter(z){if(!z)return"none";let k=this.#d.get(z);if(k)return k;let P,T,w,j;if(z.length===1){const E=z[0],M=new Array(256);for(let L=0;L<256;L++)M[L]=E[L]/255;j=P=T=w=M.join(",")}else{const[E,M,L]=z,B=new Array(256),W=new Array(256),K=new Array(256);for(let Q=0;Q<256;Q++)B[Q]=E[Q]/255,W[Q]=M[Q]/255,K[Q]=L[Q]/255;P=B.join(","),T=W.join(","),w=K.join(","),j=`${P}${T}${w}`}if(k=this.#d.get(j),k)return this.#d.set(z,k),k;const U=`g_${this.#n}_transfer_map_${this.#f++}`,H=`url(#${U})`;this.#d.set(z,H),this.#d.set(j,H);const V=this.#y(U);return this.#m(P,T,w,V),H}addHCMFilter(z,k){const P=`${z}-${k}`;if(this.#o===P)return this.#s;if(this.#o=P,this.#s="none",this.#a?.remove(),!z||!k)return this.#s;const T=this.#u(z);z=c.Util.makeHexColor(...T);const w=this.#u(k);if(k=c.Util.makeHexColor(...w),this.#h.style.color="",z==="#000000"&&k==="#ffffff"||z===k)return this.#s;const j=new Array(256);for(let M=0;M<=255;M++){const L=M/255;j[M]=L<=.03928?L/12.92:((L+.055)/1.055)**2.4}const U=j.join(","),H=`g_${this.#n}_hcm_filter`,V=this.#l=this.#y(H);this.#m(U,U,U,V),this.#p(V);const E=(M,L)=>{const B=T[M]/255,W=w[M]/255,K=new Array(L+1);for(let Q=0;Q<=L;Q++)K[Q]=B+Q/L*(W-B);return K.join(",")};return this.#m(E(0,5),E(1,5),E(2,5),V),this.#s=`url(#${H})`,this.#s}addHighlightHCMFilter(z,k,P,T){const w=`${z}-${k}-${P}-${T}`;if(this.#c===w)return this.#i;if(this.#c=w,this.#i="none",this.#l?.remove(),!z||!k)return this.#i;const[j,U]=[z,k].map(this.#u.bind(this));let H=Math.round(.2126*j[0]+.7152*j[1]+.0722*j[2]),V=Math.round(.2126*U[0]+.7152*U[1]+.0722*U[2]),[E,M]=[P,T].map(this.#u.bind(this));V<H&&([H,V,E,M]=[V,H,M,E]),this.#h.style.color="";const L=(K,Q,oe)=>{const xe=new Array(256),se=(V-H)/oe,le=K/255,ue=(Q-K)/(255*oe);let pe=0;for(let ge=0;ge<=oe;ge++){const be=Math.round(H+ge*se),Pe=le+ge*ue;for(let De=pe;De<=be;De++)xe[De]=Pe;pe=be+1}for(let ge=pe;ge<256;ge++)xe[ge]=xe[pe-1];return xe.join(",")},B=`g_${this.#n}_hcm_highlight_filter`,W=this.#l=this.#y(B);return this.#p(W),this.#m(L(E[0],M[0],5),L(E[1],M[1],5),L(E[2],M[2],5),W),this.#i=`url(#${B})`,this.#i}destroy(z=!1){z&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(z){const k=this.#r.createElementNS(m,"feColorMatrix");k.setAttribute("type","matrix"),k.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),z.append(k)}#y(z){const k=this.#r.createElementNS(m,"filter");return k.setAttribute("color-interpolation-filters","sRGB"),k.setAttribute("id",z),this.#h.append(k),k}#g(z,k,P){const T=this.#r.createElementNS(m,k);T.setAttribute("type","discrete"),T.setAttribute("tableValues",P),z.append(T)}#m(z,k,P,T){const w=this.#r.createElementNS(m,"feComponentTransfer");T.append(w),this.#g(w,"feFuncR",z),this.#g(w,"feFuncG",k),this.#g(w,"feFuncB",P)}#u(z){return this.#h.style.color=z,J(getComputedStyle(this.#h).getPropertyValue("color"))}}n.DOMFilterFactory=_;class x extends o.BaseCanvasFactory{constructor({ownerDocument:z=globalThis.document}={}){super(),this._document=z}_createCanvas(z,k){const P=this._document.createElement("canvas");return P.width=z,P.height=k,P}}n.DOMCanvasFactory=x;async function d(ce,z=!1){if(I(ce,document.baseURI)){const k=await fetch(ce);if(!k.ok)throw new Error(k.statusText);return z?new Uint8Array(await k.arrayBuffer()):(0,c.stringToBytes)(await k.text())}return new Promise((k,P)=>{const T=new XMLHttpRequest;T.open("GET",ce,!0),z&&(T.responseType="arraybuffer"),T.onreadystatechange=()=>{if(T.readyState===XMLHttpRequest.DONE){if(T.status===200||T.status===0){let w;if(z&&T.response?w=new Uint8Array(T.response):!z&&T.responseText&&(w=(0,c.stringToBytes)(T.responseText)),w){k(w);return}}P(new Error(T.statusText))}},T.send(null)})}class l extends o.BaseCMapReaderFactory{_fetchData(z,k){return d(z,this.isCompressed).then(P=>({cMapData:P,compressionType:k}))}}n.DOMCMapReaderFactory=l;class h extends o.BaseStandardFontDataFactory{_fetchData(z){return d(z,!0)}}n.DOMStandardFontDataFactory=h;class y extends o.BaseSVGFactory{_createSVG(z){return document.createElementNS(m,z)}}n.DOMSVGFactory=y;class v{constructor({viewBox:z,scale:k,rotation:P,offsetX:T=0,offsetY:w=0,dontFlip:j=!1}){this.viewBox=z,this.scale=k,this.rotation=P,this.offsetX=T,this.offsetY=w;const U=(z[2]+z[0])/2,H=(z[3]+z[1])/2;let V,E,M,L;switch(P%=360,P<0&&(P+=360),P){case 180:V=-1,E=0,M=0,L=1;break;case 90:V=0,E=1,M=1,L=0;break;case 270:V=0,E=-1,M=-1,L=0;break;case 0:V=1,E=0,M=0,L=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}j&&(M=-M,L=-L);let B,W,K,Q;V===0?(B=Math.abs(H-z[1])*k+T,W=Math.abs(U-z[0])*k+w,K=(z[3]-z[1])*k,Q=(z[2]-z[0])*k):(B=Math.abs(U-z[0])*k+T,W=Math.abs(H-z[1])*k+w,K=(z[2]-z[0])*k,Q=(z[3]-z[1])*k),this.transform=[V*k,E*k,M*k,L*k,B-V*k*U-M*k*H,W-E*k*U-L*k*H],this.width=K,this.height=Q}get rawDims(){const{viewBox:z}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:z[2]-z[0],pageHeight:z[3]-z[1],pageX:z[0],pageY:z[1]})}clone({scale:z=this.scale,rotation:k=this.rotation,offsetX:P=this.offsetX,offsetY:T=this.offsetY,dontFlip:w=!1}={}){return new v({viewBox:this.viewBox.slice(),scale:z,rotation:k,offsetX:P,offsetY:T,dontFlip:w})}convertToViewportPoint(z,k){return c.Util.applyTransform([z,k],this.transform)}convertToViewportRectangle(z){const k=c.Util.applyTransform([z[0],z[1]],this.transform),P=c.Util.applyTransform([z[2],z[3]],this.transform);return[k[0],k[1],P[0],P[1]]}convertToPdfPoint(z,k){return c.Util.applyInverseTransform([z,k],this.transform)}}n.PageViewport=v;class p extends c.BaseException{constructor(z,k=0){super(z,"RenderingCancelledException"),this.extraDelay=k}}n.RenderingCancelledException=p;function b(ce){const z=ce.length;let k=0;for(;k<z&&ce[k].trim()==="";)k++;return ce.substring(k,k+5).toLowerCase()==="data:"}function C(ce){return typeof ce=="string"&&/\.pdf$/i.test(ce)}function S(ce,z=!1){return z||([ce]=ce.split(/[#?]/,1)),ce.substring(ce.lastIndexOf("/")+1)}function D(ce,z="document.pdf"){if(typeof ce!="string")return z;if(b(ce))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),z;const k=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,P=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,T=k.exec(ce);let w=P.exec(T[1])||P.exec(T[2])||P.exec(T[3]);if(w&&(w=w[0],w.includes("%")))try{w=P.exec(decodeURIComponent(w))[0]}catch{}return w||z}class O{started=Object.create(null);times=[];time(z){z in this.started&&(0,c.warn)(`Timer is already running for ${z}`),this.started[z]=Date.now()}timeEnd(z){z in this.started||(0,c.warn)(`Timer has not been started for ${z}`),this.times.push({name:z,start:this.started[z],end:Date.now()}),delete this.started[z]}toString(){const z=[];let k=0;for(const{name:P}of this.times)k=Math.max(P.length,k);for(const{name:P,start:T,end:w}of this.times)z.push(`${P.padEnd(k)} ${w-T}ms
`);return z.join("")}}n.StatTimer=O;function I(ce,z){try{const{protocol:k}=z?new URL(ce,z):new URL(ce);return k==="http:"||k==="https:"}catch{return!1}}function R(ce){ce.preventDefault()}function F(ce,z=!1){return new Promise((k,P)=>{const T=document.createElement("script");T.src=ce,T.onload=function(w){z&&T.remove(),k(w)},T.onerror=function(){P(new Error(`Cannot load script at: ${T.src}`))},(document.head||document.documentElement).append(T)})}function G(ce){console.log("Deprecated API usage: "+ce)}let $;class q{static toDateObject(z){if(!z||typeof z!="string")return null;$||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const k=$.exec(z);if(!k)return null;const P=parseInt(k[1],10);let T=parseInt(k[2],10);T=T>=1&&T<=12?T-1:0;let w=parseInt(k[3],10);w=w>=1&&w<=31?w:1;let j=parseInt(k[4],10);j=j>=0&&j<=23?j:0;let U=parseInt(k[5],10);U=U>=0&&U<=59?U:0;let H=parseInt(k[6],10);H=H>=0&&H<=59?H:0;const V=k[7]||"Z";let E=parseInt(k[8],10);E=E>=0&&E<=23?E:0;let M=parseInt(k[9],10)||0;return M=M>=0&&M<=59?M:0,V==="-"?(j+=E,U+=M):V==="+"&&(j-=E,U-=M),new Date(Date.UTC(P,T,w,j,U,H))}}n.PDFDateString=q;function ee(ce,{scale:z=1,rotation:k=0}){const{width:P,height:T}=ce.attributes.style,w=[0,0,parseInt(P),parseInt(T)];return new v({viewBox:w,scale:z,rotation:k})}function J(ce){if(ce.startsWith("#")){const z=parseInt(ce.slice(1),16);return[(z&16711680)>>16,(z&65280)>>8,z&255]}return ce.startsWith("rgb(")?ce.slice(4,-1).split(",").map(z=>parseInt(z)):ce.startsWith("rgba(")?ce.slice(5,-1).split(",").map(z=>parseInt(z)).slice(0,3):((0,c.warn)(`Not a valid color format: "${ce}"`),[0,0,0])}function me(ce){const z=document.createElement("span");z.style.visibility="hidden",document.body.append(z);for(const k of ce.keys()){z.style.color=k;const P=window.getComputedStyle(z).color;ce.set(k,J(P))}z.remove()}function he(ce){const{a:z,b:k,c:P,d:T,e:w,f:j}=ce.getTransform();return[z,k,P,T,w,j]}function fe(ce){const{a:z,b:k,c:P,d:T,e:w,f:j}=ce.getTransform().invertSelf();return[z,k,P,T,w,j]}function ve(ce,z,k=!1,P=!0){if(z instanceof v){const{pageWidth:T,pageHeight:w}=z.rawDims,{style:j}=ce,U=c.FeatureTest.isCSSRoundSupported,H=`var(--scale-factor) * ${T}px`,V=`var(--scale-factor) * ${w}px`,E=U?`round(${H}, 1px)`:`calc(${H})`,M=U?`round(${V}, 1px)`:`calc(${V})`;!k||z.rotation%180===0?(j.width=E,j.height=M):(j.width=M,j.height=E)}P&&ce.setAttribute("data-main-rotation",z.rotation)}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseFilterFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var o=s(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(l){return"none"}addHCMFilter(l,h){return"none"}addHighlightHCMFilter(l,h,y,v){return"none"}destroy(l=!1){}}n.BaseFilterFactory=c;class m{constructor(){this.constructor===m&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(l,h){if(l<=0||h<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(l,h);return{canvas:y,context:y.getContext("2d")}}reset(l,h,y){if(!l.canvas)throw new Error("Canvas is not specified");if(h<=0||y<=0)throw new Error("Invalid canvas size");l.canvas.width=h,l.canvas.height=y}destroy(l){if(!l.canvas)throw new Error("Canvas is not specified");l.canvas.width=0,l.canvas.height=0,l.canvas=null,l.context=null}_createCanvas(l,h){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=m;class f{constructor({baseUrl:l=null,isCompressed:h=!0}){this.constructor===f&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=h}async fetch({name:l}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const h=this.baseUrl+l+(this.isCompressed?".bcmap":""),y=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(h,y).catch(v=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${h}`)})}_fetchData(l,h){(0,o.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=f;class _{constructor({baseUrl:l=null}){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch({filename:l}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const h=`${this.baseUrl}${l}`;return this._fetchData(h).catch(y=>{throw new Error(`Unable to load font data at: ${h}`)})}_fetchData(l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=_;class x{constructor(){this.constructor===x&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(l,h,y=!1){if(l<=0||h<=0)throw new Error("Invalid SVG dimensions");const v=this._createSVG("svg:svg");return v.setAttribute("version","1.1"),y||(v.setAttribute("width",`${l}px`),v.setAttribute("height",`${h}px`)),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("viewBox",`0 0 ${l} ${h}`),v}createElement(l){if(typeof l!="string")throw new Error("Invalid SVG element type");return this._createSVG(l)}_createSVG(l){(0,o.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var o=s(1);const c=3285377520,m=4294901760,f=65535;class _{constructor(d){this.h1=d?d&4294967295:c,this.h2=d?d&4294967295:c}update(d){let l,h;if(typeof d=="string"){l=new Uint8Array(d.length*2),h=0;for(let G=0,$=d.length;G<$;G++){const q=d.charCodeAt(G);q<=255?l[h++]=q:(l[h++]=q>>>8,l[h++]=q&255)}}else if((0,o.isArrayBuffer)(d))l=d.slice(),h=l.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=h>>2,v=h-y*4,p=new Uint32Array(l.buffer,0,y);let b=0,C=0,S=this.h1,D=this.h2;const O=3432918353,I=461845907,R=O&f,F=I&f;for(let G=0;G<y;G++)G&1?(b=p[G],b=b*O&m|b*R&f,b=b<<15|b>>>17,b=b*I&m|b*F&f,S^=b,S=S<<13|S>>>19,S=S*5+3864292196):(C=p[G],C=C*O&m|C*R&f,C=C<<15|C>>>17,C=C*I&m|C*F&f,D^=C,D=D<<13|D>>>19,D=D*5+3864292196);switch(b=0,v){case 3:b^=l[y*4+2]<<16;case 2:b^=l[y*4+1]<<8;case 1:b^=l[y*4],b=b*O&m|b*R&f,b=b<<15|b>>>17,b=b*I&m|b*F&f,y&1?S^=b:D^=b}this.h1=S,this.h2=D}hexdigest(){let d=this.h1,l=this.h2;return d^=l>>>1,d=d*3981806797&m|d*36045&f,l=l*4283543511&m|((l<<16|d>>>16)*2950163797&m)>>>16,d^=l>>>1,d=d*444984403&m|d*60499&f,l=l*3301882366&m|((l<<16|d>>>16)*3120437893&m)>>>16,d^=l>>>1,(d>>>0).toString(16).padStart(8,"0")+(l>>>0).toString(16).padStart(8,"0")}}n.MurmurHash3_64=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var o=s(1);class c{#e=new Set;constructor({ownerDocument:_=globalThis.document,styleElement:x=null}){this._document=_,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_){this.nativeFontFaces.add(_),this._document.fonts.add(_)}removeNativeFontFace(_){this.nativeFontFaces.delete(_),this._document.fonts.delete(_)}insertRule(_){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const x=this.styleElement.sheet;x.insertRule(_,x.cssRules.length)}clear(){for(const _ of this.nativeFontFaces)this._document.fonts.delete(_);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_){if(!(!_||this.#e.has(_.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:x,src:d,style:l}=_,h=new FontFace(x,d,l);this.addNativeFontFace(h);try{await h.load(),this.#e.add(x)}catch{(0,o.warn)(`Cannot load system font: ${_.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_){if(_.attached||_.missingFile&&!_.systemFontInfo)return;if(_.attached=!0,_.systemFontInfo){await this.loadSystemFont(_.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=_.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(l){throw(0,o.warn)(`Failed to load font '${d.family}': '${l}'.`),_.disableFontFace=!0,l}}return}const x=_.createFontFaceRule();if(x){if(this.insertRule(x),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const l=this._queueLoadingCallback(d);this._prepareFontLoadEvent(_,l)})}}get isFontLoadingAPISupported(){const _=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",_)}get isSyncFontLoadingSupported(){let _=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",_)}_queueLoadingCallback(_){function x(){for((0,o.assert)(!l.done,"completeRequest() cannot be called twice."),l.done=!0;d.length>0&&d[0].done;){const h=d.shift();setTimeout(h.callback,0)}}const{loadingRequests:d}=this,l={done:!1,complete:x,callback:_};return d.push(l),l}get _loadTestFont(){const _=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",_)}_prepareFontLoadEvent(_,x){function d(ee,J){return ee.charCodeAt(J)<<24|ee.charCodeAt(J+1)<<16|ee.charCodeAt(J+2)<<8|ee.charCodeAt(J+3)&255}function l(ee,J,me,he){const fe=ee.substring(0,J),ve=ee.substring(J+me);return fe+he+ve}let h,y;const v=this._document.createElement("canvas");v.width=1,v.height=1;const p=v.getContext("2d");let b=0;function C(ee,J){if(++b>30){(0,o.warn)("Load test font never loaded."),J();return}if(p.font="30px "+ee,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){J();return}setTimeout(C.bind(null,ee,J))}const S=`lt${Date.now()}${this.loadTestFontId++}`;let D=this._loadTestFont;D=l(D,976,S.length,S);const I=16,R=1482184792;let F=d(D,I);for(h=0,y=S.length-3;h<y;h+=4)F=F-R+d(S,h)|0;h<S.length&&(F=F-R+d(S+"XXX",h)|0),D=l(D,I,4,(0,o.string32)(F));const G=`url(data:font/opentype;base64,${btoa(D)});`,$=`@font-face {font-family:"${S}";src:${G}}`;this.insertRule($);const q=this._document.createElement("div");q.style.visibility="hidden",q.style.width=q.style.height="10px",q.style.position="absolute",q.style.top=q.style.left="0px";for(const ee of[_.loadedName,S]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=ee,q.append(J)}this._document.body.append(q),C(S,()=>{q.remove(),x.complete()})}}n.FontLoader=c;class m{constructor(_,{isEvalSupported:x=!0,disableFontFace:d=!1,ignoreErrors:l=!1,inspectFont:h=null}){this.compiledGlyphs=Object.create(null);for(const y in _)this[y]=_[y];this.isEvalSupported=x!==!1,this.disableFontFace=d===!0,this.ignoreErrors=l===!0,this._inspectFont=h}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let _;if(!this.cssFontInfo)_=new FontFace(this.loadedName,this.data,{});else{const x={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(x.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_=new FontFace(this.cssFontInfo.fontFamily,this.data,x)}return this._inspectFont?.(this),_}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const _=(0,o.bytesToString)(this.data),x=`url(data:${this.mimetype};base64,${btoa(_)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${x}}`;else{let l=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(l+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${l}src:${x}}`}return this._inspectFont?.(this,x),d}getPathGenerator(_,x){if(this.compiledGlyphs[x]!==void 0)return this.compiledGlyphs[x];let d;try{d=_.get(this.loadedName+"_path_"+x)}catch(l){if(!this.ignoreErrors)throw l;return(0,o.warn)(`getPathGenerator - ignoring character: "${l}".`),this.compiledGlyphs[x]=function(h,y){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const l=[];for(const h of d){const y=h.args!==void 0?h.args.join(","):"";l.push("c.",h.cmd,"(",y,`);
`)}return this.compiledGlyphs[x]=new Function("c","size",l.join(""))}return this.compiledGlyphs[x]=function(l,h){for(const y of d)y.cmd==="scale"&&(y.args=[h,-h]),l[y.cmd].apply(l,y.args)}}}n.FontFaceObject=m}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeFilterFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const c=function(d){return new Promise((l,h)=>{require$$5.readFile(d,(v,p)=>{if(v||!p){h(new Error(v));return}l(new Uint8Array(p))})})};class m extends o.BaseFilterFactory{}n.NodeFilterFactory=m;class f extends o.BaseCanvasFactory{_createCanvas(l,h){return require$$5.createCanvas(l,h)}}n.NodeCanvasFactory=f;class _ extends o.BaseCMapReaderFactory{_fetchData(l,h){return c(l).then(y=>({cMapData:y,compressionType:h}))}}n.NodeCMapReaderFactory=_;class x extends o.BaseStandardFontDataFactory{_fetchData(l){return c(l)}}n.NodeStandardFontDataFactory=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var o=s(1),c=s(6),m=s(12),f=s(13);const _=16,x=100,d=4096,l=15,h=10,y=1e3,v=16;function p(k,P){if(k._removeMirroring)throw new Error("Context is already forwarding operations.");k.__originalSave=k.save,k.__originalRestore=k.restore,k.__originalRotate=k.rotate,k.__originalScale=k.scale,k.__originalTranslate=k.translate,k.__originalTransform=k.transform,k.__originalSetTransform=k.setTransform,k.__originalResetTransform=k.resetTransform,k.__originalClip=k.clip,k.__originalMoveTo=k.moveTo,k.__originalLineTo=k.lineTo,k.__originalBezierCurveTo=k.bezierCurveTo,k.__originalRect=k.rect,k.__originalClosePath=k.closePath,k.__originalBeginPath=k.beginPath,k._removeMirroring=()=>{k.save=k.__originalSave,k.restore=k.__originalRestore,k.rotate=k.__originalRotate,k.scale=k.__originalScale,k.translate=k.__originalTranslate,k.transform=k.__originalTransform,k.setTransform=k.__originalSetTransform,k.resetTransform=k.__originalResetTransform,k.clip=k.__originalClip,k.moveTo=k.__originalMoveTo,k.lineTo=k.__originalLineTo,k.bezierCurveTo=k.__originalBezierCurveTo,k.rect=k.__originalRect,k.closePath=k.__originalClosePath,k.beginPath=k.__originalBeginPath,delete k._removeMirroring},k.save=function(){P.save(),this.__originalSave()},k.restore=function(){P.restore(),this.__originalRestore()},k.translate=function(w,j){P.translate(w,j),this.__originalTranslate(w,j)},k.scale=function(w,j){P.scale(w,j),this.__originalScale(w,j)},k.transform=function(w,j,U,H,V,E){P.transform(w,j,U,H,V,E),this.__originalTransform(w,j,U,H,V,E)},k.setTransform=function(w,j,U,H,V,E){P.setTransform(w,j,U,H,V,E),this.__originalSetTransform(w,j,U,H,V,E)},k.resetTransform=function(){P.resetTransform(),this.__originalResetTransform()},k.rotate=function(w){P.rotate(w),this.__originalRotate(w)},k.clip=function(w){P.clip(w),this.__originalClip(w)},k.moveTo=function(T,w){P.moveTo(T,w),this.__originalMoveTo(T,w)},k.lineTo=function(T,w){P.lineTo(T,w),this.__originalLineTo(T,w)},k.bezierCurveTo=function(T,w,j,U,H,V){P.bezierCurveTo(T,w,j,U,H,V),this.__originalBezierCurveTo(T,w,j,U,H,V)},k.rect=function(T,w,j,U){P.rect(T,w,j,U),this.__originalRect(T,w,j,U)},k.closePath=function(){P.closePath(),this.__originalClosePath()},k.beginPath=function(){P.beginPath(),this.__originalBeginPath()}}class b{constructor(P){this.canvasFactory=P,this.cache=Object.create(null)}getCanvas(P,T,w){let j;return this.cache[P]!==void 0?(j=this.cache[P],this.canvasFactory.reset(j,T,w)):(j=this.canvasFactory.create(T,w),this.cache[P]=j),j}delete(P){delete this.cache[P]}clear(){for(const P in this.cache){const T=this.cache[P];this.canvasFactory.destroy(T),delete this.cache[P]}}}function C(k,P,T,w,j,U,H,V,E,M){const[L,B,W,K,Q,oe]=(0,c.getCurrentTransform)(k);if(B===0&&W===0){const le=H*L+Q,ue=Math.round(le),pe=V*K+oe,ge=Math.round(pe),be=(H+E)*L+Q,Pe=Math.abs(Math.round(be)-ue)||1,De=(V+M)*K+oe,Ie=Math.abs(Math.round(De)-ge)||1;return k.setTransform(Math.sign(L),0,0,Math.sign(K),ue,ge),k.drawImage(P,T,w,j,U,0,0,Pe,Ie),k.setTransform(L,B,W,K,Q,oe),[Pe,Ie]}if(L===0&&K===0){const le=V*W+Q,ue=Math.round(le),pe=H*B+oe,ge=Math.round(pe),be=(V+M)*W+Q,Pe=Math.abs(Math.round(be)-ue)||1,De=(H+E)*B+oe,Ie=Math.abs(Math.round(De)-ge)||1;return k.setTransform(0,Math.sign(B),Math.sign(W),0,ue,ge),k.drawImage(P,T,w,j,U,0,0,Ie,Pe),k.setTransform(L,B,W,K,Q,oe),[Ie,Pe]}k.drawImage(P,T,w,j,U,H,V,E,M);const xe=Math.hypot(L,B),se=Math.hypot(W,K);return[xe*E,se*M]}function S(k){const{width:P,height:T}=k;if(P>y||T>y)return null;const w=1e3,j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),U=P+1;let H=new Uint8Array(U*(T+1)),V,E,M;const L=P+7&-8;let B=new Uint8Array(L*T),W=0;for(const se of k.data){let le=128;for(;le>0;)B[W++]=se&le?0:255,le>>=1}let K=0;for(W=0,B[W]!==0&&(H[0]=1,++K),E=1;E<P;E++)B[W]!==B[W+1]&&(H[E]=B[W]?2:1,++K),W++;for(B[W]!==0&&(H[E]=2,++K),V=1;V<T;V++){W=V*L,M=V*U,B[W-L]!==B[W]&&(H[M]=B[W]?1:8,++K);let se=(B[W]?4:0)+(B[W-L]?8:0);for(E=1;E<P;E++)se=(se>>2)+(B[W+1]?4:0)+(B[W-L+1]?8:0),j[se]&&(H[M+E]=j[se],++K),W++;if(B[W-L]!==B[W]&&(H[M+E]=B[W]?2:4,++K),K>w)return null}for(W=L*(T-1),M=V*U,B[W]!==0&&(H[M]=8,++K),E=1;E<P;E++)B[W]!==B[W+1]&&(H[M+E]=B[W]?4:8,++K),W++;if(B[W]!==0&&(H[M+E]=4,++K),K>w)return null;const Q=new Int32Array([0,U,-1,0,-U,0,0,0,1]),oe=new Path2D;for(V=0;K&&V<=T;V++){let se=V*U;const le=se+P;for(;se<le&&!H[se];)se++;if(se===le)continue;oe.moveTo(se%U,V);const ue=se;let pe=H[se];do{const ge=Q[pe];do se+=ge;while(!H[se]);const be=H[se];be!==5&&be!==10?(pe=be,H[se]=0):(pe=be&51*pe>>4,H[se]&=pe>>2|pe<<2),oe.lineTo(se%U,se/U|0),H[se]||--K}while(ue!==se);--V}return B=null,H=null,function(se){se.save(),se.scale(1/P,-1/T),se.translate(0,-T),se.fill(oe),se.beginPath(),se.restore()}}class D{constructor(P,T){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,P,T])}clone(){const P=Object.create(this);return P.clipBox=this.clipBox.slice(),P}setCurrentPoint(P,T){this.x=P,this.y=T}updatePathMinMax(P,T,w){[T,w]=o.Util.applyTransform([T,w],P),this.minX=Math.min(this.minX,T),this.minY=Math.min(this.minY,w),this.maxX=Math.max(this.maxX,T),this.maxY=Math.max(this.maxY,w)}updateRectMinMax(P,T){const w=o.Util.applyTransform(T,P),j=o.Util.applyTransform(T.slice(2),P);this.minX=Math.min(this.minX,w[0],j[0]),this.minY=Math.min(this.minY,w[1],j[1]),this.maxX=Math.max(this.maxX,w[0],j[0]),this.maxY=Math.max(this.maxY,w[1],j[1])}updateScalingPathMinMax(P,T){o.Util.scaleMinMax(P,T),this.minX=Math.min(this.minX,T[0]),this.maxX=Math.max(this.maxX,T[1]),this.minY=Math.min(this.minY,T[2]),this.maxY=Math.max(this.maxY,T[3])}updateCurvePathMinMax(P,T,w,j,U,H,V,E,M,L){const B=o.Util.bezierBoundingBox(T,w,j,U,H,V,E,M);if(L){L[0]=Math.min(L[0],B[0],B[2]),L[1]=Math.max(L[1],B[0],B[2]),L[2]=Math.min(L[2],B[1],B[3]),L[3]=Math.max(L[3],B[1],B[3]);return}this.updateRectMinMax(P,B)}getPathBoundingBox(P=m.PathType.FILL,T=null){const w=[this.minX,this.minY,this.maxX,this.maxY];if(P===m.PathType.STROKE){T||(0,o.unreachable)("Stroke bounding box must include transform.");const j=o.Util.singularValueDecompose2dScale(T),U=j[0]*this.lineWidth/2,H=j[1]*this.lineWidth/2;w[0]-=U,w[1]-=H,w[2]+=U,w[3]+=H}return w}updateClipFromPath(){const P=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(P||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(P){this.clipBox=P,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(P=m.PathType.FILL,T=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(P,T))}}function O(k,P){if(typeof ImageData<"u"&&P instanceof ImageData){k.putImageData(P,0,0);return}const T=P.height,w=P.width,j=T%v,U=(T-j)/v,H=j===0?U:U+1,V=k.createImageData(w,v);let E=0,M;const L=P.data,B=V.data;let W,K,Q,oe;if(P.kind===o.ImageKind.GRAYSCALE_1BPP){const xe=L.byteLength,se=new Uint32Array(B.buffer,0,B.byteLength>>2),le=se.length,ue=w+7>>3,pe=4294967295,ge=o.FeatureTest.isLittleEndian?4278190080:255;for(W=0;W<H;W++){for(Q=W<U?v:j,M=0,K=0;K<Q;K++){const be=xe-E;let Pe=0;const De=be>ue?w:be*8-7,Ie=De&-8;let Ne=0,je=0;for(;Pe<Ie;Pe+=8)je=L[E++],se[M++]=je&128?pe:ge,se[M++]=je&64?pe:ge,se[M++]=je&32?pe:ge,se[M++]=je&16?pe:ge,se[M++]=je&8?pe:ge,se[M++]=je&4?pe:ge,se[M++]=je&2?pe:ge,se[M++]=je&1?pe:ge;for(;Pe<De;Pe++)Ne===0&&(je=L[E++],Ne=128),se[M++]=je&Ne?pe:ge,Ne>>=1}for(;M<le;)se[M++]=0;k.putImageData(V,0,W*v)}}else if(P.kind===o.ImageKind.RGBA_32BPP){for(K=0,oe=w*v*4,W=0;W<U;W++)B.set(L.subarray(E,E+oe)),E+=oe,k.putImageData(V,0,K),K+=v;W<H&&(oe=w*j*4,B.set(L.subarray(E,E+oe)),k.putImageData(V,0,K))}else if(P.kind===o.ImageKind.RGB_24BPP)for(Q=v,oe=w*Q,W=0;W<H;W++){for(W>=U&&(Q=j,oe=w*Q),M=0,K=oe;K--;)B[M++]=L[E++],B[M++]=L[E++],B[M++]=L[E++],B[M++]=255;k.putImageData(V,0,W*v)}else throw new Error(`bad image kind: ${P.kind}`)}function I(k,P){if(P.bitmap){k.drawImage(P.bitmap,0,0);return}const T=P.height,w=P.width,j=T%v,U=(T-j)/v,H=j===0?U:U+1,V=k.createImageData(w,v);let E=0;const M=P.data,L=V.data;for(let B=0;B<H;B++){const W=B<U?v:j;({srcPos:E}=(0,f.convertBlackAndWhiteToRGBA)({src:M,srcPos:E,dest:L,width:w,height:W,nonBlackColor:0})),k.putImageData(V,0,B*v)}}function R(k,P){const T=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const w of T)k[w]!==void 0&&(P[w]=k[w]);k.setLineDash!==void 0&&(P.setLineDash(k.getLineDash()),P.lineDashOffset=k.lineDashOffset)}function F(k){if(k.strokeStyle=k.fillStyle="#000000",k.fillRule="nonzero",k.globalAlpha=1,k.lineWidth=1,k.lineCap="butt",k.lineJoin="miter",k.miterLimit=10,k.globalCompositeOperation="source-over",k.font="10px sans-serif",k.setLineDash!==void 0&&(k.setLineDash([]),k.lineDashOffset=0),!o.isNodeJS){const{filter:P}=k;P!=="none"&&P!==""&&(k.filter="none")}}function G(k,P,T,w){const j=k.length;for(let U=3;U<j;U+=4){const H=k[U];if(H===0)k[U-3]=P,k[U-2]=T,k[U-1]=w;else if(H<255){const V=255-H;k[U-3]=k[U-3]*H+P*V>>8,k[U-2]=k[U-2]*H+T*V>>8,k[U-1]=k[U-1]*H+w*V>>8}}}function $(k,P,T){const w=k.length,j=1/255;for(let U=3;U<w;U+=4){const H=T?T[k[U]]:k[U];P[U]=P[U]*H*j|0}}function q(k,P,T){const w=k.length;for(let j=3;j<w;j+=4){const U=k[j-3]*77+k[j-2]*152+k[j-1]*28;P[j]=T?P[j]*T[U>>8]>>8:P[j]*U>>16}}function ee(k,P,T,w,j,U,H,V,E,M,L){const B=!!U,W=B?U[0]:0,K=B?U[1]:0,Q=B?U[2]:0,oe=j==="Luminosity"?q:$,se=Math.min(w,Math.ceil(1048576/T));for(let le=0;le<w;le+=se){const ue=Math.min(se,w-le),pe=k.getImageData(V-M,le+(E-L),T,ue),ge=P.getImageData(V,le+E,T,ue);B&&G(pe.data,W,K,Q),oe(pe.data,ge.data,H),P.putImageData(ge,V,le+E)}}function J(k,P,T,w){const j=w[0],U=w[1],H=w[2]-j,V=w[3]-U;H===0||V===0||(ee(P.context,T,H,V,P.subtype,P.backdrop,P.transferMap,j,U,P.offsetX,P.offsetY),k.save(),k.globalAlpha=1,k.globalCompositeOperation="source-over",k.setTransform(1,0,0,1,0,0),k.drawImage(T.canvas,0,0),k.restore())}function me(k,P){const T=o.Util.singularValueDecompose2dScale(k);T[0]=Math.fround(T[0]),T[1]=Math.fround(T[1]);const w=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return P!==void 0?P:T[0]<=w||T[1]<=w}const he=["butt","round","square"],fe=["miter","round","bevel"],ve={},ce={};class z{constructor(P,T,w,j,U,{optionalContentConfig:H,markedContentStack:V=null},E,M){this.ctx=P,this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=T,this.objs=w,this.canvasFactory=j,this.filterFactory=U,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=V||[],this.optionalContentConfig=H,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=E,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=M,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(P,T=null){return typeof P=="string"?P.startsWith("g_")?this.commonObjs.get(P):this.objs.get(P):T}beginDrawing({transform:P,viewport:T,transparency:w=!1,background:j=null}){const U=this.ctx.canvas.width,H=this.ctx.canvas.height,V=this.ctx.fillStyle;if(this.ctx.fillStyle=j||"#ffffff",this.ctx.fillRect(0,0,U,H),this.ctx.fillStyle=V,w){const E=this.cachedCanvases.getCanvas("transparent",U,H);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),F(this.ctx),P&&(this.ctx.transform(...P),this.outputScaleX=P[0],this.outputScaleY=P[0]),this.ctx.transform(...T.transform),this.viewportScale=T.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(P,T,w,j){const U=P.argsArray,H=P.fnArray;let V=T||0;const E=U.length;if(E===V)return V;const M=E-V>h&&typeof w=="function",L=M?Date.now()+l:0;let B=0;const W=this.commonObjs,K=this.objs;let Q;for(;;){if(j!==void 0&&V===j.nextBreakPoint)return j.breakIt(V,w),V;if(Q=H[V],Q!==o.OPS.dependency)this[Q].apply(this,U[V]);else for(const oe of U[V]){const xe=oe.startsWith("g_")?W:K;if(!xe.has(oe))return xe.get(oe,w),V}if(V++,V===E)return V;if(M&&++B>h){if(Date.now()>L)return w(),V;B=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const P of this._cachedBitmapsMap.values()){for(const T of P.values())typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement&&(T.width=T.height=0);P.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const P=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(P!=="none"){const T=this.ctx.filter;this.ctx.filter=P,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=T}}}_scaleImage(P,T){const w=P.width,j=P.height;let U=Math.max(Math.hypot(T[0],T[1]),1),H=Math.max(Math.hypot(T[2],T[3]),1),V=w,E=j,M="prescale1",L,B;for(;U>2&&V>1||H>2&&E>1;){let W=V,K=E;U>2&&V>1&&(W=V>=16384?Math.floor(V/2)-1||1:Math.ceil(V/2),U/=V/W),H>2&&E>1&&(K=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E)/2,H/=E/K),L=this.cachedCanvases.getCanvas(M,W,K),B=L.context,B.clearRect(0,0,W,K),B.drawImage(P,0,0,V,E,0,0,W,K),P=L.canvas,V=W,E=K,M=M==="prescale1"?"prescale2":"prescale1"}return{img:P,paintWidth:V,paintHeight:E}}_createMaskCanvas(P){const T=this.ctx,{width:w,height:j}=P,U=this.current.fillColor,H=this.current.patternFill,V=(0,c.getCurrentTransform)(T);let E,M,L,B;if((P.bitmap||P.data)&&P.count>1){const Pe=P.bitmap||P.data.buffer;M=JSON.stringify(H?V:[V.slice(0,4),U]),E=this._cachedBitmapsMap.get(Pe),E||(E=new Map,this._cachedBitmapsMap.set(Pe,E));const De=E.get(M);if(De&&!H){const Ie=Math.round(Math.min(V[0],V[2])+V[4]),Ne=Math.round(Math.min(V[1],V[3])+V[5]);return{canvas:De,offsetX:Ie,offsetY:Ne}}L=De}L||(B=this.cachedCanvases.getCanvas("maskCanvas",w,j),I(B.context,P));let W=o.Util.transform(V,[1/w,0,0,-1/j,0,0]);W=o.Util.transform(W,[1,0,0,1,0,-j]);const K=o.Util.applyTransform([0,0],W),Q=o.Util.applyTransform([w,j],W),oe=o.Util.normalizeRect([K[0],K[1],Q[0],Q[1]]),xe=Math.round(oe[2]-oe[0])||1,se=Math.round(oe[3]-oe[1])||1,le=this.cachedCanvases.getCanvas("fillCanvas",xe,se),ue=le.context,pe=Math.min(K[0],Q[0]),ge=Math.min(K[1],Q[1]);ue.translate(-pe,-ge),ue.transform(...W),L||(L=this._scaleImage(B.canvas,(0,c.getCurrentTransformInverse)(ue)),L=L.img,E&&H&&E.set(M,L)),ue.imageSmoothingEnabled=me((0,c.getCurrentTransform)(ue),P.interpolate),C(ue,L,0,0,L.width,L.height,0,0,w,j),ue.globalCompositeOperation="source-in";const be=o.Util.transform((0,c.getCurrentTransformInverse)(ue),[1,0,0,1,-pe,-ge]);return ue.fillStyle=H?U.getPattern(T,this,be,m.PathType.FILL):U,ue.fillRect(0,0,w,j),E&&!H&&(this.cachedCanvases.delete("fillCanvas"),E.set(M,le.canvas)),{canvas:le.canvas,offsetX:Math.round(pe),offsetY:Math.round(ge)}}setLineWidth(P){P!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=P,this.ctx.lineWidth=P}setLineCap(P){this.ctx.lineCap=he[P]}setLineJoin(P){this.ctx.lineJoin=fe[P]}setMiterLimit(P){this.ctx.miterLimit=P}setDash(P,T){const w=this.ctx;w.setLineDash!==void 0&&(w.setLineDash(P),w.lineDashOffset=T)}setRenderingIntent(P){}setFlatness(P){}setGState(P){for(const[T,w]of P)switch(T){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=w;break;case"ca":this.current.fillAlpha=w,this.ctx.globalAlpha=w;break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(w);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const P=this.inSMaskMode;this.current.activeSMask&&!P?this.beginSMaskMode():!this.current.activeSMask&&P&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const P=this.ctx.canvas.width,T=this.ctx.canvas.height,w="smaskGroupAt"+this.groupLevel,j=this.cachedCanvases.getCanvas(w,P,T);this.suspendedCtx=this.ctx,this.ctx=j.context;const U=this.ctx;U.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),R(this.suspendedCtx,U),p(U,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),R(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(P){if(!this.current.activeSMask)return;P?(P[0]=Math.floor(P[0]),P[1]=Math.floor(P[1]),P[2]=Math.ceil(P[2]),P[3]=Math.ceil(P[3])):P=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const T=this.current.activeSMask,w=this.suspendedCtx;J(w,T,this.ctx,P),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(R(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const P=this.current;this.stateStack.push(P),this.current=P.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),R(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(P,T,w,j,U,H){this.ctx.transform(P,T,w,j,U,H),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(P,T,w){const j=this.ctx,U=this.current;let H=U.x,V=U.y,E,M;const L=(0,c.getCurrentTransform)(j),B=L[0]===0&&L[3]===0||L[1]===0&&L[2]===0,W=B?w.slice(0):null;for(let K=0,Q=0,oe=P.length;K<oe;K++)switch(P[K]|0){case o.OPS.rectangle:H=T[Q++],V=T[Q++];const xe=T[Q++],se=T[Q++],le=H+xe,ue=V+se;j.moveTo(H,V),xe===0||se===0?j.lineTo(le,ue):(j.lineTo(le,V),j.lineTo(le,ue),j.lineTo(H,ue)),B||U.updateRectMinMax(L,[H,V,le,ue]),j.closePath();break;case o.OPS.moveTo:H=T[Q++],V=T[Q++],j.moveTo(H,V),B||U.updatePathMinMax(L,H,V);break;case o.OPS.lineTo:H=T[Q++],V=T[Q++],j.lineTo(H,V),B||U.updatePathMinMax(L,H,V);break;case o.OPS.curveTo:E=H,M=V,H=T[Q+4],V=T[Q+5],j.bezierCurveTo(T[Q],T[Q+1],T[Q+2],T[Q+3],H,V),U.updateCurvePathMinMax(L,E,M,T[Q],T[Q+1],T[Q+2],T[Q+3],H,V,W),Q+=6;break;case o.OPS.curveTo2:E=H,M=V,j.bezierCurveTo(H,V,T[Q],T[Q+1],T[Q+2],T[Q+3]),U.updateCurvePathMinMax(L,E,M,H,V,T[Q],T[Q+1],T[Q+2],T[Q+3],W),H=T[Q+2],V=T[Q+3],Q+=4;break;case o.OPS.curveTo3:E=H,M=V,H=T[Q+2],V=T[Q+3],j.bezierCurveTo(T[Q],T[Q+1],H,V,H,V),U.updateCurvePathMinMax(L,E,M,T[Q],T[Q+1],H,V,H,V,W),Q+=4;break;case o.OPS.closePath:j.closePath();break}B&&U.updateScalingPathMinMax(L,W),U.setCurrentPoint(H,V)}closePath(){this.ctx.closePath()}stroke(P=!0){const T=this.ctx,w=this.current.strokeColor;T.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof w=="object"&&w?.getPattern?(T.save(),T.strokeStyle=w.getPattern(T,this,(0,c.getCurrentTransformInverse)(T),m.PathType.STROKE),this.rescaleAndStroke(!1),T.restore()):this.rescaleAndStroke(!0)),P&&this.consumePath(this.current.getClippedPathBoundingBox()),T.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(P=!0){const T=this.ctx,w=this.current.fillColor,j=this.current.patternFill;let U=!1;j&&(T.save(),T.fillStyle=w.getPattern(T,this,(0,c.getCurrentTransformInverse)(T),m.PathType.FILL),U=!0);const H=this.current.getClippedPathBoundingBox();this.contentVisible&&H!==null&&(this.pendingEOFill?(T.fill("evenodd"),this.pendingEOFill=!1):T.fill()),U&&T.restore(),P&&this.consumePath(H)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ve}eoClip(){this.pendingClip=ce}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const P=this.pendingTextPaths,T=this.ctx;if(P===void 0){T.beginPath();return}T.save(),T.beginPath();for(const w of P)T.setTransform(...w.transform),T.translate(w.x,w.y),w.addToPath(T,w.fontSize);T.restore(),T.clip(),T.beginPath(),delete this.pendingTextPaths}setCharSpacing(P){this.current.charSpacing=P}setWordSpacing(P){this.current.wordSpacing=P}setHScale(P){this.current.textHScale=P/100}setLeading(P){this.current.leading=-P}setFont(P,T){const w=this.commonObjs.get(P),j=this.current;if(!w)throw new Error(`Can't find font for ${P}`);if(j.fontMatrix=w.fontMatrix||o.FONT_IDENTITY_MATRIX,(j.fontMatrix[0]===0||j.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+P),T<0?(T=-T,j.fontDirection=-1):j.fontDirection=1,this.current.font=w,this.current.fontSize=T,w.isType3Font)return;const U=w.loadedName||"sans-serif",H=w.systemFontInfo?.css||`"${U}", ${w.fallbackName}`;let V="normal";w.black?V="900":w.bold&&(V="bold");const E=w.italic?"italic":"normal";let M=T;T<_?M=_:T>x&&(M=x),this.current.fontSizeScale=T/M,this.ctx.font=`${E} ${V} ${M}px ${H}`}setTextRenderingMode(P){this.current.textRenderingMode=P}setTextRise(P){this.current.textRise=P}moveText(P,T){this.current.x=this.current.lineX+=P,this.current.y=this.current.lineY+=T}setLeadingMoveText(P,T){this.setLeading(-T),this.moveText(P,T)}setTextMatrix(P,T,w,j,U,H){this.current.textMatrix=[P,T,w,j,U,H],this.current.textMatrixScale=Math.hypot(P,T),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(P,T,w,j){const U=this.ctx,H=this.current,V=H.font,E=H.textRenderingMode,M=H.fontSize/H.fontSizeScale,L=E&o.TextRenderingMode.FILL_STROKE_MASK,B=!!(E&o.TextRenderingMode.ADD_TO_PATH_FLAG),W=H.patternFill&&!V.missingFile;let K;(V.disableFontFace||B||W)&&(K=V.getPathGenerator(this.commonObjs,P)),V.disableFontFace||W?(U.save(),U.translate(T,w),U.beginPath(),K(U,M),j&&U.setTransform(...j),(L===o.TextRenderingMode.FILL||L===o.TextRenderingMode.FILL_STROKE)&&U.fill(),(L===o.TextRenderingMode.STROKE||L===o.TextRenderingMode.FILL_STROKE)&&U.stroke(),U.restore()):((L===o.TextRenderingMode.FILL||L===o.TextRenderingMode.FILL_STROKE)&&U.fillText(P,T,w),(L===o.TextRenderingMode.STROKE||L===o.TextRenderingMode.FILL_STROKE)&&U.strokeText(P,T,w)),B&&(this.pendingTextPaths||=[]).push({transform:(0,c.getCurrentTransform)(U),x:T,y:w,fontSize:M,addToPath:K})}get isFontSubpixelAAEnabled(){const{context:P}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);P.scale(1.5,1),P.fillText("I",0,10);const T=P.getImageData(0,0,10,10).data;let w=!1;for(let j=3;j<T.length;j+=4)if(T[j]>0&&T[j]<255){w=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",w)}showText(P){const T=this.current,w=T.font;if(w.isType3Font)return this.showType3Text(P);const j=T.fontSize;if(j===0)return;const U=this.ctx,H=T.fontSizeScale,V=T.charSpacing,E=T.wordSpacing,M=T.fontDirection,L=T.textHScale*M,B=P.length,W=w.vertical,K=W?1:-1,Q=w.defaultVMetrics,oe=j*T.fontMatrix[0],xe=T.textRenderingMode===o.TextRenderingMode.FILL&&!w.disableFontFace&&!T.patternFill;U.save(),U.transform(...T.textMatrix),U.translate(T.x,T.y+T.textRise),M>0?U.scale(L,-1):U.scale(L,1);let se;if(T.patternFill){U.save();const be=T.fillColor.getPattern(U,this,(0,c.getCurrentTransformInverse)(U),m.PathType.FILL);se=(0,c.getCurrentTransform)(U),U.restore(),U.fillStyle=be}let le=T.lineWidth;const ue=T.textMatrixScale;if(ue===0||le===0){const be=T.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(be===o.TextRenderingMode.STROKE||be===o.TextRenderingMode.FILL_STROKE)&&(le=this.getSinglePixelWidth())}else le/=ue;if(H!==1&&(U.scale(H,H),le/=H),U.lineWidth=le,w.isInvalidPDFjsFont){const be=[];let Pe=0;for(const De of P)be.push(De.unicode),Pe+=De.width;U.fillText(be.join(""),0,0),T.x+=Pe*oe*L,U.restore(),this.compose();return}let pe=0,ge;for(ge=0;ge<B;++ge){const be=P[ge];if(typeof be=="number"){pe+=K*be*j/1e3;continue}let Pe=!1;const De=(be.isSpace?E:0)+V,Ie=be.fontChar,Ne=be.accent;let je,at,Qe=be.width;if(W){const nt=be.vmetric||Q,dt=-(be.vmetric?nt[1]:Qe*.5)*oe,Vt=nt[2]*oe;Qe=nt?-nt[0]:Qe,je=dt/H,at=(pe+Vt)/H}else je=pe/H,at=0;if(w.remeasure&&Qe>0){const nt=U.measureText(Ie).width*1e3/j*H;if(Qe<nt&&this.isFontSubpixelAAEnabled){const dt=Qe/nt;Pe=!0,U.save(),U.scale(dt,1),je/=dt}else Qe!==nt&&(je+=(Qe-nt)/2e3*j/H)}if(this.contentVisible&&(be.isInFont||w.missingFile)){if(xe&&!Ne)U.fillText(Ie,je,at);else if(this.paintChar(Ie,je,at,se),Ne){const nt=je+j*Ne.offset.x/H,dt=at-j*Ne.offset.y/H;this.paintChar(Ne.fontChar,nt,dt,se)}}const Tt=W?Qe*oe-De*M:Qe*oe+De*M;pe+=Tt,Pe&&U.restore()}W?T.y-=pe:T.x+=pe*L,U.restore(),this.compose()}showType3Text(P){const T=this.ctx,w=this.current,j=w.font,U=w.fontSize,H=w.fontDirection,V=j.vertical?1:-1,E=w.charSpacing,M=w.wordSpacing,L=w.textHScale*H,B=w.fontMatrix||o.FONT_IDENTITY_MATRIX,W=P.length,K=w.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Q,oe,xe,se;if(!(K||U===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,T.save(),T.transform(...w.textMatrix),T.translate(w.x,w.y),T.scale(L,H),Q=0;Q<W;++Q){if(oe=P[Q],typeof oe=="number"){se=V*oe*U/1e3,this.ctx.translate(se,0),w.x+=se*L;continue}const le=(oe.isSpace?M:0)+E,ue=j.charProcOperatorList[oe.operatorListId];if(!ue){(0,o.warn)(`Type3 character "${oe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=oe,this.save(),T.scale(U,U),T.transform(...B),this.executeOperatorList(ue),this.restore()),xe=o.Util.applyTransform([oe.width,0],B)[0]*U+le,T.translate(xe,0),w.x+=xe*L}T.restore(),this.processingType3=null}}setCharWidth(P,T){}setCharWidthAndBounds(P,T,w,j,U,H){this.ctx.rect(w,j,U-w,H-j),this.ctx.clip(),this.endPath()}getColorN_Pattern(P){let T;if(P[0]==="TilingPattern"){const w=P[1],j=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),U={createCanvasGraphics:H=>new z(H,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};T=new m.TilingPattern(P,w,this.ctx,U,j)}else T=this._getPattern(P[1],P[2]);return T}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(P,T,w){const j=o.Util.makeHexColor(P,T,w);this.ctx.strokeStyle=j,this.current.strokeColor=j}setFillRGBColor(P,T,w){const j=o.Util.makeHexColor(P,T,w);this.ctx.fillStyle=j,this.current.fillColor=j,this.current.patternFill=!1}_getPattern(P,T=null){let w;return this.cachedPatterns.has(P)?w=this.cachedPatterns.get(P):(w=(0,m.getShadingPattern)(this.getObject(P)),this.cachedPatterns.set(P,w)),T&&(w.matrix=T),w}shadingFill(P){if(!this.contentVisible)return;const T=this.ctx;this.save();const w=this._getPattern(P);T.fillStyle=w.getPattern(T,this,(0,c.getCurrentTransformInverse)(T),m.PathType.SHADING);const j=(0,c.getCurrentTransformInverse)(T);if(j){const{width:U,height:H}=T.canvas,[V,E,M,L]=o.Util.getAxialAlignedBoundingBox([0,0,U,H],j);this.ctx.fillRect(V,E,M-V,L-E)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(P,T){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(P)&&P.length===6&&this.transform(...P),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),T)){const w=T[2]-T[0],j=T[3]-T[1];this.ctx.rect(T[0],T[1],w,j),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),T),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(P){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const T=this.ctx;P.isolated||(0,o.info)("TODO: Support non-isolated groups."),P.knockout&&(0,o.warn)("Knockout groups not supported.");const w=(0,c.getCurrentTransform)(T);if(P.matrix&&T.transform(...P.matrix),!P.bbox)throw new Error("Bounding box is required.");let j=o.Util.getAxialAlignedBoundingBox(P.bbox,(0,c.getCurrentTransform)(T));const U=[0,0,T.canvas.width,T.canvas.height];j=o.Util.intersect(j,U)||[0,0,0,0];const H=Math.floor(j[0]),V=Math.floor(j[1]);let E=Math.max(Math.ceil(j[2])-H,1),M=Math.max(Math.ceil(j[3])-V,1),L=1,B=1;E>d&&(L=E/d,E=d),M>d&&(B=M/d,M=d),this.current.startNewPathAndClipBox([0,0,E,M]);let W="groupAt"+this.groupLevel;P.smask&&(W+="_smask_"+this.smaskCounter++%2);const K=this.cachedCanvases.getCanvas(W,E,M),Q=K.context;Q.scale(1/L,1/B),Q.translate(-H,-V),Q.transform(...w),P.smask?this.smaskStack.push({canvas:K.canvas,context:Q,offsetX:H,offsetY:V,scaleX:L,scaleY:B,subtype:P.smask.subtype,backdrop:P.smask.backdrop,transferMap:P.smask.transferMap||null,startTransformInverse:null}):(T.setTransform(1,0,0,1,0,0),T.translate(H,V),T.scale(L,B),T.save()),R(T,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(T),this.groupLevel++}endGroup(P){if(!this.contentVisible)return;this.groupLevel--;const T=this.ctx,w=this.groupStack.pop();if(this.ctx=w,this.ctx.imageSmoothingEnabled=!1,P.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const j=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...j);const U=o.Util.getAxialAlignedBoundingBox([0,0,T.canvas.width,T.canvas.height],j);this.ctx.drawImage(T.canvas,0,0),this.ctx.restore(),this.compose(U)}}beginAnnotation(P,T,w,j,U){if(this.#e(),F(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(T)&&T.length===4){const H=T[2]-T[0],V=T[3]-T[1];if(U&&this.annotationCanvasMap){w=w.slice(),w[4]-=T[0],w[5]-=T[1],T=T.slice(),T[0]=T[1]=0,T[2]=H,T[3]=V;const[E,M]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:L}=this,B=Math.ceil(H*this.outputScaleX*L),W=Math.ceil(V*this.outputScaleY*L);this.annotationCanvas=this.canvasFactory.create(B,W);const{canvas:K,context:Q}=this.annotationCanvas;this.annotationCanvasMap.set(P,K),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.save(),this.ctx.setTransform(E,0,0,-M,0,V*M),F(this.ctx)}else F(this.ctx),this.ctx.rect(T[0],T[1],H,V),this.ctx.clip(),this.endPath()}this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...w),this.transform(...j)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(P){if(!this.contentVisible)return;const T=P.count;P=this.getObject(P.data,P),P.count=T;const w=this.ctx,j=this.processingType3;if(j&&(j.compiled===void 0&&(j.compiled=S(P)),j.compiled)){j.compiled(w);return}const U=this._createMaskCanvas(P),H=U.canvas;w.save(),w.setTransform(1,0,0,1,0,0),w.drawImage(H,U.offsetX,U.offsetY),w.restore(),this.compose()}paintImageMaskXObjectRepeat(P,T,w=0,j=0,U,H){if(!this.contentVisible)return;P=this.getObject(P.data,P);const V=this.ctx;V.save();const E=(0,c.getCurrentTransform)(V);V.transform(T,w,j,U,0,0);const M=this._createMaskCanvas(P);V.setTransform(1,0,0,1,M.offsetX-E[4],M.offsetY-E[5]);for(let L=0,B=H.length;L<B;L+=2){const W=o.Util.transform(E,[T,w,j,U,H[L],H[L+1]]),[K,Q]=o.Util.applyTransform([0,0],W);V.drawImage(M.canvas,K,Q)}V.restore(),this.compose()}paintImageMaskXObjectGroup(P){if(!this.contentVisible)return;const T=this.ctx,w=this.current.fillColor,j=this.current.patternFill;for(const U of P){const{data:H,width:V,height:E,transform:M}=U,L=this.cachedCanvases.getCanvas("maskCanvas",V,E),B=L.context;B.save();const W=this.getObject(H,U);I(B,W),B.globalCompositeOperation="source-in",B.fillStyle=j?w.getPattern(B,this,(0,c.getCurrentTransformInverse)(T),m.PathType.FILL):w,B.fillRect(0,0,V,E),B.restore(),T.save(),T.transform(...M),T.scale(1,-1),C(T,L.canvas,0,0,V,E,0,-1,1,1),T.restore()}this.compose()}paintImageXObject(P){if(!this.contentVisible)return;const T=this.getObject(P);if(!T){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(T)}paintImageXObjectRepeat(P,T,w,j){if(!this.contentVisible)return;const U=this.getObject(P);if(!U){(0,o.warn)("Dependent image isn't ready yet");return}const H=U.width,V=U.height,E=[];for(let M=0,L=j.length;M<L;M+=2)E.push({transform:[T,0,0,w,j[M],j[M+1]],x:0,y:0,w:H,h:V});this.paintInlineImageXObjectGroup(U,E)}applyTransferMapsToCanvas(P){return this.current.transferMaps!=="none"&&(P.filter=this.current.transferMaps,P.drawImage(P.canvas,0,0),P.filter="none"),P.canvas}applyTransferMapsToBitmap(P){if(this.current.transferMaps==="none")return P.bitmap;const{bitmap:T,width:w,height:j}=P,U=this.cachedCanvases.getCanvas("inlineImage",w,j),H=U.context;return H.filter=this.current.transferMaps,H.drawImage(T,0,0),H.filter="none",U.canvas}paintInlineImageXObject(P){if(!this.contentVisible)return;const T=P.width,w=P.height,j=this.ctx;if(this.save(),!o.isNodeJS){const{filter:V}=j;V!=="none"&&V!==""&&(j.filter="none")}j.scale(1/T,-1/w);let U;if(P.bitmap)U=this.applyTransferMapsToBitmap(P);else if(typeof HTMLElement=="function"&&P instanceof HTMLElement||!P.data)U=P;else{const E=this.cachedCanvases.getCanvas("inlineImage",T,w).context;O(E,P),U=this.applyTransferMapsToCanvas(E)}const H=this._scaleImage(U,(0,c.getCurrentTransformInverse)(j));j.imageSmoothingEnabled=me((0,c.getCurrentTransform)(j),P.interpolate),C(j,H.img,0,0,H.paintWidth,H.paintHeight,0,-w,T,w),this.compose(),this.restore()}paintInlineImageXObjectGroup(P,T){if(!this.contentVisible)return;const w=this.ctx;let j;if(P.bitmap)j=P.bitmap;else{const U=P.width,H=P.height,E=this.cachedCanvases.getCanvas("inlineImage",U,H).context;O(E,P),j=this.applyTransferMapsToCanvas(E)}for(const U of T)w.save(),w.transform(...U.transform),w.scale(1,-1),C(w,j,U.x,U.y,U.w,U.h,0,-1,1,1),w.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(P){}markPointProps(P,T){}beginMarkedContent(P){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(P,T){P==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(T)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(P){const T=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(P);const w=this.ctx;this.pendingClip&&(T||(this.pendingClip===ce?w.clip("evenodd"):w.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),w.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const P=(0,c.getCurrentTransform)(this.ctx);if(P[1]===0&&P[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(P[0]),Math.abs(P[3]));else{const T=Math.abs(P[0]*P[3]-P[2]*P[1]),w=Math.hypot(P[0],P[2]),j=Math.hypot(P[1],P[3]);this._cachedGetSinglePixelWidth=Math.max(w,j)/T}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:P}=this.current,{a:T,b:w,c:j,d:U}=this.ctx.getTransform();let H,V;if(w===0&&j===0){const E=Math.abs(T),M=Math.abs(U);if(E===M)if(P===0)H=V=1/E;else{const L=E*P;H=V=L<1?1/L:1}else if(P===0)H=1/E,V=1/M;else{const L=E*P,B=M*P;H=L<1?1/L:1,V=B<1?1/B:1}}else{const E=Math.abs(T*U-w*j),M=Math.hypot(T,w),L=Math.hypot(j,U);if(P===0)H=L/E,V=M/E;else{const B=P*E;H=L>B?L/B:1,V=M>B?M/B:1}}this._cachedScaleForStroking[0]=H,this._cachedScaleForStroking[1]=V}return this._cachedScaleForStroking}rescaleAndStroke(P){const{ctx:T}=this,{lineWidth:w}=this.current,[j,U]=this.getScaleForStroking();if(T.lineWidth=w||1,j===1&&U===1){T.stroke();return}const H=T.getLineDash();if(P&&T.save(),T.scale(j,U),H.length>0){const V=Math.max(j,U);T.setLineDash(H.map(E=>E/V)),T.lineDashOffset/=V}T.stroke(),P&&T.restore()}isContentVisible(){for(let P=this.markedContentStack.length-1;P>=0;P--)if(!this.markedContentStack[P].visible)return!1;return!0}}n.CanvasGraphics=z;for(const k in o.OPS)z.prototype[k]!==void 0&&(z.prototype[o.OPS[k]]=z.prototype[k])}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=v;var o=s(1),c=s(6);const m={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=m;function f(C,S){if(!S)return;const D=S[2]-S[0],O=S[3]-S[1],I=new Path2D;I.rect(S[0],S[1],D,O),C.clip(I)}class _{constructor(){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class x extends _{constructor(S){super(),this._type=S[1],this._bbox=S[2],this._colorStops=S[3],this._p0=S[4],this._p1=S[5],this._r0=S[6],this._r1=S[7],this.matrix=null}_createGradient(S){let D;this._type==="axial"?D=S.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(D=S.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const O of this._colorStops)D.addColorStop(O[0],O[1]);return D}getPattern(S,D,O,I){let R;if(I===m.STROKE||I===m.FILL){const F=D.current.getClippedPathBoundingBox(I,(0,c.getCurrentTransform)(S))||[0,0,0,0],G=Math.ceil(F[2]-F[0])||1,$=Math.ceil(F[3]-F[1])||1,q=D.cachedCanvases.getCanvas("pattern",G,$,!0),ee=q.context;ee.clearRect(0,0,ee.canvas.width,ee.canvas.height),ee.beginPath(),ee.rect(0,0,ee.canvas.width,ee.canvas.height),ee.translate(-F[0],-F[1]),O=o.Util.transform(O,[1,0,0,1,F[0],F[1]]),ee.transform(...D.baseTransform),this.matrix&&ee.transform(...this.matrix),f(ee,this._bbox),ee.fillStyle=this._createGradient(ee),ee.fill(),R=S.createPattern(q.canvas,"no-repeat");const J=new DOMMatrix(O);R.setTransform(J)}else f(S,this._bbox),R=this._createGradient(S);return R}}function d(C,S,D,O,I,R,F,G){const $=S.coords,q=S.colors,ee=C.data,J=C.width*4;let me;$[D+1]>$[O+1]&&(me=D,D=O,O=me,me=R,R=F,F=me),$[O+1]>$[I+1]&&(me=O,O=I,I=me,me=F,F=G,G=me),$[D+1]>$[O+1]&&(me=D,D=O,O=me,me=R,R=F,F=me);const he=($[D]+S.offsetX)*S.scaleX,fe=($[D+1]+S.offsetY)*S.scaleY,ve=($[O]+S.offsetX)*S.scaleX,ce=($[O+1]+S.offsetY)*S.scaleY,z=($[I]+S.offsetX)*S.scaleX,k=($[I+1]+S.offsetY)*S.scaleY;if(fe>=k)return;const P=q[R],T=q[R+1],w=q[R+2],j=q[F],U=q[F+1],H=q[F+2],V=q[G],E=q[G+1],M=q[G+2],L=Math.round(fe),B=Math.round(k);let W,K,Q,oe,xe,se,le,ue;for(let pe=L;pe<=B;pe++){if(pe<ce){const Ie=pe<fe?0:(fe-pe)/(fe-ce);W=he-(he-ve)*Ie,K=P-(P-j)*Ie,Q=T-(T-U)*Ie,oe=w-(w-H)*Ie}else{let Ie;pe>k?Ie=1:ce===k?Ie=0:Ie=(ce-pe)/(ce-k),W=ve-(ve-z)*Ie,K=j-(j-V)*Ie,Q=U-(U-E)*Ie,oe=H-(H-M)*Ie}let ge;pe<fe?ge=0:pe>k?ge=1:ge=(fe-pe)/(fe-k),xe=he-(he-z)*ge,se=P-(P-V)*ge,le=T-(T-E)*ge,ue=w-(w-M)*ge;const be=Math.round(Math.min(W,xe)),Pe=Math.round(Math.max(W,xe));let De=J*pe+be*4;for(let Ie=be;Ie<=Pe;Ie++)ge=(W-Ie)/(W-xe),ge<0?ge=0:ge>1&&(ge=1),ee[De++]=K-(K-se)*ge|0,ee[De++]=Q-(Q-le)*ge|0,ee[De++]=oe-(oe-ue)*ge|0,ee[De++]=255}}function l(C,S,D){const O=S.coords,I=S.colors;let R,F;switch(S.type){case"lattice":const G=S.verticesPerRow,$=Math.floor(O.length/G)-1,q=G-1;for(R=0;R<$;R++){let ee=R*G;for(let J=0;J<q;J++,ee++)d(C,D,O[ee],O[ee+1],O[ee+G],I[ee],I[ee+1],I[ee+G]),d(C,D,O[ee+G+1],O[ee+1],O[ee+G],I[ee+G+1],I[ee+1],I[ee+G])}break;case"triangles":for(R=0,F=O.length;R<F;R+=3)d(C,D,O[R],O[R+1],O[R+2],I[R],I[R+1],I[R+2]);break;default:throw new Error("illegal figure")}}class h extends _{constructor(S){super(),this._coords=S[2],this._colors=S[3],this._figures=S[4],this._bounds=S[5],this._bbox=S[7],this._background=S[8],this.matrix=null}_createMeshCanvas(S,D,O){const G=Math.floor(this._bounds[0]),$=Math.floor(this._bounds[1]),q=Math.ceil(this._bounds[2])-G,ee=Math.ceil(this._bounds[3])-$,J=Math.min(Math.ceil(Math.abs(q*S[0]*1.1)),3e3),me=Math.min(Math.ceil(Math.abs(ee*S[1]*1.1)),3e3),he=q/J,fe=ee/me,ve={coords:this._coords,colors:this._colors,offsetX:-G,offsetY:-$,scaleX:1/he,scaleY:1/fe},ce=J+4,z=me+4,k=O.getCanvas("mesh",ce,z,!1),P=k.context,T=P.createImageData(J,me);if(D){const j=T.data;for(let U=0,H=j.length;U<H;U+=4)j[U]=D[0],j[U+1]=D[1],j[U+2]=D[2],j[U+3]=255}for(const j of this._figures)l(T,j,ve);return P.putImageData(T,2,2),{canvas:k.canvas,offsetX:G-2*he,offsetY:$-2*fe,scaleX:he,scaleY:fe}}getPattern(S,D,O,I){f(S,this._bbox);let R;if(I===m.SHADING)R=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(S));else if(R=o.Util.singularValueDecompose2dScale(D.baseTransform),this.matrix){const G=o.Util.singularValueDecompose2dScale(this.matrix);R=[R[0]*G[0],R[1]*G[1]]}const F=this._createMeshCanvas(R,I===m.SHADING?null:this._background,D.cachedCanvases);return I!==m.SHADING&&(S.setTransform(...D.baseTransform),this.matrix&&S.transform(...this.matrix)),S.translate(F.offsetX,F.offsetY),S.scale(F.scaleX,F.scaleY),S.createPattern(F.canvas,"no-repeat")}}class y extends _{getPattern(){return"hotpink"}}function v(C){switch(C[0]){case"RadialAxial":return new x(C);case"Mesh":return new h(C);case"Dummy":return new y}throw new Error(`Unknown IR type: ${C[0]}`)}const p={COLORED:1,UNCOLORED:2};class b{static MAX_PATTERN_SIZE=3e3;constructor(S,D,O,I,R){this.operatorList=S[2],this.matrix=S[3]||[1,0,0,1,0,0],this.bbox=S[4],this.xstep=S[5],this.ystep=S[6],this.paintType=S[7],this.tilingType=S[8],this.color=D,this.ctx=O,this.canvasGraphicsFactory=I,this.baseTransform=R}createPatternCanvas(S){const D=this.operatorList,O=this.bbox,I=this.xstep,R=this.ystep,F=this.paintType,G=this.tilingType,$=this.color,q=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+G);const ee=O[0],J=O[1],me=O[2],he=O[3],fe=o.Util.singularValueDecompose2dScale(this.matrix),ve=o.Util.singularValueDecompose2dScale(this.baseTransform),ce=[fe[0]*ve[0],fe[1]*ve[1]],z=this.getSizeAndScale(I,this.ctx.canvas.width,ce[0]),k=this.getSizeAndScale(R,this.ctx.canvas.height,ce[1]),P=S.cachedCanvases.getCanvas("pattern",z.size,k.size,!0),T=P.context,w=q.createCanvasGraphics(T);w.groupLevel=S.groupLevel,this.setFillAndStrokeStyleToContext(w,F,$);let j=ee,U=J,H=me,V=he;return ee<0&&(j=0,H+=Math.abs(ee)),J<0&&(U=0,V+=Math.abs(J)),T.translate(-(z.scale*j),-(k.scale*U)),w.transform(z.scale,0,0,k.scale,0,0),T.save(),this.clipBbox(w,j,U,H,V),w.baseTransform=(0,c.getCurrentTransform)(w.ctx),w.executeOperatorList(D),w.endDrawing(),{canvas:P.canvas,scaleX:z.scale,scaleY:k.scale,offsetX:j,offsetY:U}}getSizeAndScale(S,D,O){S=Math.abs(S);const I=Math.max(b.MAX_PATTERN_SIZE,D);let R=Math.ceil(S*O);return R>=I?R=I:O=R/S,{scale:O,size:R}}clipBbox(S,D,O,I,R){const F=I-D,G=R-O;S.ctx.rect(D,O,F,G),S.current.updateRectMinMax((0,c.getCurrentTransform)(S.ctx),[D,O,I,R]),S.clip(),S.endPath()}setFillAndStrokeStyleToContext(S,D,O){const I=S.ctx,R=S.current;switch(D){case p.COLORED:const F=this.ctx;I.fillStyle=F.fillStyle,I.strokeStyle=F.strokeStyle,R.fillColor=F.fillStyle,R.strokeColor=F.strokeStyle;break;case p.UNCOLORED:const G=o.Util.makeHexColor(O[0],O[1],O[2]);I.fillStyle=G,I.strokeStyle=G,R.fillColor=G,R.strokeColor=G;break;default:throw new o.FormatError(`Unsupported paint type: ${D}`)}}getPattern(S,D,O,I){let R=O;I!==m.SHADING&&(R=o.Util.transform(R,D.baseTransform),this.matrix&&(R=o.Util.transform(R,this.matrix)));const F=this.createPatternCanvas(D);let G=new DOMMatrix(R);G=G.translate(F.offsetX,F.offsetY),G=G.scale(1/F.scaleX,1/F.scaleY);const $=S.createPattern(F.canvas,"repeat");return $.setTransform(G),$}}n.TilingPattern=b}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.convertBlackAndWhiteToRGBA=m,n.convertToRGBA=c,n.grayToRGBA=_;var o=s(1);function c(x){switch(x.kind){case o.ImageKind.GRAYSCALE_1BPP:return m(x);case o.ImageKind.RGB_24BPP:return f(x)}return null}function m({src:x,srcPos:d=0,dest:l,width:h,height:y,nonBlackColor:v=4294967295,inverseDecode:p=!1}){const b=o.FeatureTest.isLittleEndian?4278190080:255,[C,S]=p?[v,b]:[b,v],D=h>>3,O=h&7,I=x.length;l=new Uint32Array(l.buffer);let R=0;for(let F=0;F<y;F++){for(const $=d+D;d<$;d++){const q=d<I?x[d]:255;l[R++]=q&128?S:C,l[R++]=q&64?S:C,l[R++]=q&32?S:C,l[R++]=q&16?S:C,l[R++]=q&8?S:C,l[R++]=q&4?S:C,l[R++]=q&2?S:C,l[R++]=q&1?S:C}if(O===0)continue;const G=d<I?x[d++]:255;for(let $=0;$<O;$++)l[R++]=G&1<<7-$?S:C}return{srcPos:d,destPos:R}}function f({src:x,srcPos:d=0,dest:l,destPos:h=0,width:y,height:v}){let p=0;const b=x.length>>2,C=new Uint32Array(x.buffer,d,b);if(o.FeatureTest.isLittleEndian){for(;p<b-2;p+=3,h+=4){const S=C[p],D=C[p+1],O=C[p+2];l[h]=S|4278190080,l[h+1]=S>>>24|D<<8|4278190080,l[h+2]=D>>>16|O<<16|4278190080,l[h+3]=O>>>8|4278190080}for(let S=p*4,D=x.length;S<D;S+=3)l[h++]=x[S]|x[S+1]<<8|x[S+2]<<16|4278190080}else{for(;p<b-2;p+=3,h+=4){const S=C[p],D=C[p+1],O=C[p+2];l[h]=S|255,l[h+1]=S<<24|D>>>8|255,l[h+2]=D<<16|O>>>16|255,l[h+3]=O<<8|255}for(let S=p*4,D=x.length;S<D;S+=3)l[h++]=x[S]<<24|x[S+1]<<16|x[S+2]<<8|255}return{srcPos:d,destPos:h}}function _(x,d){if(o.FeatureTest.isLittleEndian)for(let l=0,h=x.length;l<h;l++)d[l]=x[l]*65793|4278190080;else for(let l=0,h=x.length;l<h;l++)d[l]=x[l]*16843008|255}}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const s=Object.create(null);n.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var o=s(1);const c={DATA:1,ERROR:2},m={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(x){switch(x instanceof Error||typeof x=="object"&&x!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new o.AbortException(x.message);case"MissingPDFException":return new o.MissingPDFException(x.message);case"PasswordException":return new o.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new o.UnknownErrorException(x.message,x.details);default:return new o.UnknownErrorException(x.message,x.toString())}}class _{constructor(d,l,h){this.sourceName=d,this.targetName=l,this.comObj=h,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const v=y.data;if(v.targetName!==this.sourceName)return;if(v.stream){this.#t(v);return}if(v.callback){const b=v.callbackId,C=this.callbackCapabilities[b];if(!C)throw new Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],v.callback===c.DATA)C.resolve(v.data);else if(v.callback===c.ERROR)C.reject(f(v.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[v.action];if(!p)throw new Error(`Unknown action from worker: ${v.action}`);if(v.callbackId){const b=this.sourceName,C=v.sourceName;new Promise(function(S){S(p(v.data))}).then(function(S){h.postMessage({sourceName:b,targetName:C,callback:c.DATA,callbackId:v.callbackId,data:S})},function(S){h.postMessage({sourceName:b,targetName:C,callback:c.ERROR,callbackId:v.callbackId,reason:f(S)})});return}if(v.streamId){this.#e(v);return}p(v.data)},h.addEventListener("message",this._onComObjOnMessage)}on(d,l){const h=this.actionHandler;if(h[d])throw new Error(`There is already an actionName called "${d}"`);h[d]=l}send(d,l,h){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:l},h)}sendWithPromise(d,l,h){const y=this.callbackId++,v=new o.PromiseCapability;this.callbackCapabilities[y]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:y,data:l},h)}catch(p){v.reject(p)}return v.promise}sendWithStream(d,l,h,y){const v=this.streamId++,p=this.sourceName,b=this.targetName,C=this.comObj;return new ReadableStream({start:S=>{const D=new o.PromiseCapability;return this.streamControllers[v]={controller:S,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:p,targetName:b,action:d,streamId:v,data:l,desiredSize:S.desiredSize},y),D.promise},pull:S=>{const D=new o.PromiseCapability;return this.streamControllers[v].pullCall=D,C.postMessage({sourceName:p,targetName:b,stream:m.PULL,streamId:v,desiredSize:S.desiredSize}),D.promise},cancel:S=>{(0,o.assert)(S instanceof Error,"cancel must have a valid reason");const D=new o.PromiseCapability;return this.streamControllers[v].cancelCall=D,this.streamControllers[v].isClosed=!0,C.postMessage({sourceName:p,targetName:b,stream:m.CANCEL,streamId:v,reason:f(S)}),D.promise}},h)}#e(d){const l=d.streamId,h=this.sourceName,y=d.sourceName,v=this.comObj,p=this,b=this.actionHandler[d.action],C={enqueue(S,D=1,O){if(this.isCancelled)return;const I=this.desiredSize;this.desiredSize-=D,I>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),v.postMessage({sourceName:h,targetName:y,stream:m.ENQUEUE,streamId:l,chunk:S},O)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:h,targetName:y,stream:m.CLOSE,streamId:l}),delete p.streamSinks[l])},error(S){(0,o.assert)(S instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:h,targetName:y,stream:m.ERROR,streamId:l,reason:f(S)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[l]=C,new Promise(function(S){S(b(d.data,C))}).then(function(){v.postMessage({sourceName:h,targetName:y,stream:m.START_COMPLETE,streamId:l,success:!0})},function(S){v.postMessage({sourceName:h,targetName:y,stream:m.START_COMPLETE,streamId:l,reason:f(S)})})}#t(d){const l=d.streamId,h=this.sourceName,y=d.sourceName,v=this.comObj,p=this.streamControllers[l],b=this.streamSinks[l];switch(d.stream){case m.START_COMPLETE:d.success?p.startCall.resolve():p.startCall.reject(f(d.reason));break;case m.PULL_COMPLETE:d.success?p.pullCall.resolve():p.pullCall.reject(f(d.reason));break;case m.PULL:if(!b){v.postMessage({sourceName:h,targetName:y,stream:m.PULL_COMPLETE,streamId:l,success:!0});break}b.desiredSize<=0&&d.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=d.desiredSize,new Promise(function(C){C(b.onPull?.())}).then(function(){v.postMessage({sourceName:h,targetName:y,stream:m.PULL_COMPLETE,streamId:l,success:!0})},function(C){v.postMessage({sourceName:h,targetName:y,stream:m.PULL_COMPLETE,streamId:l,reason:f(C)})});break;case m.ENQUEUE:if((0,o.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(d.chunk);break;case m.CLOSE:if((0,o.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#n(p,l);break;case m.ERROR:(0,o.assert)(p,"error should have stream controller"),p.controller.error(f(d.reason)),this.#n(p,l);break;case m.CANCEL_COMPLETE:d.success?p.cancelCall.resolve():p.cancelCall.reject(f(d.reason)),this.#n(p,l);break;case m.CANCEL:if(!b)break;new Promise(function(C){C(b.onCancel?.(f(d.reason)))}).then(function(){v.postMessage({sourceName:h,targetName:y,stream:m.CANCEL_COMPLETE,streamId:l,success:!0})},function(C){v.postMessage({sourceName:h,targetName:y,stream:m.CANCEL_COMPLETE,streamId:l,reason:f(C)})}),b.sinkCapability.reject(f(d.reason)),b.isCancelled=!0,delete this.streamSinks[l];break;default:throw new Error("Unexpected stream case")}}async#n(d,l){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[l]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}n.MessageHandler=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var o=s(1);class c{#e;#t;constructor({parsedData:f,rawData:_}){this.#e=f,this.#t=_}getRaw(){return this.#t}get(f){return this.#e.get(f)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(f){return this.#e.has(f)}}n.Metadata=c}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var o=s(1),c=s(8);const m=Symbol("INTERNAL");class f{#e=!0;constructor(d,l){this.name=d,this.intent=l}get visible(){return this.#e}_setVisible(d,l){d!==m&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=l}}class _{#e=null;#t=new Map;#n=null;#r=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#r=d.order;for(const l of d.groups)this.#t.set(l.id,new f(l.name,l.intent));if(d.baseState==="OFF")for(const l of this.#t.values())l._setVisible(m,!1);for(const l of d.on)this.#t.get(l)._setVisible(m,!0);for(const l of d.off)this.#t.get(l)._setVisible(m,!1);this.#n=this.getHash()}}#a(d){const l=d.length;if(l<2)return!0;const h=d[0];for(let y=1;y<l;y++){const v=d[y];let p;if(Array.isArray(v))p=this.#a(v);else if(this.#t.has(v))p=this.#t.get(v).visible;else return(0,o.warn)(`Optional content group not found: ${v}`),!0;switch(h){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return h==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,o.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,o.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#a(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(this.#t.get(l).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(!this.#t.get(l).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(!this.#t.get(l).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(this.#t.get(l).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,o.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,l=!0){if(!this.#t.has(d)){(0,o.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(m,!!l),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;const d=new c.MurmurHash3_64;for(const[l,h]of this.#t)d.update(`${l}:${h.visible}`);return this.#e=d.hexdigest()}}n.OptionalContentConfig=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var o=s(1),c=s(6);class m{constructor({length:d,initialData:l,progressiveDone:h=!1,contentDispositionFilename:y=null,disableRange:v=!1,disableStream:p=!1},b){if((0,o.assert)(b,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h,this._contentDispositionFilename=y,l?.length>0){const C=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=b,this._isStreamingSupported=!p,this._isRangeSupported=!v,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((C,S)=>{this._onReceiveData({begin:C,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((C,S)=>{this._onProgress({loaded:C,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(C=>{this._onReceiveData({chunk:C})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:l}){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{const y=this._rangeReaders.some(function(v){return v._begin!==d?!1:(v._enqueue(h),!0)});(0,o.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const l=this._rangeReaders.indexOf(d);l>=0&&this._rangeReaders.splice(l,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new f(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,l){if(l<=this._progressiveDataLength)return null;const h=new _(this,d,l);return this._pdfDataRangeTransport.requestDataRange(d,l),this._rangeReaders.push(h),h}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const l of this._rangeReaders.slice(0))l.cancel(d);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=m;class f{constructor(d,l,h=!1,y=null){this._stream=d,this._done=h||!1,this._filename=(0,c.isPdfFile)(y)?y:null,this._queuedChunks=l||[],this._loaded=0;for(const v of this._queuedChunks)this._loaded+=v.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _{constructor(d,l,h){this._stream=d,this._begin=l,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var o=s(1),c=s(20);function m(h,y,v){return{method:"GET",headers:h,signal:v.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function f(h){const y=new Headers;for(const v in h){const p=h[v];p!==void 0&&y.append(v,p)}return y}function _(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:((0,o.warn)(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class x{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(y,v){if(v<=this._progressiveDataLength)return null;const p=new l(this,y,v);return this._rangeRequestReaders.push(p),p}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const v of this._rangeRequestReaders.slice(0))v.cancel(y)}}n.PDFFetchStream=x;class d{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const v=y.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=new o.PromiseCapability,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=f(this._stream.httpHeaders);const p=v.url;fetch(p,m(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,c.validateResponseStatus)(b.status))throw(0,c.createResponseStatusError)(b.status,p);this._reader=b.body.getReader(),this._headersCapability.resolve();const C=O=>b.headers.get(O),{allowRangeRequests:S,suggestedLength:D}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=D||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(C),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:y,done:v}=await this._reader.read();return v?{value:y,done:v}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:_(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}class l{constructor(y,v,p){this._stream=y,this._reader=null,this._loaded=0;const b=y.source;this._withCredentials=b.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!b.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${p-1}`);const C=b.url;fetch(C,m(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,c.validateResponseStatus)(S.status))throw(0,c.createResponseStatusError)(S.status,C);this._readCapability.resolve(),this._reader=S.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:y,done:v}=await this._reader.read();return v?{value:y,done:v}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded}),{value:_(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=x,n.extractFilenameFromHeader=_,n.validateRangeRequestCapabilities=f,n.validateResponseStatus=d;var o=s(1),c=s(21),m=s(6);function f({getResponseHeader:l,isHttp:h,rangeChunkSize:y,disableRange:v}){const p={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(l("Content-Length"),10);return!Number.isInteger(b)||(p.suggestedLength=b,b<=2*y)||v||!h||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function _(l){const h=l("Content-Disposition");if(h){let y=(0,c.getFilenameFromContentDispositionHeader)(h);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,m.isPdfFile)(y))return y}return null}function x(l,h){return l===404||l===0&&h.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+h+'".'):new o.UnexpectedResponseException(`Unexpected server response (${l}) while retrieving PDF "${h}".`,l)}function d(l){return l===200||l===206}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=c;var o=s(1);function c(m){let f=!0,_=x("filename\\*","i").exec(m);if(_){_=_[1];let b=y(_);return b=unescape(b),b=v(b),b=p(b),l(b)}if(_=h(m),_){const b=p(_);return l(b)}if(_=x("filename","i").exec(m),_){_=_[1];let b=y(_);return b=p(b),l(b)}function x(b,C){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function d(b,C){if(b){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const S=new TextDecoder(b,{fatal:!0}),D=(0,o.stringToBytes)(C);C=S.decode(D),f=!1}catch{}}return C}function l(b){return f&&/[\x80-\xff]/.test(b)&&(b=d("utf-8",b),f&&(b=d("iso-8859-1",b))),b}function h(b){const C=[];let S;const D=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(S=D.exec(b))!==null;){let[,I,R,F]=S;if(I=parseInt(I,10),I in C){if(I===0)break;continue}C[I]=[R,F]}const O=[];for(let I=0;I<C.length&&I in C;++I){let[R,F]=C[I];F=y(F),R&&(F=unescape(F),I===0&&(F=v(F))),O.push(F)}return O.join("")}function y(b){if(b.startsWith('"')){const C=b.slice(1).split('\\"');for(let S=0;S<C.length;++S){const D=C[S].indexOf('"');D!==-1&&(C[S]=C[S].slice(0,D),C.length=S+1),C[S]=C[S].replaceAll(/\\(.)/g,"$1")}b=C.join('"')}return b}function v(b){const C=b.indexOf("'");if(C===-1)return b;const S=b.slice(0,C),O=b.slice(C+1).replace(/^[^']*'/,"");return d(S,O)}function p(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,S,D,O){if(D==="q"||D==="Q")return O=O.replaceAll("_"," "),O=O.replaceAll(/=([0-9a-fA-F]{2})/g,function(I,R){return String.fromCharCode(parseInt(R,16))}),d(S,O);try{O=atob(O)}catch{}return d(S,O)})}return""}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var o=s(1),c=s(20);const m=200,f=206;function _(y){const v=y.response;return typeof v!="string"?v:(0,o.stringToBytes)(v).buffer}class x{constructor(v,p={}){this.url=v,this.isHttp=/^https?:/i.test(v),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(v,p,b){const C={begin:v,end:p};for(const S in b)C[S]=b[S];return this.request(C)}requestFull(v){return this.request(v)}request(v){const p=new XMLHttpRequest,b=this.currXhrId++,C=this.pendingRequests[b]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(const S in this.httpHeaders){const D=this.httpHeaders[S];D!==void 0&&p.setRequestHeader(S,D)}return this.isHttp&&"begin"in v&&"end"in v?(p.setRequestHeader("Range",`bytes=${v.begin}-${v.end-1}`),C.expectedStatus=f):C.expectedStatus=m,p.responseType="arraybuffer",v.onError&&(p.onerror=function(S){v.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,b),p.onprogress=this.onProgress.bind(this,b),C.onHeadersReceived=v.onHeadersReceived,C.onDone=v.onDone,C.onError=v.onError,C.onProgress=v.onProgress,p.send(null),b}onProgress(v,p){const b=this.pendingRequests[v];b&&b.onProgress?.(p)}onStateChange(v,p){const b=this.pendingRequests[v];if(!b)return;const C=b.xhr;if(C.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),C.readyState!==4||!(v in this.pendingRequests))return;if(delete this.pendingRequests[v],C.status===0&&this.isHttp){b.onError?.(C.status);return}const S=C.status||m;if(!(S===m&&b.expectedStatus===f)&&S!==b.expectedStatus){b.onError?.(C.status);return}const O=_(C);if(S===f){const I=C.getResponseHeader("Content-Range"),R=/bytes (\d+)-(\d+)\/(\d+)/.exec(I);b.onDone({begin:parseInt(R[1],10),chunk:O})}else O?b.onDone({begin:0,chunk:O}):b.onError?.(C.status)}getRequestXhr(v){return this.pendingRequests[v].xhr}isPendingRequest(v){return v in this.pendingRequests}abortRequest(v){const p=this.pendingRequests[v].xhr;delete this.pendingRequests[v],p.abort()}}class d{constructor(v){this._source=v,this._manager=new x(v.url,{httpHeaders:v.httpHeaders,withCredentials:v.withCredentials}),this._rangeChunkSize=v.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(v){const p=this._rangeRequestReaders.indexOf(v);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}getRangeReader(v,p){const b=new h(this._manager,v,p);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(const p of this._rangeRequestReaders.slice(0))p.cancel(v)}}n.PDFNetworkStream=d;class l{constructor(v,p){this._manager=v;const b={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=v.requestFull(b),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const v=this._fullRequestId,p=this._manager.getRequestXhr(v),b=D=>p.getResponseHeader(D),{allowRangeRequests:C,suggestedLength:S}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});C&&(this._isRangeSupported=!0),this._contentLength=S||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(v),this._headersReceivedCapability.resolve()}_onDone(v){if(v&&(this._requests.length>0?this._requests.shift().resolve({value:v.chunk,done:!1}):this._cachedChunks.push(v.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(v){this._storedError=(0,c.createResponseStatusError)(v,this._url),this._headersReceivedCapability.reject(this._storedError);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(v){this.onProgress?.({loaded:v.loaded,total:v.lengthComputable?v.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0,this._headersReceivedCapability.reject(v);for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h{constructor(v,p,b){this._manager=v;const C={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._requestId=v.requestRange(p,b,C),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(v){const p=v.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(v){this._storedError=(0,c.createResponseStatusError)(v,this._url);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(v){this.isStreamingSupported||this.onProgress?.({loaded:v.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var o=s(1),c=s(20);const m=/^file:\/\/\/[a-zA-Z]:\//;function f(b){const C=require$$5,S=C.parse(b);return S.protocol==="file:"||S.host?S:/^[a-z]:[/\\]/i.test(b)?C.parse(`file:///${b}`):(S.host||(S.protocol="file:"),S)}class _{constructor(C){this.source=C,this.url=f(C.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new h(this),this._fullRequestReader}getRangeReader(C,S){if(S<=this._progressiveDataLength)return null;const D=this.isFsUrl?new p(this,C,S):new y(this,C,S);return this._rangeRequestReaders.push(D),D}cancelAllRequests(C){this._fullRequestReader?.cancel(C);for(const S of this._rangeRequestReaders.slice(0))S.cancel(C)}}n.PDFNodeStream=_;class x{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const S=C.source;this._contentLength=S.length,this._loaded=0,this._filename=null,this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=C.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",S=>{this._error(S)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const S=C.source;this._isStreamingSupported=!S.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const C=this._readableStream.read();return C===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=C.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){if(!this._readableStream){this._error(C);return}this._readableStream.destroy(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",S=>{this._error(S)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(b,C){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:C}}class h extends x{constructor(C){super(C);const S=D=>{if(D.statusCode===404){const F=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F,this._headersCapability.reject(F);return}this._headersCapability.resolve(),this._setReadableStream(D);const O=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:I,suggestedLength:R}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=R||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(O)};if(this._request=null,this._url.protocol==="http:"){const D=require$$5;this._request=D.request(l(this._url,C.httpHeaders),S)}else{const D=require$$5;this._request=D.request(l(this._url,C.httpHeaders),S)}this._request.on("error",D=>{this._storedError=D,this._headersCapability.reject(D)}),this._request.end()}}class y extends d{constructor(C,S,D){super(C),this._httpHeaders={};for(const I in C.httpHeaders){const R=C.httpHeaders[I];R!==void 0&&(this._httpHeaders[I]=R)}this._httpHeaders.Range=`bytes=${S}-${D-1}`;const O=I=>{if(I.statusCode===404){const R=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R;return}this._setReadableStream(I)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(l(this._url,this._httpHeaders),O)}else{const I=require$$5;this._request=I.request(l(this._url,this._httpHeaders),O)}this._request.on("error",I=>{this._storedError=I}),this._request.end()}}class v extends x{constructor(C){super(C);let S=decodeURIComponent(this._url.path);m.test(this._url.href)&&(S=S.replace(/^\//,""));const D=require$$5;D.lstat(S,(O,I)=>{if(O){O.code==="ENOENT"&&(O=new o.MissingPDFException(`Missing PDF "${S}".`)),this._storedError=O,this._headersCapability.reject(O);return}this._contentLength=I.size,this._setReadableStream(D.createReadStream(S)),this._headersCapability.resolve()})}}class p extends d{constructor(C,S,D){super(C);let O=decodeURIComponent(this._url.path);m.test(this._url.href)&&(O=O.replace(/^\//,""));const I=require$$5;this._setReadableStream(I.createReadStream(O,{start:S,end:D-1}))}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var o=s(6),c=s(1);const m={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},f="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",x=["butt","round","square"],d=["miter","round","bevel"],l=function(I,R="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([I],{type:R}));const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let $=`data:${R};base64,`;for(let q=0,ee=I.length;q<ee;q+=3){const J=I[q]&255,me=I[q+1]&255,he=I[q+2]&255,fe=J>>2,ve=(J&3)<<4|me>>4,ce=q+1<ee?(me&15)<<2|he>>6:64,z=q+2<ee?he&63:64;$+=G[fe]+G[ve]+G[ce]+G[z]}return $},h=(function(){const I=new Uint8Array([137,80,78,71,13,10,26,10]),R=12,F=new Int32Array(256);for(let he=0;he<256;he++){let fe=he;for(let ve=0;ve<8;ve++)fe=fe&1?3988292384^fe>>1&2147483647:fe>>1&2147483647;F[he]=fe}function G(he,fe,ve){let ce=-1;for(let z=fe;z<ve;z++){const k=(ce^he[z])&255,P=F[k];ce=ce>>>8^P}return ce^-1}function $(he,fe,ve,ce){let z=ce;const k=fe.length;ve[z]=k>>24&255,ve[z+1]=k>>16&255,ve[z+2]=k>>8&255,ve[z+3]=k&255,z+=4,ve[z]=he.charCodeAt(0)&255,ve[z+1]=he.charCodeAt(1)&255,ve[z+2]=he.charCodeAt(2)&255,ve[z+3]=he.charCodeAt(3)&255,z+=4,ve.set(fe,z),z+=fe.length;const P=G(ve,ce+4,z);ve[z]=P>>24&255,ve[z+1]=P>>16&255,ve[z+2]=P>>8&255,ve[z+3]=P&255}function q(he,fe,ve){let ce=1,z=0;for(let k=fe;k<ve;++k)ce=(ce+(he[k]&255))%65521,z=(z+ce)%65521;return z<<16|ce}function ee(he){if(!c.isNodeJS)return J(he);try{const fe=parseInt(process.versions.node)>=8?he:Buffer.from(he),ve=require$$5.deflateSync(fe,{level:9});return ve instanceof Uint8Array?ve:new Uint8Array(ve)}catch(fe){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+fe)}return J(he)}function J(he){let fe=he.length;const ve=65535,ce=Math.ceil(fe/ve),z=new Uint8Array(2+fe+ce*5+4);let k=0;z[k++]=120,z[k++]=156;let P=0;for(;fe>ve;)z[k++]=0,z[k++]=255,z[k++]=255,z[k++]=0,z[k++]=0,z.set(he.subarray(P,P+ve),k),k+=ve,P+=ve,fe-=ve;z[k++]=1,z[k++]=fe&255,z[k++]=fe>>8&255,z[k++]=~fe&65535&255,z[k++]=(~fe&65535)>>8&255,z.set(he.subarray(P),k),k+=he.length-P;const T=q(he,0,he.length);return z[k++]=T>>24&255,z[k++]=T>>16&255,z[k++]=T>>8&255,z[k++]=T&255,z}function me(he,fe,ve,ce){const z=he.width,k=he.height;let P,T,w;const j=he.data;switch(fe){case c.ImageKind.GRAYSCALE_1BPP:T=0,P=1,w=z+7>>3;break;case c.ImageKind.RGB_24BPP:T=2,P=8,w=z*3;break;case c.ImageKind.RGBA_32BPP:T=6,P=8,w=z*4;break;default:throw new Error("invalid format")}const U=new Uint8Array((1+w)*k);let H=0,V=0;for(let K=0;K<k;++K)U[H++]=0,U.set(j.subarray(V,V+w),H),V+=w,H+=w;if(fe===c.ImageKind.GRAYSCALE_1BPP&&ce){H=0;for(let K=0;K<k;K++){H++;for(let Q=0;Q<w;Q++)U[H++]^=255}}const E=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,z&255,k>>24&255,k>>16&255,k>>8&255,k&255,P,T,0,0,0]),M=ee(U),L=I.length+R*3+E.length+M.length,B=new Uint8Array(L);let W=0;return B.set(I,W),W+=I.length,$("IHDR",E,B,W),W+=R+E.length,$("IDATA",M,B,W),W+=R+M.length,$("IEND",new Uint8Array(0),B,W),l(B,"image/png",ve)}return function(fe,ve,ce){const z=fe.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:fe.kind;return me(fe,z,ve,ce)}})();class y{constructor(){this.fontSizeScale=1,this.fontWeight=m.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=m.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(R,F){this.x=R,this.y=F}}function v(I){let R=[];const F=[];for(const G of I){if(G.fn==="save"){R.push({fnId:92,fn:"group",items:[]}),F.push(R),R=R.at(-1).items;continue}G.fn==="restore"?R=F.pop():R.push(G)}return R}function p(I){if(Number.isInteger(I))return I.toString();const R=I.toFixed(10);let F=R.length-1;if(R[F]!=="0")return R;do F--;while(R[F]==="0");return R.substring(0,R[F]==="."?F:F+1)}function b(I){if(I[4]===0&&I[5]===0){if(I[1]===0&&I[2]===0)return I[0]===1&&I[3]===1?"":`scale(${p(I[0])} ${p(I[3])})`;if(I[0]===I[3]&&I[1]===-I[2]){const R=Math.acos(I[0])*180/Math.PI;return`rotate(${p(R)})`}}else if(I[0]===1&&I[1]===0&&I[2]===0&&I[3]===1)return`translate(${p(I[4])} ${p(I[5])})`;return`matrix(${p(I[0])} ${p(I[1])} ${p(I[2])} ${p(I[3])} ${p(I[4])} ${p(I[5])})`}let C=0,S=0,D=0;class O{constructor(R,F,G=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new y,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=R,this.objs=F,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!G,this._operatorIdMapping=[];for(const $ in c.OPS)this._operatorIdMapping[c.OPS[$]]=$}getObject(R,F=null){return typeof R=="string"?R.startsWith("g_")?this.commonObjs.get(R):this.objs.get(R):F}save(){this.transformStack.push(this.transformMatrix);const R=this.current;this.extraStack.push(R),this.current=R.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(R){this.save(),this.executeOpTree(R),this.restore()}loadDependencies(R){const F=R.fnArray,G=R.argsArray;for(let $=0,q=F.length;$<q;$++)if(F[$]===c.OPS.dependency)for(const ee of G[$]){const J=ee.startsWith("g_")?this.commonObjs:this.objs,me=new Promise(he=>{J.get(ee,he)});this.current.dependencies.push(me)}return Promise.all(this.current.dependencies)}transform(R,F,G,$,q,ee){const J=[R,F,G,$,q,ee];this.transformMatrix=c.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(R,F){this.viewport=F;const G=this._initialize(F);return this.loadDependencies(R).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(R)),G))}convertOpList(R){const F=this._operatorIdMapping,G=R.argsArray,$=R.fnArray,q=[];for(let ee=0,J=$.length;ee<J;ee++){const me=$[ee];q.push({fnId:me,fn:F[me],args:G[ee]})}return v(q)}executeOpTree(R){for(const F of R){const G=F.fn,$=F.fnId,q=F.args;switch($|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(q);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(q[0],q[1]);break;case c.OPS.setFont:this.setFont(q);break;case c.OPS.showText:this.showText(q[0]);break;case c.OPS.showSpacedText:this.showText(q[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(q[0],q[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(q[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(q[0]);break;case c.OPS.setHScale:this.setHScale(q[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(q[0],q[1],q[2],q[3],q[4],q[5]);break;case c.OPS.setTextRise:this.setTextRise(q[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(q[0]);break;case c.OPS.setLineWidth:this.setLineWidth(q[0]);break;case c.OPS.setLineJoin:this.setLineJoin(q[0]);break;case c.OPS.setLineCap:this.setLineCap(q[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(q[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(q[0],q[1],q[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(q[0],q[1],q[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(q);break;case c.OPS.setFillColorN:this.setFillColorN(q);break;case c.OPS.shadingFill:this.shadingFill(q[0]);break;case c.OPS.setDash:this.setDash(q[0],q[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(q[0]);break;case c.OPS.setFlatness:this.setFlatness(q[0]);break;case c.OPS.setGState:this.setGState(q[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(q[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(q[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(q[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(q[0],q[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(q[0],q[1],q[2],q[3],q[4],q[5]);break;case c.OPS.constructPath:this.constructPath(q[0],q[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(F.items);break;default:(0,c.warn)(`Unimplemented operator ${G}`);break}}}setWordSpacing(R){this.current.wordSpacing=R}setCharSpacing(R){this.current.charSpacing=R}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(R,F,G,$,q,ee){const J=this.current;J.textMatrix=J.lineMatrix=[R,F,G,$,q,ee],J.textMatrixScale=Math.hypot(R,F),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${p(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",p(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const R=this.current;R.x=R.lineX=0,R.y=R.lineY=0,R.textMatrix=c.IDENTITY_MATRIX,R.lineMatrix=c.IDENTITY_MATRIX,R.textMatrixScale=1,R.tspan=this.svgFactory.createElement("svg:tspan"),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtgrp=this.svgFactory.createElement("svg:g"),R.xcoords=[],R.ycoords=[]}moveText(R,F){const G=this.current;G.x=G.lineX+=R,G.y=G.lineY+=F,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${p(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",p(-G.y))}showText(R){const F=this.current,G=F.font,$=F.fontSize;if($===0)return;const q=F.fontSizeScale,ee=F.charSpacing,J=F.wordSpacing,me=F.fontDirection,he=F.textHScale*me,fe=G.vertical,ve=fe?1:-1,ce=G.defaultVMetrics,z=$*F.fontMatrix[0];let k=0;for(const w of R){if(w===null){k+=me*J;continue}else if(typeof w=="number"){k+=ve*w*$/1e3;continue}const j=(w.isSpace?J:0)+ee,U=w.fontChar;let H,V,E=w.width;if(fe){let L;const B=w.vmetric||ce;L=w.vmetric?B[1]:E*.5,L=-L*z;const W=B[2]*z;E=B?-B[0]:E,H=L/q,V=(k+W)/q}else H=k/q,V=0;(w.isInFont||G.missingFile)&&(F.xcoords.push(F.x+H),fe&&F.ycoords.push(-F.y+V),F.tspan.textContent+=U);const M=fe?E*z-j*me:E*z+j*me;k+=M}F.tspan.setAttributeNS(null,"x",F.xcoords.map(p).join(" ")),fe?F.tspan.setAttributeNS(null,"y",F.ycoords.map(p).join(" ")):F.tspan.setAttributeNS(null,"y",p(-F.y)),fe?F.y-=k:F.x+=k*he,F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${p(F.fontSize)}px`),F.fontStyle!==m.fontStyle&&F.tspan.setAttributeNS(null,"font-style",F.fontStyle),F.fontWeight!==m.fontWeight&&F.tspan.setAttributeNS(null,"font-weight",F.fontWeight);const P=F.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(P===c.TextRenderingMode.FILL||P===c.TextRenderingMode.FILL_STROKE?(F.fillColor!==m.fillColor&&F.tspan.setAttributeNS(null,"fill",F.fillColor),F.fillAlpha<1&&F.tspan.setAttributeNS(null,"fill-opacity",F.fillAlpha)):F.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?F.tspan.setAttributeNS(null,"fill","transparent"):F.tspan.setAttributeNS(null,"fill","none"),P===c.TextRenderingMode.STROKE||P===c.TextRenderingMode.FILL_STROKE){const w=1/(F.textMatrixScale||1);this._setStrokeAttributes(F.tspan,w)}let T=F.textMatrix;F.textRise!==0&&(T=T.slice(),T[5]+=F.textRise),F.txtElement.setAttributeNS(null,"transform",`${b(T)} scale(${p(he)}, -1)`),F.txtElement.setAttributeNS(f,"xml:space","preserve"),F.txtElement.append(F.tspan),F.txtgrp.append(F.txtElement),this._ensureTransformGroup().append(F.txtElement)}setLeadingMoveText(R,F){this.setLeading(-F),this.moveText(R,F)}addFontStyle(R){if(!R.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const F=l(R.data,R.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${R.loadedName}"; src: url(${F}); }
`}setFont(R){const F=this.current,G=this.commonObjs.get(R[0]);let $=R[1];F.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),F.fontMatrix=G.fontMatrix||c.FONT_IDENTITY_MATRIX;let q="normal";G.black?q="900":G.bold&&(q="bold");const ee=G.italic?"italic":"normal";$<0?($=-$,F.fontDirection=-1):F.fontDirection=1,F.fontSize=$,F.fontFamily=G.loadedName,F.fontWeight=q,F.fontStyle=ee,F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"y",p(-F.y)),F.xcoords=[],F.ycoords=[]}endText(){const R=this.current;R.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&R.txtElement?.hasChildNodes()&&(R.element=R.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(R){R>0&&(this.current.lineWidth=R)}setLineCap(R){this.current.lineCap=x[R]}setLineJoin(R){this.current.lineJoin=d[R]}setMiterLimit(R){this.current.miterLimit=R}setStrokeAlpha(R){this.current.strokeAlpha=R}setStrokeRGBColor(R,F,G){this.current.strokeColor=c.Util.makeHexColor(R,F,G)}setFillAlpha(R){this.current.fillAlpha=R}setFillRGBColor(R,F,G){this.current.fillColor=c.Util.makeHexColor(R,F,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(R){this.current.strokeColor=this._makeColorN_Pattern(R)}setFillColorN(R){this.current.fillColor=this._makeColorN_Pattern(R)}shadingFill(R){const{width:F,height:G}=this.viewport,$=c.Util.inverseTransform(this.transformMatrix),[q,ee,J,me]=c.Util.getAxialAlignedBoundingBox([0,0,F,G],$),he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x",q),he.setAttributeNS(null,"y",ee),he.setAttributeNS(null,"width",J-q),he.setAttributeNS(null,"height",me-ee),he.setAttributeNS(null,"fill",this._makeShadingPattern(R)),this.current.fillAlpha<1&&he.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(he)}_makeColorN_Pattern(R){return R[0]==="TilingPattern"?this._makeTilingPattern(R):this._makeShadingPattern(R)}_makeTilingPattern(R){const F=R[1],G=R[2],$=R[3]||c.IDENTITY_MATRIX,[q,ee,J,me]=R[4],he=R[5],fe=R[6],ve=R[7],ce=`shading${D++}`,[z,k,P,T]=c.Util.normalizeRect([...c.Util.applyTransform([q,ee],$),...c.Util.applyTransform([J,me],$)]),[w,j]=c.Util.singularValueDecompose2dScale($),U=he*w,H=fe*j,V=this.svgFactory.createElement("svg:pattern");V.setAttributeNS(null,"id",ce),V.setAttributeNS(null,"patternUnits","userSpaceOnUse"),V.setAttributeNS(null,"width",U),V.setAttributeNS(null,"height",H),V.setAttributeNS(null,"x",`${z}`),V.setAttributeNS(null,"y",`${k}`);const E=this.svg,M=this.transformMatrix,L=this.current.fillColor,B=this.current.strokeColor,W=this.svgFactory.create(P-z,T-k);if(this.svg=W,this.transformMatrix=$,ve===2){const K=c.Util.makeHexColor(...F);this.current.fillColor=K,this.current.strokeColor=K}return this.executeOpTree(this.convertOpList(G)),this.svg=E,this.transformMatrix=M,this.current.fillColor=L,this.current.strokeColor=B,V.append(W.childNodes[0]),this.defs.append(V),`url(#${ce})`}_makeShadingPattern(R){switch(typeof R=="string"&&(R=this.objs.get(R)),R[0]){case"RadialAxial":const F=`shading${D++}`,G=R[3];let $;switch(R[1]){case"axial":const q=R[4],ee=R[5];$=this.svgFactory.createElement("svg:linearGradient"),$.setAttributeNS(null,"id",F),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"x1",q[0]),$.setAttributeNS(null,"y1",q[1]),$.setAttributeNS(null,"x2",ee[0]),$.setAttributeNS(null,"y2",ee[1]);break;case"radial":const J=R[4],me=R[5],he=R[6],fe=R[7];$=this.svgFactory.createElement("svg:radialGradient"),$.setAttributeNS(null,"id",F),$.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),$.setAttributeNS(null,"cx",me[0]),$.setAttributeNS(null,"cy",me[1]),$.setAttributeNS(null,"r",fe),$.setAttributeNS(null,"fx",J[0]),$.setAttributeNS(null,"fy",J[1]),$.setAttributeNS(null,"fr",he);break;default:throw new Error(`Unknown RadialAxial type: ${R[1]}`)}for(const q of G){const ee=this.svgFactory.createElement("svg:stop");ee.setAttributeNS(null,"offset",q[0]),ee.setAttributeNS(null,"stop-color",q[1]),$.append(ee)}return this.defs.append($),`url(#${F})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${R[0]}`)}}setDash(R,F){this.current.dashArray=R,this.current.dashPhase=F}constructPath(R,F){const G=this.current;let $=G.x,q=G.y,ee=[],J=0;for(const me of R)switch(me|0){case c.OPS.rectangle:$=F[J++],q=F[J++];const he=F[J++],fe=F[J++],ve=$+he,ce=q+fe;ee.push("M",p($),p(q),"L",p(ve),p(q),"L",p(ve),p(ce),"L",p($),p(ce),"Z");break;case c.OPS.moveTo:$=F[J++],q=F[J++],ee.push("M",p($),p(q));break;case c.OPS.lineTo:$=F[J++],q=F[J++],ee.push("L",p($),p(q));break;case c.OPS.curveTo:$=F[J+4],q=F[J+5],ee.push("C",p(F[J]),p(F[J+1]),p(F[J+2]),p(F[J+3]),p($),p(q)),J+=6;break;case c.OPS.curveTo2:ee.push("C",p($),p(q),p(F[J]),p(F[J+1]),p(F[J+2]),p(F[J+3])),$=F[J+2],q=F[J+3],J+=4;break;case c.OPS.curveTo3:$=F[J+2],q=F[J+3],ee.push("C",p(F[J]),p(F[J+1]),p($),p(q),p($),p(q)),J+=4;break;case c.OPS.closePath:ee.push("Z");break}ee=ee.join(" "),G.path&&R.length>0&&R[0]!==c.OPS.rectangle&&R[0]!==c.OPS.moveTo?ee=G.path.getAttributeNS(null,"d")+ee:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(G.path)),G.path.setAttributeNS(null,"d",ee),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint($,q)}endPath(){const R=this.current;if(R.path=null,!this.pendingClip)return;if(!R.element){this.pendingClip=null;return}const F=`clippath${C++}`,G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",F),G.setAttributeNS(null,"transform",b(this.transformMatrix));const $=R.element.cloneNode(!0);if(this.pendingClip==="evenodd"?$.setAttributeNS(null,"clip-rule","evenodd"):$.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,G.append($),this.defs.append(G),R.activeClipUrl){R.clipGroup=null;for(const q of this.extraStack)q.clipGroup=null;G.setAttributeNS(null,"clip-path",R.activeClipUrl)}R.activeClipUrl=`url(#${F})`,this.tgrp=null}clip(R){this.pendingClip=R}closePath(){const R=this.current;if(R.path){const F=`${R.path.getAttributeNS(null,"d")}Z`;R.path.setAttributeNS(null,"d",F)}}setLeading(R){this.current.leading=-R}setTextRise(R){this.current.textRise=R}setTextRenderingMode(R){this.current.textRenderingMode=R}setHScale(R){this.current.textHScale=R/100}setRenderingIntent(R){}setFlatness(R){}setGState(R){for(const[F,G]of R)switch(F){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G);break;case"CA":this.setStrokeAlpha(G);break;case"ca":this.setFillAlpha(G);break;default:(0,c.warn)(`Unimplemented graphic state operator ${F}`);break}}fill(){const R=this.current;R.element&&(R.element.setAttributeNS(null,"fill",R.fillColor),R.element.setAttributeNS(null,"fill-opacity",R.fillAlpha),this.endPath())}stroke(){const R=this.current;R.element&&(this._setStrokeAttributes(R.element),R.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(R,F=1){const G=this.current;let $=G.dashArray;F!==1&&$.length>0&&($=$.map(function(q){return F*q})),R.setAttributeNS(null,"stroke",G.strokeColor),R.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),R.setAttributeNS(null,"stroke-miterlimit",p(G.miterLimit)),R.setAttributeNS(null,"stroke-linecap",G.lineCap),R.setAttributeNS(null,"stroke-linejoin",G.lineJoin),R.setAttributeNS(null,"stroke-width",p(F*G.lineWidth)+"px"),R.setAttributeNS(null,"stroke-dasharray",$.map(p).join(" ")),R.setAttributeNS(null,"stroke-dashoffset",p(F*G.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width","1px"),R.setAttributeNS(null,"height","1px"),R.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(R)}paintImageXObject(R){const F=this.getObject(R);if(!F){(0,c.warn)(`Dependent image with object ID ${R} is not ready yet`);return}this.paintInlineImageXObject(F)}paintInlineImageXObject(R,F){const G=R.width,$=R.height,q=h(R,this.forceDataSchema,!!F),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width",p(G)),ee.setAttributeNS(null,"height",p($)),this.current.element=ee,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(_,"xlink:href",q),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",p(-$)),J.setAttributeNS(null,"width",p(G)+"px"),J.setAttributeNS(null,"height",p($)+"px"),J.setAttributeNS(null,"transform",`scale(${p(1/G)} ${p(-1/$)})`),F?F.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(R){const F=this.getObject(R.data,R);if(F.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const G=this.current,$=F.width,q=F.height,ee=G.fillColor;G.maskId=`mask${S++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",G.maskId);const me=this.svgFactory.createElement("svg:rect");me.setAttributeNS(null,"x","0"),me.setAttributeNS(null,"y","0"),me.setAttributeNS(null,"width",p($)),me.setAttributeNS(null,"height",p(q)),me.setAttributeNS(null,"fill",ee),me.setAttributeNS(null,"mask",`url(#${G.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(me),this.paintInlineImageXObject(F,J)}paintFormXObjectBegin(R,F){if(Array.isArray(R)&&R.length===6&&this.transform(R[0],R[1],R[2],R[3],R[4],R[5]),F){const G=F[2]-F[0],$=F[3]-F[1],q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",F[0]),q.setAttributeNS(null,"y",F[1]),q.setAttributeNS(null,"width",p(G)),q.setAttributeNS(null,"height",p($)),this.current.element=q,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(R){const F=this.svgFactory.create(R.width,R.height),G=this.svgFactory.createElement("svg:defs");F.append(G),this.defs=G;const $=this.svgFactory.createElement("svg:g");return $.setAttributeNS(null,"transform",b(R.transform)),F.append($),this.svg=$,F}_ensureClipGroup(){if(!this.current.clipGroup){const R=this.svgFactory.createElement("svg:g");R.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(R),this.current.clipGroup=R}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}n.SVGGraphics=O}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class s{static textContent(c){const m=[],f={items:m,styles:Object.create(null)};function _(x){if(!x)return;let d=null;const l=x.name;if(l==="#text")d=x.value;else if(s.shouldBuildText(l))x?.attributes?.textContent?d=x.attributes.textContent:x.value&&(d=x.value);else return;if(d!==null&&m.push({str:d}),!!x.children)for(const h of x.children)_(h)}return _(c),f}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}n.XfaText=s}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=b,n.updateTextLayer=C;var o=s(1),c=s(6);const m=1e5,f=30,_=.8,x=new Map;function d(S,D){let O;if(D&&o.FeatureTest.isOffscreenCanvasSupported)O=new OffscreenCanvas(S,S).getContext("2d",{alpha:!1});else{const I=document.createElement("canvas");I.width=I.height=S,O=I.getContext("2d",{alpha:!1})}return O}function l(S,D){const O=x.get(S);if(O)return O;const I=d(f,D);I.font=`${f}px ${S}`;const R=I.measureText("");let F=R.fontBoundingBoxAscent,G=Math.abs(R.fontBoundingBoxDescent);if(F){const q=F/(F+G);return x.set(S,q),I.canvas.width=I.canvas.height=0,q}I.strokeStyle="red",I.clearRect(0,0,f,f),I.strokeText("g",0,0);let $=I.getImageData(0,0,f,f).data;G=0;for(let q=$.length-1-3;q>=0;q-=4)if($[q]>0){G=Math.ceil(q/4/f);break}I.clearRect(0,0,f,f),I.strokeText("A",0,f),$=I.getImageData(0,0,f,f).data,F=0;for(let q=0,ee=$.length;q<ee;q+=4)if($[q]>0){F=f-Math.floor(q/4/f);break}if(I.canvas.width=I.canvas.height=0,F){const q=F/(F+G);return x.set(S,q),q}return x.set(S,_),_}function h(S,D,O){const I=document.createElement("span"),R={angle:0,canvasWidth:0,hasText:D.str!=="",hasEOL:D.hasEOL,fontSize:0};S._textDivs.push(I);const F=o.Util.transform(S._transform,D.transform);let G=Math.atan2(F[1],F[0]);const $=O[D.fontName];$.vertical&&(G+=Math.PI/2);const q=Math.hypot(F[2],F[3]),ee=q*l($.fontFamily,S._isOffscreenCanvasSupported);let J,me;G===0?(J=F[4],me=F[5]-ee):(J=F[4]+ee*Math.sin(G),me=F[5]-ee*Math.cos(G));const he="calc(var(--scale-factor)*",fe=I.style;S._container===S._rootContainer?(fe.left=`${(100*J/S._pageWidth).toFixed(2)}%`,fe.top=`${(100*me/S._pageHeight).toFixed(2)}%`):(fe.left=`${he}${J.toFixed(2)}px)`,fe.top=`${he}${me.toFixed(2)}px)`),fe.fontSize=`${he}${q.toFixed(2)}px)`,fe.fontFamily=$.fontFamily,R.fontSize=q,I.setAttribute("role","presentation"),I.textContent=D.str,I.dir=D.dir,S._fontInspectorEnabled&&(I.dataset.fontName=D.fontName),G!==0&&(R.angle=G*(180/Math.PI));let ve=!1;if(D.str.length>1)ve=!0;else if(D.str!==" "&&D.transform[0]!==D.transform[3]){const ce=Math.abs(D.transform[0]),z=Math.abs(D.transform[3]);ce!==z&&Math.max(ce,z)/Math.min(ce,z)>1.5&&(ve=!0)}ve&&(R.canvasWidth=$.vertical?D.height:D.width),S._textDivProperties.set(I,R),S._isReadableStream&&S._layoutText(I)}function y(S){const{div:D,scale:O,properties:I,ctx:R,prevFontSize:F,prevFontFamily:G}=S,{style:$}=D;let q="";if(I.canvasWidth!==0&&I.hasText){const{fontFamily:ee}=$,{canvasWidth:J,fontSize:me}=I;(F!==me||G!==ee)&&(R.font=`${me*O}px ${ee}`,S.prevFontSize=me,S.prevFontFamily=ee);const{width:he}=R.measureText(D.textContent);he>0&&(q=`scaleX(${J*O/he})`)}I.angle!==0&&(q=`rotate(${I.angle}deg) ${q}`),q.length>0&&($.transform=q)}function v(S){if(S._canceled)return;const D=S._textDivs,O=S._capability;if(D.length>m){O.resolve();return}if(!S._isReadableStream)for(const R of D)S._layoutText(R);O.resolve()}class p{constructor({textContentSource:D,container:O,viewport:I,textDivs:R,textDivProperties:F,textContentItemsStr:G,isOffscreenCanvasSupported:$}){this._textContentSource=D,this._isReadableStream=D instanceof ReadableStream,this._container=this._rootContainer=O,this._textDivs=R||[],this._textContentItemsStr=G||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=F||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,$)};const{pageWidth:q,pageHeight:ee,pageX:J,pageY:me}=I.rawDims;this._transform=[1,0,0,-1,-J,me+ee],this._pageWidth=q,this._pageHeight=ee,(0,c.setLayerDimensions)(O,I),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(D,O){for(const I of D){if(I.str===void 0){if(I.type==="beginMarkedContentProps"||I.type==="beginMarkedContent"){const R=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),I.id!==null&&this._container.setAttribute("id",`${I.id}`),R.append(this._container)}else I.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(I.str),h(this,I,O)}}_layoutText(D){const O=this._layoutTextParams.properties=this._textDivProperties.get(D);if(this._layoutTextParams.div=D,y(this._layoutTextParams),O.hasText&&this._container.append(D),O.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(){const D=new o.PromiseCapability;let O=Object.create(null);if(this._isReadableStream){const I=()=>{this._reader.read().then(({value:R,done:F})=>{if(F){D.resolve();return}Object.assign(O,R.styles),this._processItems(R.items,O),I()},D.reject)};this._reader=this._textContentSource.getReader(),I()}else if(this._textContentSource){const{items:I,styles:R}=this._textContentSource;this._processItems(I,R),D.resolve()}else throw new Error('No "textContentSource" parameter specified.');D.promise.then(()=>{O=null,v(this)},this._capability.reject)}}n.TextLayerRenderTask=p;function b(S){!S.textContentSource&&(S.textContent||S.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),S.textContentSource=S.textContent||S.textContentStream);const{container:D,viewport:O}=S,I=getComputedStyle(D),R=I.getPropertyValue("visibility"),F=parseFloat(I.getPropertyValue("--scale-factor"));R==="visible"&&(!F||Math.abs(F-O.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const G=new p(S);return G._render(),G}function C({container:S,viewport:D,textDivs:O,textDivProperties:I,isOffscreenCanvasSupported:R,mustRotate:F=!0,mustRescale:G=!0}){if(F&&(0,c.setLayerDimensions)(S,{rotation:D.rotation}),G){const $=d(0,R),ee={prevFontSize:null,prevFontFamily:null,div:null,scale:D.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const J of O)ee.properties=I.get(J),ee.div=J,y(ee)}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var o=s(1),c=s(4),m=s(28),f=s(33),_=s(6),x=s(34);class d{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#o=new Map;#s=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:h,pageIndex:y,div:v,accessibilityManager:p,annotationLayer:b,viewport:C,l10n:S}){const D=[m.FreeTextEditor,f.InkEditor,x.StampEditor];if(!d._initialized){d._initialized=!0;for(const O of D)O.initialize(S)}h.registerEditorTypes(D),this.#i=h,this.pageIndex=y,this.div=v,this.#e=p,this.#n=b,this.viewport=C,this.#i.addLayer(this)}get isEmpty(){return this.#o.size===0}updateToolbar(h){this.#i.updateToolbar(h)}updateMode(h=this.#i.getMode()){this.#p(),h===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),h!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",h===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",h===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",h===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(h){if(!h&&this.#i.getMode()!==o.AnnotationEditorType.INK)return;if(!h){for(const v of this.#o.values())if(v.isEmpty()){v.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(h){this.#i.setEditingState(h)}addCommands(h){this.#i.addCommands(h)}enable(){this.div.style.pointerEvents="auto";const h=new Set;for(const v of this.#o.values())v.enableEditing(),v.annotationElementId&&h.add(v.annotationElementId);if(!this.#n)return;const y=this.#n.getEditableAnnotations();for(const v of y){if(v.hide(),this.#i.isDeletedAnnotationElement(v.data.id)||h.has(v.data.id))continue;const p=this.deserialize(v);p&&(this.addOrRebuild(p),p.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const h=new Set;for(const y of this.#o.values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){h.add(y.annotationElementId);continue}this.getEditableAnnotation(y.annotationElementId)?.show(),y.remove()}if(this.#n){const y=this.#n.getEditableAnnotations();for(const v of y){const{id:p}=v.data;h.has(p)||this.#i.isDeletedAnnotationElement(p)||v.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(h){return this.#n?.getEditableAnnotation(h)||null}setActiveEditor(h){this.#i.getActive()!==h&&this.#i.setActiveEditor(h)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#r)}attach(h){this.#o.set(h.id,h);const{annotationElementId:y}=h;y&&this.#i.isDeletedAnnotationElement(y)&&this.#i.removeDeletedAnnotationElement(h)}detach(h){this.#o.delete(h.id),this.#e?.removePointerInTextLayer(h.contentDiv),!this.#c&&h.annotationElementId&&this.#i.addDeletedAnnotationElement(h)}remove(h){this.detach(h),this.#i.removeEditor(h),h.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),h.div.remove(),h.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(h){h.parent!==this&&(h.annotationElementId&&(this.#i.addDeletedAnnotationElement(h.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(h),h.annotationElementId=null),this.attach(h),h.parent?.detach(h),h.setParent(this),h.div&&h.isAttachedToDOM&&(h.div.remove(),this.div.append(h.div)))}add(h){if(this.changeParent(h),this.#i.addEditor(h),this.attach(h),!h.isAttachedToDOM){const y=h.render();this.div.append(y),h.isAttachedToDOM=!0}h.fixAndSetPosition(),h.onceAdded(),this.#i.addToAnnotationStorage(h)}moveEditorInDOM(h){if(!h.isAttachedToDOM)return;const{activeElement:y}=document;h.div.contains(y)&&(h._focusEventsAllowed=!1,setTimeout(()=>{h.div.contains(document.activeElement)?h._focusEventsAllowed=!0:(h.div.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),y.focus())},0)),h._structTreeParentId=this.#e?.moveElementInDOM(this.div,h.div,h.contentDiv,!0)}addOrRebuild(h){h.needsToBeRebuilt()?h.rebuild():this.add(h)}addUndoableEditor(h){const y=()=>h._uiManager.rebuild(h),v=()=>{h.remove()};this.addCommands({cmd:y,undo:v,mustExec:!1})}getNextId(){return this.#i.getId()}#f(h){switch(this.#i.getMode()){case o.AnnotationEditorType.FREETEXT:return new m.FreeTextEditor(h);case o.AnnotationEditorType.INK:return new f.InkEditor(h);case o.AnnotationEditorType.STAMP:return new x.StampEditor(h)}return null}pasteEditor(h,y){this.#i.updateToolbar(h),this.#i.updateMode(h);const{offsetX:v,offsetY:p}=this.#h(),b=this.getNextId(),C=this.#f({parent:this,id:b,x:v,y:p,uiManager:this.#i,isCentered:!0,...y});C&&this.add(C)}deserialize(h){switch(h.annotationType??h.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return m.FreeTextEditor.deserialize(h,this,this.#i);case o.AnnotationEditorType.INK:return f.InkEditor.deserialize(h,this,this.#i);case o.AnnotationEditorType.STAMP:return x.StampEditor.deserialize(h,this,this.#i)}return null}#d(h,y){const v=this.getNextId(),p=this.#f({parent:this,id:v,x:h.offsetX,y:h.offsetY,uiManager:this.#i,isCentered:y});return p&&this.add(p),p}#h(){const{x:h,y,width:v,height:p}=this.div.getBoundingClientRect(),b=Math.max(0,h),C=Math.max(0,y),S=Math.min(window.innerWidth,h+v),D=Math.min(window.innerHeight,y+p),O=(b+S)/2-h,I=(C+D)/2-y,[R,F]=this.viewport.rotation%180===0?[O,I]:[I,O];return{offsetX:R,offsetY:F}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(h){this.#i.setSelected(h)}toggleSelected(h){this.#i.toggleSelected(h)}isSelected(h){return this.#i.isSelected(h)}unselect(h){this.#i.unselect(h)}pointerup(h){const{isMac:y}=o.FeatureTest.platform;if(!(h.button!==0||h.ctrlKey&&y)&&h.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===o.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(h,!1)}}pointerdown(h){if(this.#s){this.#s=!1;return}const{isMac:y}=o.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&y||h.target!==this.div)return;this.#s=!0;const v=this.#i.getActive();this.#t=!v||v.isEmpty()}findNewParent(h,y,v){const p=this.#i.findParent(y,v);return p===null||p===this?!1:(p.changeParent(h),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const h of this.#o.values())this.#e?.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove();this.div=null,this.#o.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const h of this.#o.values())h.isEmpty()&&h.remove();this.#l=!1}render({viewport:h}){this.viewport=h,(0,_.setLayerDimensions)(this.div,h);for(const y of this.#i.getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:h}){this.#i.commitOrRemove(),this.viewport=h,(0,_.setLayerDimensions)(this.div,{rotation:h.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:h,pageHeight:y}=this.viewport.rawDims;return[h,y]}}n.AnnotationEditorLayer=d}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var o=s(1),c=s(5),m=s(4),f=s(29);class _ extends m.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#a;#o="";#s=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=_.prototype,l=v=>v.isEmpty(),h=c.AnnotationEditorUIManager.TRANSLATE_SMALL,y=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-h,0],checker:l}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-y,0],checker:l}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[h,0],checker:l}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[y,0],checker:l}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-h],checker:l}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-y],checker:l}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,h],checker:l}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,y],checker:l}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#a=d.color||_._defaultColor||m.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||_._defaultFontSize}static initialize(d){m.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const l=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(l.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,l){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:_._defaultFontSize=l;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:_._defaultColor=l;break}}updateParams(d,l){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(l);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(l);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,_._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,_._defaultColor||m.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#i(d){const l=y=>{this.editorDiv.style.fontSize=`calc(${y}px * var(--scale-factor))`,this.translate(0,-(y-this.#l)*this.parentScale),this.#l=y,this.#h()},h=this.#l;this.addCommands({cmd:()=>{l(d)},undo:()=>{l(h)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(d){const l=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=d},undo:()=>{this.#a=this.editorDiv.style.color=l},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,l){this._uiManager.translateSelectedEditors(d,l,!0)}getInitialTranslation(){const d=this.parentScale;return[-_._internalPadding*d,-(_._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const l=[];for(const h of d)l.push(h.innerText.replace(/\r\n?|\n/,""));return l.join(`
`)}#h(){const[d,l]=this.parentDimensions;let h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{const{currentLayer:y,div:v}=this,p=v.style.display;v.style.display="hidden",y.div.append(this.div),h=v.getBoundingClientRect(),v.remove(),v.style.display=p}this.rotation%180===this.parentRotation%180?(this.width=h.width/d,this.height=h.height/l):(this.width=h.height/d,this.height=h.width/l),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#o,l=this.#o=this.#d().trimEnd();if(d===l)return;const h=y=>{if(this.#o=y,!y){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{h(l)},undo:()=>{h(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){_._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,l;this.width&&(d=this.x,l=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),m.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(y=>this.editorDiv?.setAttribute("aria-label",y)),m.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(y=>this.editorDiv?.setAttribute("default-content",y)),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${this.#l}px * var(--scale-factor))`,h.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[y,v]=this.parentDimensions;if(this.annotationElementId){const{position:p}=this.#c;let[b,C]=this.getInitialTranslation();[b,C]=this.pageTranslationToScreen(b,C);const[S,D]=this.pageDimensions,[O,I]=this.pageTranslation;let R,F;switch(this.rotation){case 0:R=d+(p[0]-O)/S,F=l+this.height-(p[1]-I)/D;break;case 90:R=d+(p[0]-O)/S,F=l-(p[1]-I)/D,[b,C]=[C,-b];break;case 180:R=d-this.width+(p[0]-O)/S,F=l-(p[1]-I)/D,[b,C]=[-b,-C];break;case 270:R=d+(p[0]-O-this.height*D)/S,F=l+(p[1]-I-this.width*S)/D,[b,C]=[-C,b];break}this.setAt(R*y,F*v,b,C)}else this.setAt(d*y,l*v,this.width*y,this.height*v);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#o)for(const d of this.#o.split(`
`)){const l=document.createElement("div");l.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(l)}}get contentDiv(){return this.editorDiv}static deserialize(d,l,h){let y=null;if(d instanceof f.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:p,fontColor:b},rect:C,rotation:S,id:D},textContent:O,textPosition:I,parent:{page:{pageNumber:R}}}=d;if(!O||O.length===0)return null;y=d={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(b),fontSize:p,value:O.join(`
`),position:I,pageIndex:R-1,rect:C,rotation:S,id:D,deleted:!1}}const v=super.deserialize(d,l,h);return v.#l=d.fontSize,v.#a=o.Util.makeHexColor(...d.color),v.#o=d.value,v.annotationElementId=d.id||null,v.#c=y,v}serialize(d=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const l=_._internalPadding*this.parentScale,h=this.getRect(l,l),y=m.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),v={annotationType:o.AnnotationEditorType.FREETEXT,color:y,fontSize:this.#l,value:this.#o,pageIndex:this.pageIndex,rect:h,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?v:this.annotationElementId&&!this.#y(v)?null:(v.id=this.annotationElementId,v)}#y(d){const{value:l,fontSize:h,color:y,rect:v,pageIndex:p}=this.#c;return d.value!==l||d.fontSize!==h||d.rect.some((b,C)=>Math.abs(b-v[C])>=1)||d.color.some((b,C)=>b!==y[C])||d.pageIndex!==p}#g(d=!1){if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const l=_._internalPadding*this.parentScale;this.#c.rect=this.getRect(l,l)}}n.FreeTextEditor=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StampAnnotationElement=n.InkAnnotationElement=n.FreeTextAnnotationElement=n.AnnotationLayer=void 0;var o=s(1),c=s(6),m=s(3),f=s(30),_=s(31),x=s(32);const d=1e3,l=9,h=new WeakSet;function y(V){return{width:V[2]-V[0],height:V[3]-V[1]}}class v{static create(E){switch(E.data.annotationType){case o.AnnotationType.LINK:return new b(E);case o.AnnotationType.TEXT:return new C(E);case o.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new D(E);case"Btn":return E.data.radioButton?new R(E):E.data.checkBox?new I(E):new F(E);case"Ch":return new G(E);case"Sig":return new O(E)}return new S(E);case o.AnnotationType.POPUP:return new $(E);case o.AnnotationType.FREETEXT:return new ee(E);case o.AnnotationType.LINE:return new J(E);case o.AnnotationType.SQUARE:return new me(E);case o.AnnotationType.CIRCLE:return new he(E);case o.AnnotationType.POLYLINE:return new fe(E);case o.AnnotationType.CARET:return new ce(E);case o.AnnotationType.INK:return new z(E);case o.AnnotationType.POLYGON:return new ve(E);case o.AnnotationType.HIGHLIGHT:return new k(E);case o.AnnotationType.UNDERLINE:return new P(E);case o.AnnotationType.SQUIGGLY:return new T(E);case o.AnnotationType.STRIKEOUT:return new w(E);case o.AnnotationType.STAMP:return new j(E);case o.AnnotationType.FILEATTACHMENT:return new U(E);default:return new p(E)}}}class p{#e=!1;constructor(E,{isRenderable:M=!1,ignoreBorder:L=!1,createQuadrilaterals:B=!1}={}){this.isRenderable=M,this.data=E.data,this.layer=E.layer,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this.parent=E.parent,M&&(this.container=this._createContainer(L)),B&&this._createQuadrilaterals()}static _hasPopupData({titleObj:E,contentsObj:M,richText:L}){return!!(E?.str||M?.str||L?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(E){const{data:M,parent:{page:L,viewport:B}}=this,W=document.createElement("section");W.setAttribute("data-annotation-id",M.id),this instanceof S||(W.tabIndex=d),W.style.zIndex=this.parent.zIndex++,this.data.popupRef&&W.setAttribute("aria-haspopup","dialog"),M.noRotate&&W.classList.add("norotate");const{pageWidth:K,pageHeight:Q,pageX:oe,pageY:xe}=B.rawDims;if(!M.rect||this instanceof $){const{rotation:ge}=M;return!M.hasOwnCanvas&&ge!==0&&this.setRotation(ge,W),W}const{width:se,height:le}=y(M.rect),ue=o.Util.normalizeRect([M.rect[0],L.view[3]-M.rect[1]+L.view[1],M.rect[2],L.view[3]-M.rect[3]+L.view[1]]);if(!E&&M.borderStyle.width>0){W.style.borderWidth=`${M.borderStyle.width}px`;const ge=M.borderStyle.horizontalCornerRadius,be=M.borderStyle.verticalCornerRadius;if(ge>0||be>0){const De=`calc(${ge}px * var(--scale-factor)) / calc(${be}px * var(--scale-factor))`;W.style.borderRadius=De}else if(this instanceof R){const De=`calc(${se}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;W.style.borderRadius=De}switch(M.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:W.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:W.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:W.style.borderBottomStyle="solid";break}const Pe=M.borderColor||null;Pe?(this.#e=!0,W.style.borderColor=o.Util.makeHexColor(Pe[0]|0,Pe[1]|0,Pe[2]|0)):W.style.borderWidth=0}W.style.left=`${100*(ue[0]-oe)/K}%`,W.style.top=`${100*(ue[1]-xe)/Q}%`;const{rotation:pe}=M;return M.hasOwnCanvas||pe===0?(W.style.width=`${100*se/K}%`,W.style.height=`${100*le/Q}%`):this.setRotation(pe,W),W}setRotation(E,M=this.container){if(!this.data.rect)return;const{pageWidth:L,pageHeight:B}=this.parent.viewport.rawDims,{width:W,height:K}=y(this.data.rect);let Q,oe;E%180===0?(Q=100*W/L,oe=100*K/B):(Q=100*K/L,oe=100*W/B),M.style.width=`${Q}%`,M.style.height=`${oe}%`,M.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){const E=(M,L,B)=>{const W=B.detail[M],K=W[0],Q=W.slice(1);B.target.style[L]=f.ColorConverters[`${K}_HTML`](Q),this.annotationStorage.setValue(this.data.id,{[L]:f.ColorConverters[`${K}_rgb`](Q)})};return(0,o.shadow)(this,"_commonActions",{display:M=>{const{display:L}=M.detail,B=L%2===1;this.container.style.visibility=B?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:B,noPrint:L===1||L===2})},print:M=>{this.annotationStorage.setValue(this.data.id,{noPrint:!M.detail.print})},hidden:M=>{const{hidden:L}=M.detail;this.container.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:L,noView:L})},focus:M=>{setTimeout(()=>M.target.focus({preventScroll:!1}),0)},userName:M=>{M.target.title=M.detail.userName},readonly:M=>{M.target.disabled=M.detail.readonly},required:M=>{this._setRequired(M.target,M.detail.required)},bgColor:M=>{E("bgColor","backgroundColor",M)},fillColor:M=>{E("fillColor","backgroundColor",M)},fgColor:M=>{E("fgColor","color",M)},textColor:M=>{E("textColor","color",M)},borderColor:M=>{E("borderColor","borderColor",M)},strokeColor:M=>{E("strokeColor","borderColor",M)},rotation:M=>{const L=M.detail.rotation;this.setRotation(L),this.annotationStorage.setValue(this.data.id,{rotation:L})}})}_dispatchEventFromSandbox(E,M){const L=this._commonActions;for(const B of Object.keys(M.detail))(E[B]||L[B])?.(M)}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;const M=this.annotationStorage.getRawValue(this.data.id);if(!M)return;const L=this._commonActions;for(const[B,W]of Object.entries(M)){const K=L[B];if(K){const Q={detail:{[B]:W},target:E};K(Q),delete M[B]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:E}=this.data;if(!E)return;const[M,L,B,W]=this.data.rect;if(E.length===1){const[,{x:be,y:Pe},{x:De,y:Ie}]=E[0];if(B===be&&W===Pe&&M===De&&L===Ie)return}const{style:K}=this.container;let Q;if(this.#e){const{borderColor:be,borderWidth:Pe}=K;K.borderWidth=0,Q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${be}" stroke-width="${Pe}">`],this.container.classList.add("hasBorder")}const oe=B-M,xe=W-L,{svgFactory:se}=this,le=se.createElement("svg");le.classList.add("quadrilateralsContainer"),le.setAttribute("width",0),le.setAttribute("height",0);const ue=se.createElement("defs");le.append(ue);const pe=se.createElement("clipPath"),ge=`clippath_${this.data.id}`;pe.setAttribute("id",ge),pe.setAttribute("clipPathUnits","objectBoundingBox"),ue.append(pe);for(const[,{x:be,y:Pe},{x:De,y:Ie}]of E){const Ne=se.createElement("rect"),je=(De-M)/oe,at=(W-Pe)/xe,Qe=(be-De)/oe,Tt=(Pe-Ie)/xe;Ne.setAttribute("x",je),Ne.setAttribute("y",at),Ne.setAttribute("width",Qe),Ne.setAttribute("height",Tt),pe.append(Ne),Q?.push(`<rect vector-effect="non-scaling-stroke" x="${je}" y="${at}" width="${Qe}" height="${Tt}"/>`)}this.#e&&(Q.push("</g></svg>')"),K.backgroundImage=Q.join("")),this.container.append(le),this.container.style.clipPath=`url(#${ge})`}_createPopup(){const{container:E,data:M}=this;E.setAttribute("aria-haspopup","dialog");const L=new $({data:{color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,parentRect:M.rect,borderStyle:0,id:`popup_${M.id}`,rotation:M.rotation},parent:this.parent,elements:[this]});this.parent.div.append(L.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E,M=null){const L=[];if(this._fieldObjects){const B=this._fieldObjects[E];if(B)for(const{page:W,id:K,exportValues:Q}of B){if(W===-1||K===M)continue;const oe=typeof Q=="string"?Q:null,xe=document.querySelector(`[data-element-id="${K}"]`);if(xe&&!h.has(xe)){(0,o.warn)(`_getElementsByName - element not allowed: ${K}`);continue}L.push({id:K,exportValue:oe,domElement:xe})}return L}for(const B of document.getElementsByName(E)){const{exportValue:W}=B,K=B.getAttribute("data-element-id");K!==M&&h.has(B)&&L.push({id:K,exportValue:W,domElement:B})}return L}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const E=this.getElementsToTriggerPopup();if(Array.isArray(E))for(const M of E)M.classList.add("highlightArea");else E.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:E,data:{id:M}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:E,editId:M})})}}class b extends p{constructor(E,M=null){super(E,{isRenderable:!0,ignoreBorder:!!M?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){const{data:E,linkService:M}=this,L=document.createElement("a");L.setAttribute("data-element-id",E.id);let B=!1;return E.url?(M.addLinkAttributes(L,E.url,E.newWindow),B=!0):E.action?(this._bindNamedAction(L,E.action),B=!0):E.attachment?(this._bindAttachment(L,E.attachment),B=!0):E.setOCGState?(this.#t(L,E.setOCGState),B=!0):E.dest?(this._bindLink(L,E.dest),B=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(L,E),B=!0),E.resetForm?(this._bindResetFormAction(L,E.resetForm),B=!0):this.isTooltipOnly&&!B&&(this._bindLink(L,""),B=!0)),this.container.classList.add("linkAnnotation"),B&&this.container.append(L),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(E,M){E.href=this.linkService.getDestinationHash(M),E.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||M==="")&&this.#e()}_bindNamedAction(E,M){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(M),!1),this.#e()}_bindAttachment(E,M){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,M.content,M.filename),!1),this.#e()}#t(E,M){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeSetOCGState(M),!1),this.#e()}_bindJSAction(E,M){E.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const B of Object.keys(M.actions)){const W=L.get(B);W&&(E[W]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:B}}),!1))}E.onclick||(E.onclick=()=>!1),this.#e()}_bindResetFormAction(E,M){const L=E.onclick;if(L||(E.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),L||(E.onclick=()=>!1);return}E.onclick=()=>{L?.();const{fields:B,refs:W,include:K}=M,Q=[];if(B.length!==0||W.length!==0){const se=new Set(W);for(const le of B){const ue=this._fieldObjects[le]||[];for(const{id:pe}of ue)se.add(pe)}for(const le of Object.values(this._fieldObjects))for(const ue of le)se.has(ue.id)===K&&Q.push(ue)}else for(const se of Object.values(this._fieldObjects))Q.push(...se);const oe=this.annotationStorage,xe=[];for(const se of Q){const{id:le}=se;switch(xe.push(le),se.type){case"text":{const pe=se.defaultValue||"";oe.setValue(le,{value:pe});break}case"checkbox":case"radiobutton":{const pe=se.defaultValue===se.exportValues;oe.setValue(le,{value:pe});break}case"combobox":case"listbox":{const pe=se.defaultValue||"";oe.setValue(le,{value:pe});break}default:continue}const ue=document.querySelector(`[data-element-id="${le}"]`);if(ue){if(!h.has(ue)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${le}`);continue}}else continue;ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xe,name:"ResetForm"}}),!1}}}class C extends p{constructor(E){super(E,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.alt="[{{type}} Annotation]",E.dataset.l10nId="text_annotation_type",E.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(E),this.container}}class S extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(E){this.data.hasOwnCanvas&&(E.previousSibling?.nodeName==="CANVAS"&&(E.previousSibling.hidden=!0),E.hidden=!1)}_getKeyModifier(E){const{isWin:M,isMac:L}=o.FeatureTest.platform;return M&&E.ctrlKey||L&&E.metaKey}_setEventListener(E,M,L,B,W){L.includes("mouse")?E.addEventListener(L,K=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:W(K),shift:K.shiftKey,modifier:this._getKeyModifier(K)}})}):E.addEventListener(L,K=>{if(L==="blur"){if(!M.focused||!K.relatedTarget)return;M.focused=!1}else if(L==="focus"){if(M.focused)return;M.focused=!0}W&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:W(K)}})})}_setEventListeners(E,M,L,B){for(const[W,K]of L)(K==="Action"||this.data.actions?.[K])&&((K==="Focus"||K==="Blur")&&(M||={focused:!1}),this._setEventListener(E,M,W,K,B),K==="Focus"&&!this.data.actions?.Blur?this._setEventListener(E,M,"blur","Blur",null):K==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(E,M,"focus","Focus",null))}_setBackgroundColor(E){const M=this.data.backgroundColor||null;E.style.backgroundColor=M===null?"transparent":o.Util.makeHexColor(M[0],M[1],M[2])}_setTextStyle(E){const M=["left","center","right"],{fontColor:L}=this.data.defaultAppearanceData,B=this.data.defaultAppearanceData.fontSize||l,W=E.style;let K;const Q=2,oe=xe=>Math.round(10*xe)/10;if(this.data.multiLine){const xe=Math.abs(this.data.rect[3]-this.data.rect[1]-Q),se=Math.round(xe/(o.LINE_FACTOR*B))||1,le=xe/se;K=Math.min(B,oe(le/o.LINE_FACTOR))}else{const xe=Math.abs(this.data.rect[3]-this.data.rect[1]-Q);K=Math.min(B,oe(xe/o.LINE_FACTOR))}W.fontSize=`calc(${K}px * var(--scale-factor))`,W.color=o.Util.makeHexColor(L[0],L[1],L[2]),this.data.textAlignment!==null&&(W.textAlign=M[this.data.textAlignment])}_setRequired(E,M){M?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",M)}}class D extends S{constructor(E){const M=E.renderForms||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:M})}setPropertyOnSiblings(E,M,L,B){const W=this.annotationStorage;for(const K of this._getElementsByName(E.name,E.id))K.domElement&&(K.domElement[M]=L),W.setValue(K.id,{[B]:L})}render(){const E=this.annotationStorage,M=this.data.id;this.container.classList.add("textWidgetAnnotation");let L=null;if(this.renderForms){const B=E.getValue(M,{value:this.data.fieldValue});let W=B.value||"";const K=E.getValue(M,{charLimit:this.data.maxLen}).charLimit;K&&W.length>K&&(W=W.slice(0,K));let Q=B.formattedValue||this.data.textContent?.join(`
`)||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const oe={userValue:W,formattedValue:Q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=Q??W,this.data.doNotScroll&&(L.style.overflowY="hidden")):(L=document.createElement("input"),L.type="text",L.setAttribute("value",Q??W),this.data.doNotScroll&&(L.style.overflowX="hidden")),this.data.hasOwnCanvas&&(L.hidden=!0),h.add(L),L.setAttribute("data-element-id",M),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=d,this._setRequired(L,this.data.required),K&&(L.maxLength=K),L.addEventListener("input",se=>{E.setValue(M,{value:se.target.value}),this.setPropertyOnSiblings(L,"value",se.target.value,"value"),oe.formattedValue=null}),L.addEventListener("resetform",se=>{const le=this.data.defaultFieldValue??"";L.value=oe.userValue=le,oe.formattedValue=null});let xe=se=>{const{formattedValue:le}=oe;le!=null&&(se.target.value=le),se.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",le=>{if(oe.focused)return;const{target:ue}=le;oe.userValue&&(ue.value=oe.userValue),oe.lastCommittedValue=ue.value,oe.commitKey=1,oe.focused=!0}),L.addEventListener("updatefromsandbox",le=>{this.showElementAndHideCanvas(le.target);const ue={value(pe){oe.userValue=pe.detail.value??"",E.setValue(M,{value:oe.userValue.toString()}),pe.target.value=oe.userValue},formattedValue(pe){const{formattedValue:ge}=pe.detail;oe.formattedValue=ge,ge!=null&&pe.target!==document.activeElement&&(pe.target.value=ge),E.setValue(M,{formattedValue:ge})},selRange(pe){pe.target.setSelectionRange(...pe.detail.selRange)},charLimit:pe=>{const{charLimit:ge}=pe.detail,{target:be}=pe;if(ge===0){be.removeAttribute("maxLength");return}be.setAttribute("maxLength",ge);let Pe=oe.userValue;!Pe||Pe.length<=ge||(Pe=Pe.slice(0,ge),be.value=oe.userValue=Pe,E.setValue(M,{value:Pe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Pe,willCommit:!0,commitKey:1,selStart:be.selectionStart,selEnd:be.selectionEnd}}))}};this._dispatchEventFromSandbox(ue,le)}),L.addEventListener("keydown",le=>{oe.commitKey=1;let ue=-1;if(le.key==="Escape"?ue=0:le.key==="Enter"&&!this.data.multiLine?ue=2:le.key==="Tab"&&(oe.commitKey=3),ue===-1)return;const{value:pe}=le.target;oe.lastCommittedValue!==pe&&(oe.lastCommittedValue=pe,oe.userValue=pe,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:pe,willCommit:!0,commitKey:ue,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}))});const se=xe;xe=null,L.addEventListener("blur",le=>{if(!oe.focused||!le.relatedTarget)return;oe.focused=!1;const{value:ue}=le.target;oe.userValue=ue,oe.lastCommittedValue!==ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ue,willCommit:!0,commitKey:oe.commitKey,selStart:le.target.selectionStart,selEnd:le.target.selectionEnd}}),se(le)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",le=>{oe.lastCommittedValue=null;const{data:ue,target:pe}=le,{value:ge,selectionStart:be,selectionEnd:Pe}=pe;let De=be,Ie=Pe;switch(le.inputType){case"deleteWordBackward":{const Ne=ge.substring(0,be).match(/\w*[^\w]*$/);Ne&&(De-=Ne[0].length);break}case"deleteWordForward":{const Ne=ge.substring(be).match(/^[^\w]*\w*/);Ne&&(Ie+=Ne[0].length);break}case"deleteContentBackward":be===Pe&&(De-=1);break;case"deleteContentForward":be===Pe&&(Ie+=1);break}le.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:ge,change:ue||"",willCommit:!1,selStart:De,selEnd:Ie}})}),this._setEventListeners(L,oe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.value)}if(xe&&L.addEventListener("blur",xe),this.data.comb){const le=(this.data.rect[2]-this.data.rect[0])/K;L.classList.add("comb"),L.style.letterSpacing=`calc(${le}px * var(--scale-factor) - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class O extends S{constructor(E){super(E,{isRenderable:!!E.data.hasOwnCanvas})}}class I extends S{constructor(E){super(E,{isRenderable:E.renderForms})}render(){const E=this.annotationStorage,M=this.data,L=M.id;let B=E.getValue(L,{value:M.exportValue===M.fieldValue}).value;typeof B=="string"&&(B=B!=="Off",E.setValue(L,{value:B})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const W=document.createElement("input");return h.add(W),W.setAttribute("data-element-id",L),W.disabled=M.readOnly,this._setRequired(W,this.data.required),W.type="checkbox",W.name=M.fieldName,B&&W.setAttribute("checked",!0),W.setAttribute("exportValue",M.exportValue),W.tabIndex=d,W.addEventListener("change",K=>{const{name:Q,checked:oe}=K.target;for(const xe of this._getElementsByName(Q,L)){const se=oe&&xe.exportValue===M.exportValue;xe.domElement&&(xe.domElement.checked=se),E.setValue(xe.id,{value:se})}E.setValue(L,{value:oe})}),W.addEventListener("resetform",K=>{const Q=M.defaultFieldValue||"Off";K.target.checked=Q===M.exportValue}),this.enableScripting&&this.hasJSActions&&(W.addEventListener("updatefromsandbox",K=>{const Q={value(oe){oe.target.checked=oe.detail.value!=="Off",E.setValue(L,{value:oe.target.checked})}};this._dispatchEventFromSandbox(Q,K)}),this._setEventListeners(W,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.checked)),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class R extends S{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const E=this.annotationStorage,M=this.data,L=M.id;let B=E.getValue(L,{value:M.fieldValue===M.buttonValue}).value;typeof B=="string"&&(B=B!==M.buttonValue,E.setValue(L,{value:B}));const W=document.createElement("input");if(h.add(W),W.setAttribute("data-element-id",L),W.disabled=M.readOnly,this._setRequired(W,this.data.required),W.type="radio",W.name=M.fieldName,B&&W.setAttribute("checked",!0),W.tabIndex=d,W.addEventListener("change",K=>{const{name:Q,checked:oe}=K.target;for(const xe of this._getElementsByName(Q,L))E.setValue(xe.id,{value:!1});E.setValue(L,{value:oe})}),W.addEventListener("resetform",K=>{const Q=M.defaultFieldValue;K.target.checked=Q!=null&&Q===M.buttonValue}),this.enableScripting&&this.hasJSActions){const K=M.buttonValue;W.addEventListener("updatefromsandbox",Q=>{const oe={value:xe=>{const se=K===xe.detail.value;for(const le of this._getElementsByName(xe.target.name)){const ue=se&&le.id===L;le.domElement&&(le.domElement.checked=ue),E.setValue(le.id,{value:ue})}}};this._dispatchEventFromSandbox(oe,Q)}),this._setEventListeners(W,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class F extends b{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){const E=super.render();E.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(E.title=this.data.alternativeText);const M=E.lastChild;return this.enableScripting&&this.hasJSActions&&M&&(this._setDefaultPropertiesFromJS(M),M.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({},L)})),E}}class G extends S{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const E=this.annotationStorage,M=this.data.id,L=E.getValue(M,{value:this.data.fieldValue}),B=document.createElement("select");h.add(B),B.setAttribute("data-element-id",M),B.disabled=this.data.readOnly,this._setRequired(B,this.data.required),B.name=this.data.fieldName,B.tabIndex=d;let W=this.data.combo&&this.data.options.length>0;this.data.combo||(B.size=this.data.options.length,this.data.multiSelect&&(B.multiple=!0)),B.addEventListener("resetform",se=>{const le=this.data.defaultFieldValue;for(const ue of B.options)ue.selected=ue.value===le});for(const se of this.data.options){const le=document.createElement("option");le.textContent=se.displayValue,le.value=se.exportValue,L.value.includes(se.exportValue)&&(le.setAttribute("selected",!0),W=!1),B.append(le)}let K=null;if(W){const se=document.createElement("option");se.value=" ",se.setAttribute("hidden",!0),se.setAttribute("selected",!0),B.prepend(se),K=()=>{se.remove(),B.removeEventListener("input",K),K=null},B.addEventListener("input",K)}const Q=se=>{const le=se?"value":"textContent",{options:ue,multiple:pe}=B;return pe?Array.prototype.filter.call(ue,ge=>ge.selected).map(ge=>ge[le]):ue.selectedIndex===-1?null:ue[ue.selectedIndex][le]};let oe=Q(!1);const xe=se=>{const le=se.target.options;return Array.prototype.map.call(le,ue=>({displayValue:ue.textContent,exportValue:ue.value}))};return this.enableScripting&&this.hasJSActions?(B.addEventListener("updatefromsandbox",se=>{const le={value(ue){K?.();const pe=ue.detail.value,ge=new Set(Array.isArray(pe)?pe:[pe]);for(const be of B.options)be.selected=ge.has(be.value);E.setValue(M,{value:Q(!0)}),oe=Q(!1)},multipleSelection(ue){B.multiple=!0},remove(ue){const pe=B.options,ge=ue.detail.remove;pe[ge].selected=!1,B.remove(ge),pe.length>0&&Array.prototype.findIndex.call(pe,Pe=>Pe.selected)===-1&&(pe[0].selected=!0),E.setValue(M,{value:Q(!0),items:xe(ue)}),oe=Q(!1)},clear(ue){for(;B.length!==0;)B.remove(0);E.setValue(M,{value:null,items:[]}),oe=Q(!1)},insert(ue){const{index:pe,displayValue:ge,exportValue:be}=ue.detail.insert,Pe=B.children[pe],De=document.createElement("option");De.textContent=ge,De.value=be,Pe?Pe.before(De):B.append(De),E.setValue(M,{value:Q(!0),items:xe(ue)}),oe=Q(!1)},items(ue){const{items:pe}=ue.detail;for(;B.length!==0;)B.remove(0);for(const ge of pe){const{displayValue:be,exportValue:Pe}=ge,De=document.createElement("option");De.textContent=be,De.value=Pe,B.append(De)}B.options.length>0&&(B.options[0].selected=!0),E.setValue(M,{value:Q(!0),items:xe(ue)}),oe=Q(!1)},indices(ue){const pe=new Set(ue.detail.indices);for(const ge of ue.target.options)ge.selected=pe.has(ge.index);E.setValue(M,{value:Q(!0)}),oe=Q(!1)},editable(ue){ue.target.disabled=!ue.detail.editable}};this._dispatchEventFromSandbox(le,se)}),B.addEventListener("input",se=>{const le=Q(!0);E.setValue(M,{value:le}),se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:oe,changeEx:le,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(B,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],se=>se.target.value)):B.addEventListener("input",function(se){E.setValue(M,{value:Q(!0)})}),this.data.combo&&this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class $ extends p{constructor(E){const{data:M,elements:L}=E;super(E,{isRenderable:p._hasPopupData(M)}),this.elements=L}render(){this.container.classList.add("popupAnnotation");const E=new q({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),M=[];for(const L of this.elements)L.popup=E,M.push(L.data.id),L.addHighlightArea();return this.container.setAttribute("aria-controls",M.map(L=>`${o.AnnotationPrefix}${L}`).join(",")),this.container}}class q{#e=null;#t=this.#u.bind(this);#n=this.#S.bind(this);#r=this.#A.bind(this);#a=this.#v.bind(this);#o=null;#s=null;#l=null;#c=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#y=null;#g=null;#m=!1;constructor({container:E,color:M,elements:L,titleObj:B,modificationDate:W,contentsObj:K,richText:Q,parent:oe,rect:xe,parentRect:se,open:le}){this.#s=E,this.#g=B,this.#l=K,this.#y=Q,this.#i=oe,this.#o=M,this.#p=xe,this.#f=se,this.#c=L;const ue=c.PDFDateString.toDateObject(W);ue&&(this.#e=oe.l10n.get("annotation_date_string",{date:ue.toLocaleDateString(),time:ue.toLocaleTimeString()})),this.trigger=L.flatMap(pe=>pe.getElementsToTriggerPopup());for(const pe of this.trigger)pe.addEventListener("click",this.#a),pe.addEventListener("mouseenter",this.#r),pe.addEventListener("mouseleave",this.#n),pe.classList.add("popupTriggerArea");for(const pe of L)pe.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,le&&this.#v()}render(){if(this.#h)return;const{page:{view:E},viewport:{rawDims:{pageWidth:M,pageHeight:L,pageX:B,pageY:W}}}=this.#i,K=this.#h=document.createElement("div");if(K.className="popup",this.#o){const Ne=K.style.outlineColor=o.Util.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?K.style.backgroundColor=`color-mix(in srgb, ${Ne} 30%, white)`:K.style.backgroundColor=o.Util.makeHexColor(...this.#o.map(at=>Math.floor(.7*(255-at)+at)))}const Q=document.createElement("span");Q.className="header";const oe=document.createElement("h1");if(Q.append(oe),{dir:oe.dir,str:oe.textContent}=this.#g,K.append(Q),this.#e){const Ne=document.createElement("span");Ne.classList.add("popupDate"),this.#e.then(je=>{Ne.textContent=je}),Q.append(Ne)}const xe=this.#l,se=this.#y;if(se?.str&&(!xe?.str||xe.str===se.str))x.XfaLayer.render({xfaHtml:se.html,intent:"richText",div:K}),K.lastChild.classList.add("richText","popupContent");else{const Ne=this._formatContents(xe);K.append(Ne)}let le=!!this.#f,ue=le?this.#f:this.#p;for(const Ne of this.#c)if(!ue||o.Util.intersect(Ne.data.rect,ue)!==null){ue=Ne.data.rect,le=!0;break}const pe=o.Util.normalizeRect([ue[0],E[3]-ue[1]+E[1],ue[2],E[3]-ue[3]+E[1]]),be=le?ue[2]-ue[0]+5:0,Pe=pe[0]+be,De=pe[1],{style:Ie}=this.#s;Ie.left=`${100*(Pe-B)/M}%`,Ie.top=`${100*(De-W)/L}%`,this.#s.append(K)}_formatContents({str:E,dir:M}){const L=document.createElement("p");L.classList.add("popupContent"),L.dir=M;const B=E.split(/(?:\r\n?|\n)/);for(let W=0,K=B.length;W<K;++W){const Q=B[W];L.append(document.createTextNode(Q)),W<K-1&&L.append(document.createElement("br"))}return L}#u(E){E.altKey||E.shiftKey||E.ctrlKey||E.metaKey||(E.key==="Enter"||E.key==="Escape"&&this.#d)&&this.#v()}#v(){this.#d=!this.#d,this.#d?(this.#A(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#t)):(this.#S(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#t))}#A(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#S(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#s.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class ee extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.textContent=E.data.textContent,this.textPosition=E.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const E=document.createElement("div");E.classList.add("annotationTextContent"),E.setAttribute("role","comment");for(const M of this.textContent){const L=document.createElement("span");L.textContent=M,E.append(L)}this.container.append(E)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}n.FreeTextAnnotationElement=ee;class J extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const E=this.data,{width:M,height:L}=y(E.rect),B=this.svgFactory.create(M,L,!0),W=this.#e=this.svgFactory.createElement("svg:line");return W.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),W.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),W.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),W.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),W.setAttribute("stroke-width",E.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),B.append(W),this.container.append(B),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class me extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const E=this.data,{width:M,height:L}=y(E.rect),B=this.svgFactory.create(M,L,!0),W=E.borderStyle.width,K=this.#e=this.svgFactory.createElement("svg:rect");return K.setAttribute("x",W/2),K.setAttribute("y",W/2),K.setAttribute("width",M-W),K.setAttribute("height",L-W),K.setAttribute("stroke-width",W||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),B.append(K),this.container.append(B),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const E=this.data,{width:M,height:L}=y(E.rect),B=this.svgFactory.create(M,L,!0),W=E.borderStyle.width,K=this.#e=this.svgFactory.createElement("svg:ellipse");return K.setAttribute("cx",M/2),K.setAttribute("cy",L/2),K.setAttribute("rx",M/2-W/2),K.setAttribute("ry",L/2-W/2),K.setAttribute("stroke-width",W||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),B.append(K),this.container.append(B),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends p{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const E=this.data,{width:M,height:L}=y(E.rect),B=this.svgFactory.create(M,L,!0);let W=[];for(const Q of E.vertices){const oe=Q.x-E.rect[0],xe=E.rect[3]-Q.y;W.push(oe+","+xe)}W=W.join(" ");const K=this.#e=this.svgFactory.createElement(this.svgElementName);return K.setAttribute("points",W),K.setAttribute("stroke-width",E.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),B.append(K),this.container.append(B),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ve extends fe{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ce extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class z extends p{#e=[];constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const E=this.data,{width:M,height:L}=y(E.rect),B=this.svgFactory.create(M,L,!0);for(const W of E.inkLists){let K=[];for(const oe of W){const xe=oe.x-E.rect[0],se=E.rect[3]-oe.y;K.push(`${xe},${se}`)}K=K.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);this.#e.push(Q),Q.setAttribute("points",K),Q.setAttribute("stroke-width",E.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),!E.popupRef&&this.hasPopupData&&this._createPopup(),B.append(Q)}return this.container.append(B),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}n.InkAnnotationElement=z;class k extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class P extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class T extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class w extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class j extends p{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}n.StampAnnotationElement=j;class U extends p{#e=null;constructor(E){super(E,{isRenderable:!0});const{filename:M,content:L}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(M,!0),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:M,content:L})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:E,data:M}=this;let L;M.hasAppearance||M.fillAlpha===0?L=document.createElement("div"):(L=document.createElement("img"),L.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(M.name)?"paperclip":"pushpin"}.svg`,M.fillAlpha&&M.fillAlpha<1&&(L.style=`filter: opacity(${Math.round(M.fillAlpha*100)}%);`)),L.addEventListener("dblclick",this.#t.bind(this)),this.#e=L;const{isMac:B}=o.FeatureTest.platform;return E.addEventListener("keydown",W=>{W.key==="Enter"&&(B?W.metaKey:W.ctrlKey)&&this.#t()}),!M.popupRef&&this.hasPopupData?this._createPopup():L.classList.add("popupTriggerArea"),E.append(L),E}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class H{#e=null;#t=null;#n=new Map;constructor({div:E,accessibilityManager:M,annotationCanvasMap:L,l10n:B,page:W,viewport:K}){this.div=E,this.#e=M,this.#t=L,this.l10n=B,this.page=W,this.viewport=K,this.zIndex=0,this.l10n||=_.NullL10n}#r(E,M){const L=E.firstChild||E;L.id=`${o.AnnotationPrefix}${M}`,this.div.append(E),this.#e?.moveElementInDOM(this.div,E,L,!1)}async render(E){const{annotations:M}=E,L=this.div;(0,c.setLayerDimensions)(L,this.viewport);const B=new Map,W={data:null,layer:L,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:E.annotationStorage||new m.AnnotationStorage,enableScripting:E.enableScripting===!0,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,parent:this,elements:null};for(const K of M){if(K.noHTML)continue;const Q=K.annotationType===o.AnnotationType.POPUP;if(Q){const se=B.get(K.id);if(!se)continue;W.elements=se}else{const{width:se,height:le}=y(K.rect);if(se<=0||le<=0)continue}W.data=K;const oe=v.create(W);if(!oe.isRenderable)continue;if(!Q&&K.popupRef){const se=B.get(K.popupRef);se?se.push(oe):B.set(K.popupRef,[oe])}oe.annotationEditorType>0&&this.#n.set(oe.data.id,oe);const xe=oe.render();K.hidden&&(xe.style.visibility="hidden"),this.#r(xe,K.id)}this.#a(),await this.l10n.translate(L)}update({viewport:E}){const M=this.div;this.viewport=E,(0,c.setLayerDimensions)(M,{rotation:E.rotation}),this.#a(),M.hidden=!1}#a(){if(!this.#t)return;const E=this.div;for(const[M,L]of this.#t){const B=E.querySelector(`[data-annotation-id="${M}"]`);if(!B)continue;const{firstChild:W}=B;W?W.nodeName==="CANVAS"?W.replaceWith(L):W.before(L):B.append(L)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(E){return this.#n.get(E)}}n.AnnotationLayer=H}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function s(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}function o(m){return Math.max(0,Math.min(255,255*m))}class c{static CMYK_G([f,_,x,d]){return["G",1-Math.min(1,.3*f+.59*x+.11*_+d)]}static G_CMYK([f]){return["CMYK",0,0,0,1-f]}static G_RGB([f]){return["RGB",f,f,f]}static G_rgb([f]){return f=o(f),[f,f,f]}static G_HTML([f]){const _=s(f);return`#${_}${_}${_}`}static RGB_G([f,_,x]){return["G",.3*f+.59*_+.11*x]}static RGB_rgb(f){return f.map(o)}static RGB_HTML(f){return`#${f.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([f,_,x,d]){return["RGB",1-Math.min(1,f+d),1-Math.min(1,x+d),1-Math.min(1,_+d)]}static CMYK_rgb([f,_,x,d]){return[o(1-Math.min(1,f+d)),o(1-Math.min(1,x+d)),o(1-Math.min(1,_+d))]}static CMYK_HTML(f){const _=this.CMYK_RGB(f).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([f,_,x]){const d=1-f,l=1-_,h=1-x,y=Math.min(d,l,h);return["CMYK",d,l,h,y]}}n.ColorConverters=c}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(f,_){switch(f){case"find_match_count":f=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":f=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return s[f]||""}function c(f,_){return _?f.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(x,d)=>d in _?_[d]:"{{"+d+"}}"):f}const m={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(f,_=null,x=o(f,_)){return c(x,_)},async translate(f){}};n.NullL10n=m}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var o=s(25);class c{static setupStorage(f,_,x,d,l){const h=d.getValue(_,{value:null});switch(x.name){case"textarea":if(h.value!==null&&(f.textContent=h.value),l==="print")break;f.addEventListener("input",y=>{d.setValue(_,{value:y.target.value})});break;case"input":if(x.attributes.type==="radio"||x.attributes.type==="checkbox"){if(h.value===x.attributes.xfaOn?f.setAttribute("checked",!0):h.value===x.attributes.xfaOff&&f.removeAttribute("checked"),l==="print")break;f.addEventListener("change",y=>{d.setValue(_,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(h.value!==null&&f.setAttribute("value",h.value),l==="print")break;f.addEventListener("input",y=>{d.setValue(_,{value:y.target.value})})}break;case"select":if(h.value!==null){f.setAttribute("value",h.value);for(const y of x.children)y.attributes.value===h.value?y.attributes.selected=!0:y.attributes.hasOwnProperty("selected")&&delete y.attributes.selected}f.addEventListener("input",y=>{const v=y.target.options,p=v.selectedIndex===-1?"":v[v.selectedIndex].value;d.setValue(_,{value:p})});break}}static setAttributes({html:f,element:_,storage:x=null,intent:d,linkService:l}){const{attributes:h}=_,y=f instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${d}`);for(const[v,p]of Object.entries(h))if(p!=null)switch(v){case"class":p.length&&f.setAttribute(v,p.join(" "));break;case"dataId":break;case"id":f.setAttribute("data-element-id",p);break;case"style":Object.assign(f.style,p);break;case"textContent":f.textContent=p;break;default:(!y||v!=="href"&&v!=="newWindow")&&f.setAttribute(v,p)}y&&l.addLinkAttributes(f,h.href,h.newWindow),x&&h.dataId&&this.setupStorage(f,h.dataId,_,x)}static render(f){const _=f.annotationStorage,x=f.linkService,d=f.xfaHtml,l=f.intent||"display",h=document.createElement(d.name);d.attributes&&this.setAttributes({html:h,element:d,intent:l,linkService:x});const y=[[d,-1,h]],v=f.div;if(v.append(h),f.viewport){const b=`matrix(${f.viewport.transform.join(",")})`;v.style.transform=b}l!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");const p=[];for(;y.length>0;){const[b,C,S]=y.at(-1);if(C+1===b.children.length){y.pop();continue}const D=b.children[++y.at(-1)[1]];if(D===null)continue;const{name:O}=D;if(O==="#text"){const R=document.createTextNode(D.value);p.push(R),S.append(R);continue}const I=D?.attributes?.xmlns?document.createElementNS(D.attributes.xmlns,O):document.createElement(O);if(S.append(I),D.attributes&&this.setAttributes({html:I,element:D,storage:_,intent:l,linkService:x}),D.children&&D.children.length>0)y.push([D,-1,I]);else if(D.value){const R=document.createTextNode(D.value);o.XfaText.shouldBuildText(O)&&p.push(R),I.append(R)}}for(const b of v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:p}}static update(f){const _=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=_,f.div.hidden=!1}}n.XfaLayer=c}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0;var o=s(1),c=s(4),m=s(29),f=s(6),_=s(5);class x extends c.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#c=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(l){super({...l,name:"inkEditor"}),this.color=l.color||null,this.thickness=l.thickness||null,this.opacity=l.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(l){c.AnnotationEditor.initialize(l,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(l,h){switch(l){case o.AnnotationEditorParamsType.INK_THICKNESS:x._defaultThickness=h;break;case o.AnnotationEditorParamsType.INK_COLOR:x._defaultColor=h;break;case o.AnnotationEditorParamsType.INK_OPACITY:x._defaultOpacity=h/100;break}}updateParams(l,h){switch(l){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#y(h);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#g(h);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#m(h);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,x._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,x._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(x._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||x._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||x._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??x._defaultOpacity))]]}#y(l){const h=this.thickness;this.addCommands({cmd:()=>{this.thickness=l,this.#w()},undo:()=>{this.thickness=h,this.#w()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(l){const h=this.color;this.addCommands({cmd:()=>{this.color=l,this.#x()},undo:()=>{this.color=h,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(l){l/=100;const h=this.opacity;this.addCommands({cmd:()=>{this.opacity=l,this.#x()},undo:()=>{this.opacity=h,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#k()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#w()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(l){!this.parent&&l?this._uiManager.removeShouldRescale(this):this.parent&&l===null&&this._uiManager.addShouldRescale(this),super.setParent(l)}onScaleChanging(){const[l,h]=this.parentDimensions,y=this.width*l,v=this.height*h;this.setDimensions(y,v)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#o))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:l,parentDimensions:[h,y]}=this;switch(l){case 90:return[0,y,y,h];case 180:return[h,y,h,y];case 270:return[h,0,y,h];default:return[0,0,h,y]}}#v(){const{ctx:l,color:h,opacity:y,thickness:v,parentScale:p,scaleFactor:b}=this;l.lineWidth=v*p/b,l.lineCap="round",l.lineJoin="round",l.miterLimit=10,l.strokeStyle=`${h}${(0,_.opacityToHex)(y)}`}#A(l,h){this.canvas.addEventListener("contextmenu",f.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#o),this.isEditing=!0,this.#i||(this.#i=!0,this.#E(),this.thickness||=x._defaultThickness,this.color||=x._defaultColor||c.AnnotationEditor._defaultLineColor,this.opacity??=x._defaultOpacity),this.currentPath.push([l,h]),this.#c=!1,this.#v(),this.#p=()=>{this.#L(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#S(l,h){const[y,v]=this.currentPath.at(-1);if(this.currentPath.length>1&&l===y&&h===v)return;const p=this.currentPath;let b=this.#s;if(p.push([l,h]),this.#c=!0,p.length<=2){b.moveTo(...p[0]),b.lineTo(l,h);return}p.length===3&&(this.#s=b=new Path2D,b.moveTo(...p[0])),this.#I(b,...p.at(-3),...p.at(-2),l,h)}#T(){if(this.currentPath.length===0)return;const l=this.currentPath.at(-1);this.#s.lineTo(...l)}#C(l,h){this.#p=null,l=Math.min(Math.max(l,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height),this.#S(l,h),this.#T();let y;if(this.currentPath.length!==1)y=this.#O();else{const S=[l,h];y=[[S,S.slice(),S.slice(),S]]}const v=this.#s,p=this.currentPath;this.currentPath=[],this.#s=new Path2D;const b=()=>{this.allRawPaths.push(p),this.paths.push(y),this.bezierPath2D.push(v),this.rebuild()},C=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#k()),this.#w())};this.addCommands({cmd:b,undo:C,mustExec:!0})}#L(){if(!this.#c)return;this.#c=!1;const l=Math.ceil(this.thickness*this.parentScale),h=this.currentPath.slice(-3),y=h.map(b=>b[0]),v=h.map(b=>b[1]);Math.min(...y)-l,Math.max(...y)+l,Math.min(...v)-l,Math.max(...v)+l;const{ctx:p}=this;p.save(),p.clearRect(0,0,this.canvas.width,this.canvas.height);for(const b of this.bezierPath2D)p.stroke(b);p.stroke(this.#s),p.restore()}#I(l,h,y,v,p,b,C){const S=(h+v)/2,D=(y+p)/2,O=(v+b)/2,I=(p+C)/2;l.bezierCurveTo(S+2*(v-S)/3,D+2*(p-D)/3,O+2*(v-O)/3,I+2*(p-I)/3,O,I)}#O(){const l=this.currentPath;if(l.length<=2)return[[l[0],l[0],l.at(-1),l.at(-1)]];const h=[];let y,[v,p]=l[0];for(y=1;y<l.length-2;y++){const[R,F]=l[y],[G,$]=l[y+1],q=(R+G)/2,ee=(F+$)/2,J=[v+2*(R-v)/3,p+2*(F-p)/3],me=[q+2*(R-q)/3,ee+2*(F-ee)/3];h.push([[v,p],J,me,[q,ee]]),[v,p]=[q,ee]}const[b,C]=l[y],[S,D]=l[y+1],O=[v+2*(b-v)/3,p+2*(C-p)/3],I=[S+2*(b-S)/3,D+2*(C-D)/3];return h.push([[v,p],O,I,[S,D]]),h}#x(){if(this.isEmpty()){this.#b();return}this.#v();const{canvas:l,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,l.width,l.height),this.#b();for(const y of this.bezierPath2D)h.stroke(y)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#w(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(l){this._focusEventsAllowed&&(super.focusin(l),this.enableEditMode())}canvasPointerdown(l){l.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),l.preventDefault(),l.type!=="mouse"&&this.div.focus(),this.#A(l.offsetX,l.offsetY))}canvasPointermove(l){l.preventDefault(),this.#S(l.offsetX,l.offsetY)}canvasPointerup(l){l.preventDefault(),this.#F(l)}canvasPointerleave(l){this.#F(l)}#F(l){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#o),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",f.noContextMenu)},10),this.#C(l.offsetX,l.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(l=>this.canvas?.setAttribute("aria-label",l)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#k(){this.#f=new ResizeObserver(l=>{const h=l[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let l,h;this.width&&(l=this.x,h=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(C=>this.div?.setAttribute("aria-label",C));const[y,v,p,b]=this.#u();if(this.setAt(y,v,0,0),this.setDims(p,b),this.#R(),this.width){const[C,S]=this.parentDimensions;this.setAspectRatio(this.width*C,this.height*S),this.setAt(l*C,h*S,this.width*C,this.height*S),this.#i=!0,this.#E(),this.setDims(this.width*C,this.height*S),this.#x(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#k(),this.div}#E(){if(!this.#i)return;const[l,h]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*l),this.canvas.height=Math.ceil(this.height*h),this.#b()}setDimensions(l,h){const y=Math.round(l),v=Math.round(h);if(this.#d===y&&this.#h===v)return;this.#d=y,this.#h=v,this.canvas.style.visibility="hidden";const[p,b]=this.parentDimensions;this.width=l/p,this.height=h/b,this.fixAndSetPosition(),this.#l&&this.#P(l,h),this.#E(),this.#x(),this.canvas.style.visibility="visible",this.fixDims()}#P(l,h){const y=this.#D(),v=(l-y)/this.#t,p=(h-y)/this.#e;this.scaleFactor=Math.min(v,p)}#b(){const l=this.#D()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+l,this.translationY*this.scaleFactor+l)}static#N(l){const h=new Path2D;for(let y=0,v=l.length;y<v;y++){const[p,b,C,S]=l[y];y===0&&h.moveTo(...p),h.bezierCurveTo(b[0],b[1],C[0],C[1],S[0],S[1])}return h}static#j(l,h,y){const[v,p,b,C]=h;switch(y){case 0:for(let S=0,D=l.length;S<D;S+=2)l[S]+=v,l[S+1]=C-l[S+1];break;case 90:for(let S=0,D=l.length;S<D;S+=2){const O=l[S];l[S]=l[S+1]+v,l[S+1]=O+p}break;case 180:for(let S=0,D=l.length;S<D;S+=2)l[S]=b-l[S],l[S+1]+=p;break;case 270:for(let S=0,D=l.length;S<D;S+=2){const O=l[S];l[S]=b-l[S+1],l[S+1]=C-O}break;default:throw new Error("Invalid rotation")}return l}static#V(l,h,y){const[v,p,b,C]=h;switch(y){case 0:for(let S=0,D=l.length;S<D;S+=2)l[S]-=v,l[S+1]=C-l[S+1];break;case 90:for(let S=0,D=l.length;S<D;S+=2){const O=l[S];l[S]=l[S+1]-p,l[S+1]=O-v}break;case 180:for(let S=0,D=l.length;S<D;S+=2)l[S]=b-l[S],l[S+1]-=p;break;case 270:for(let S=0,D=l.length;S<D;S+=2){const O=l[S];l[S]=C-l[S+1],l[S+1]=b-O}break;default:throw new Error("Invalid rotation")}return l}#B(l,h,y,v){const p=[],b=this.thickness/2,C=l*h+b,S=l*y+b;for(const D of this.paths){const O=[],I=[];for(let R=0,F=D.length;R<F;R++){const[G,$,q,ee]=D[R],J=l*G[0]+C,me=l*G[1]+S,he=l*$[0]+C,fe=l*$[1]+S,ve=l*q[0]+C,ce=l*q[1]+S,z=l*ee[0]+C,k=l*ee[1]+S;R===0&&(O.push(J,me),I.push(J,me)),O.push(he,fe,ve,ce,z,k),I.push(he,fe),R===F-1&&I.push(z,k)}p.push({bezier:x.#j(O,v,this.rotation),points:x.#j(I,v,this.rotation)})}return p}#M(){let l=1/0,h=-1/0,y=1/0,v=-1/0;for(const p of this.paths)for(const[b,C,S,D]of p){const O=o.Util.bezierBoundingBox(...b,...C,...S,...D);l=Math.min(l,O[0]),y=Math.min(y,O[1]),h=Math.max(h,O[2]),v=Math.max(v,O[3])}return[l,y,h,v]}#D(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#w(l=!1){if(this.isEmpty())return;if(!this.#l){this.#x();return}const h=this.#M(),y=this.#D();this.#t=Math.max(c.AnnotationEditor.MIN_SIZE,h[2]-h[0]),this.#e=Math.max(c.AnnotationEditor.MIN_SIZE,h[3]-h[1]);const v=Math.ceil(y+this.#t*this.scaleFactor),p=Math.ceil(y+this.#e*this.scaleFactor),[b,C]=this.parentDimensions;this.width=v/b,this.height=p/C,this.setAspectRatio(v,p);const S=this.translationX,D=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#E(),this.#x(),this.#d=v,this.#h=p,this.setDims(v,p);const O=l?y/this.scaleFactor/2:0;this.translate(S-this.translationX-O,D-this.translationY-O)}static deserialize(l,h,y){if(l instanceof m.InkAnnotationElement)return null;const v=super.deserialize(l,h,y);v.thickness=l.thickness,v.color=o.Util.makeHexColor(...l.color),v.opacity=l.opacity;const[p,b]=v.pageDimensions,C=v.width*p,S=v.height*b,D=v.parentScale,O=l.thickness/2;v.#l=!0,v.#d=Math.round(C),v.#h=Math.round(S);const{paths:I,rect:R,rotation:F}=l;for(let{bezier:$}of I){$=x.#V($,R,F);const q=[];v.paths.push(q);let ee=D*($[0]-O),J=D*($[1]-O);for(let he=2,fe=$.length;he<fe;he+=6){const ve=D*($[he]-O),ce=D*($[he+1]-O),z=D*($[he+2]-O),k=D*($[he+3]-O),P=D*($[he+4]-O),T=D*($[he+5]-O);q.push([[ee,J],[ve,ce],[z,k],[P,T]]),ee=P,J=T}const me=this.#N(q);v.bezierPath2D.push(me)}const G=v.#M();return v.#t=Math.max(c.AnnotationEditor.MIN_SIZE,G[2]-G[0]),v.#e=Math.max(c.AnnotationEditor.MIN_SIZE,G[3]-G[1]),v.#P(C,S),v}serialize(){if(this.isEmpty())return null;const l=this.getRect(0,0),h=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:h,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,l),pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}n.InkEditor=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StampEditor=void 0;var o=s(1),c=s(4),m=s(6),f=s(29);class _ extends c.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#a=null;#o=null;#s=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#r=d.bitmapUrl,this.#a=d.bitmapFile}static initialize(d){c.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",d.map(l=>`image/${l}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,l){l.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#f(d,l=!1){if(!d){this.remove();return}this.#e=d.bitmap,l||(this.#t=d.id,this.#c=d.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(l=>this.#f(l,!0)).finally(()=>this.#d());return}if(this.#r){const l=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(l).then(h=>this.#f(h)).finally(()=>this.#d());return}if(this.#a){const l=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(l).then(h=>this.#f(h)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=_.supportedTypesStr,this.#n=new Promise(l=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#f(h)}l()}),d.addEventListener("cancel",()=>{this.remove(),l()})}).finally(()=>this.#d()),d.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,l;if(this.width&&(d=this.x,l=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[h,y]=this.parentDimensions;this.setAt(d*h,l*y,this.width*h,this.height*y)}return this.div}#p(){const{div:d}=this;let{width:l,height:h}=this.#e;const[y,v]=this.pageDimensions,p=.75;if(this.width)l=this.width*y,h=this.height*v;else if(l>p*y||h>p*v){const D=Math.min(p*y/l,p*v/h);l*=D,h*=D}const[b,C]=this.parentDimensions;this.setDims(l*b/y,h*C/v),this._uiManager.enableWaiting(!1);const S=this.#o=document.createElement("canvas");d.append(S),d.hidden=!1,this.#m(l,h),this.#v(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#y(d,l){const[h,y]=this.parentDimensions;this.width=d/h,this.height=l/y,this.setDims(d,l),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const v=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(d,l)},v)}#g(d,l){const{width:h,height:y}=this.#e;let v=h,p=y,b=this.#e;for(;v>2*d||p>2*l;){const C=v,S=p;v>2*d&&(v=v>=16384?Math.floor(v/2)-1:Math.ceil(v/2)),p>2*l&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2));const D=new OffscreenCanvas(v,p);D.getContext("2d").drawImage(b,0,0,C,S,0,0,v,p),b=D.transferToImageBitmap()}return b}#m(d,l){d=Math.ceil(d),l=Math.ceil(l);const h=this.#o;if(!h||h.width===d&&h.height===l)return;h.width=d,h.height=l;const y=this.#c?this.#e:this.#g(d,l),v=h.getContext("2d");v.filter=this._uiManager.hcmFilter,v.drawImage(y,0,0,y.width,y.height,0,0,d,l)}#u(d){if(d){if(this.#c){const y=this._uiManager.imageManager.getSvgUrl(this.#t);if(y)return y}const l=document.createElement("canvas");return{width:l.width,height:l.height}=this.#e,l.getContext("2d").drawImage(this.#e,0,0),l.toDataURL()}if(this.#c){const[l,h]=this.pageDimensions,y=Math.round(this.width*l*m.PixelsPerInch.PDF_TO_CSS_UNITS),v=Math.round(this.height*h*m.PixelsPerInch.PDF_TO_CSS_UNITS),p=new OffscreenCanvas(y,v);return p.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,y,v),p.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#s=new ResizeObserver(d=>{const l=d[0].contentRect;l.width&&l.height&&this.#y(l.width,l.height)}),this.#s.observe(this.div)}static deserialize(d,l,h){if(d instanceof f.StampAnnotationElement)return null;const y=super.deserialize(d,l,h),{rect:v,bitmapUrl:p,bitmapId:b,isSvg:C,accessibilityData:S}=d;b&&h.imageManager.isValidId(b)?y.#t=b:y.#r=p,y.#c=C;const[D,O]=y.pageDimensions;return y.width=(v[2]-v[0])/D,y.height=(v[3]-v[1])/O,S&&(y.altTextData=S),y}serialize(d=!1,l=null){if(this.isEmpty())return null;const h={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(d)return h.bitmapUrl=this.#u(!0),h.accessibilityData=this.altTextData,h;const{decorative:y,altText:v}=this.altTextData;if(!y&&v&&(h.accessibilityData={type:"Figure",alt:v}),l===null)return h;l.stamps||=new Map;const p=this.#c?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!l.stamps.has(this.#t))l.stamps.set(this.#t,{area:p,serialized:h}),h.bitmap=this.#u(!1);else if(this.#c){const b=l.stamps.get(this.#t);p>b.area&&(b.area=p,b.serialized.bitmap.close(),b.serialized.bitmap=this.#u(!1))}return h}}n.StampEditor=_})],__webpack_module_cache__={};function __w_pdfjs_require__(i){var n=__webpack_module_cache__[i];if(n!==void 0)return n.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return n.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return m.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return f.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return n.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return x.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return n.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return n.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return n.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return s.version}});var n=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),m=__w_pdfjs_require__(27),f=__w_pdfjs_require__(5),_=__w_pdfjs_require__(29),x=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=pdf;var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=i,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var i=requireReactPropTypesSecret();function n(){}function s(){}return s.resetWarningCache=n,factoryWithThrowingShims=function(){function o(f,_,x,d,l,h){if(h!==i){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function c(){return o}var m={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:s,resetWarningCache:n};return m.PropTypes=m,m},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(i,n,s){if(s||arguments.length===2)for(var o=0,c=n.length,m;o<c;o++)(m||!(o in n))&&(m||(m=Array.prototype.slice.call(n,0,o)),m[o]=n[o]);return i.concat(m||Array.prototype.slice.call(n))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(i,n){var s={};return allEvents.forEach(function(o){var c=i[o];c&&(n?s[o]=(function(m){return c(m,n(o))}):s[o]=c)}),s}function makeCancellablePromise(i){var n=!1,s=new Promise(function(o,c){i.then(function(m){return!n&&o(m)}).catch(function(m){return!n&&c(m)})});return{promise:s,cancel:function(){n=!0}}}function r(i){var n,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(n=0;n<c;n++)i[n]&&(s=r(i[n]))&&(o&&(o+=" "),o+=s)}else for(s in i)i[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var i,n,s=0,o="",c=arguments.length;s<c;s++)(i=arguments[s])&&(n=r(i))&&(o&&(o+=" "),o+=n);return o}var prefix="Invariant failed";function invariant(i,n){if(!i)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var i=function(){};return warning_1=i,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(i,n,s){for(s of i.keys())if(dequal(s,n))return s}function dequal(i,n){var s,o,c;if(i===n)return!0;if(i&&n&&(s=i.constructor)===n.constructor){if(s===Date)return i.getTime()===n.getTime();if(s===RegExp)return i.toString()===n.toString();if(s===Array){if((o=i.length)===n.length)for(;o--&&dequal(i[o],n[o]););return o===-1}if(s===Set){if(i.size!==n.size)return!1;for(o of i)if(c=o,c&&typeof c=="object"&&(c=find(n,c),!c)||!n.has(c))return!1;return!0}if(s===Map){if(i.size!==n.size)return!1;for(o of i)if(c=o[0],c&&typeof c=="object"&&(c=find(n,c),!c)||!dequal(o[1],n.get(c)))return!1;return!0}if(s===ArrayBuffer)i=new Uint8Array(i),n=new Uint8Array(n);else if(s===DataView){if((o=i.byteLength)===n.byteLength)for(;o--&&i.getInt8(o)===n.getInt8(o););return o===-1}if(ArrayBuffer.isView(i)){if((o=i.byteLength)===n.byteLength)for(;o--&&i[o]===n[o];);return o===-1}if(!s||typeof i=="object"){o=0;for(s in i)if(has.call(i,s)&&++o&&!has.call(n,s)||!(s in n)||!dequal(i[s],n[s]))return!1;return Object.keys(n).length===o}}return i!==i&&n!==n}const DocumentContext=reactExports.createContext(null);function Message({children:i,type:n}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${n}`},i)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(n){this.pdfDocument=n}setViewer(n){this.pdfViewer=n}setExternalLinkRel(n){this.externalLinkRel=n}setExternalLinkTarget(n){this.externalLinkTarget=n}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(n){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=n}get rotation(){return 0}set rotation(n){}goToDestination(n){return new Promise(s=>{invariant(this.pdfDocument),invariant(n),typeof n=="string"?this.pdfDocument.getDestination(n).then(s):Array.isArray(n)?s(n):n.then(s)}).then(s=>{invariant(Array.isArray(s));const o=s[0];new Promise(c=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(m=>{c(m)}).catch(()=>{invariant(!1)}):typeof o=="number"?c(o):invariant(!1)}).then(c=>{const m=c+1;invariant(this.pdfViewer),invariant(m>=1&&m<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:c,pageNumber:m})})})}navigateTo(n){this.goToDestination(n)}goToPage(n){const s=n-1;invariant(this.pdfViewer),invariant(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:n})}addLinkAttributes(n,s,o){n.href=s,n.rel=this.externalLinkRel||DEFAULT_LINK_REL,n.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}function isProvided(i){return isDefined(i)&&i!==null}function isString(i){return typeof i=="string"}function isArrayBuffer(i){return i instanceof ArrayBuffer}function isBlob(i){return invariant(isBrowser),i instanceof Blob}function isDataURI(i){return isString(i)&&/^data:/.test(i)}function dataURItoByteString(i){invariant(isDataURI(i));const[n="",s=""]=i.split(",");return n.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(i){i&&i.cancel&&i.cancel()}function makePageCallback(i,n){return Object.defineProperty(i,"width",{get(){return this.view[2]*n},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*n},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function isCancelException(i){return i.name==="RenderingCancelledException"}function loadFromFile(i){return new Promise((n,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));n(o.result)},o.onerror=c=>{if(!c.target)return s(new Error("Error while reading a file."));const{error:m}=c.target;if(!m)return s(new Error("Error while reading a file."));switch(m.code){case m.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case m.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case m.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(i)})}function reducer(i,n){switch(n.type){case"RESOLVE":return{value:n.value,error:void 0};case"REJECT":return{value:!1,error:n.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const i={};return allEvents.forEach(n=>{i[n]=PropTypes.func}),i})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function i(n,s,o){const{[s]:c,pageNumber:m,pdf:f}=n;if(!isDefined(f))return null;if(isDefined(c)){if(typeof c!="number")return new Error(`\`${s}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:_}=f;if(c+1>_)return new Error(`Expected \`${s}\` to be less or equal to ${_-1}.`)}else if(!isDefined(m))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function i(n,s,o){const{[s]:c,pageIndex:m,pdf:f}=n;if(!isDefined(f))return null;if(isDefined(c)){if(typeof c!="number")return new Error(`\`${s}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:_}=f;if(c>_)return new Error(`Expected \`${s}\` to be less or equal to ${_}.`)}else if(!isDefined(m))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(i,n,s,o){function c(m){return m instanceof s?m:new s(function(f){f(m)})}return new(s||(s=Promise))(function(m,f){function _(l){try{d(o.next(l))}catch(h){f(h)}}function x(l){try{d(o.throw(l))}catch(h){f(h)}}function d(l){l.done?m(l.value):c(l.value).then(_,x)}d((o=o.apply(i,n||[])).next())})},__rest$1=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(i,n)=>{switch(n){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");i(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");i(s);break}}};function isParameterObject(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Document=reactExports.forwardRef(function i(n,s){var{children:o,className:c,error:m="Failed to load PDF file.",externalLinkRel:f,externalLinkTarget:_,file:x,inputRef:d,imageResourcesPath:l,loading:h="Loading PDF",noData:y="No PDF file specified.",onItemClick:v,onLoadError:p,onLoadProgress:b,onLoadSuccess:C,onPassword:S=defaultOnPassword,onSourceError:D,onSourceSuccess:O,options:I,renderMode:R,rotate:F}=n,G=__rest$1(n,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[$,q]=useResolver(),{value:ee,error:J}=$,[me,he]=useResolver(),{value:fe,error:ve}=me,ce=reactExports.useRef(new LinkService),z=reactExports.useRef([]),k=reactExports.useRef(),P=reactExports.useRef();reactExports.useEffect(()=>{x&&x!==k.current&&isParameterObject(x)&&(warning(!dequal(x,k.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),k.current=x)},[x]),reactExports.useEffect(()=>{I&&I!==P.current&&(warning(!dequal(I,P.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),P.current=I)},[I]);const T=reactExports.useRef({scrollPageIntoView:le=>{const{dest:ue,pageNumber:pe,pageIndex:ge=pe-1}=le;if(v){v({dest:ue,pageIndex:ge,pageNumber:pe});return}const be=z.current[ge];if(be){be.scrollIntoView();return}warning(!1,`An internal link leading to page ${pe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:ce,pages:z,viewer:T}),[]);function w(){O&&O()}function j(){J&&(warning(!1,J.toString()),D&&D(J))}function U(){q({type:"RESET"})}reactExports.useEffect(U,[x,q]);const H=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!x)return null;if(typeof x=="string")return isDataURI(x)?{data:dataURItoByteString(x)}:(displayCORSWarning(),{url:x});if(x instanceof PDFDataRangeTransport)return{range:x};if(isArrayBuffer(x))return{data:x};if(isBrowser&&isBlob(x))return{data:yield loadFromFile(x)};if(invariant(typeof x=="object"),invariant(isParameterObject(x)),"url"in x&&typeof x.url=="string"){if(isDataURI(x.url)){const{url:le}=x,ue=__rest$1(x,["url"]),pe=dataURItoByteString(le);return Object.assign({data:pe},ue)}displayCORSWarning()}return x}),[x]);reactExports.useEffect(()=>{const le=makeCancellablePromise(H());return le.promise.then(ue=>{q({type:"RESOLVE",value:ue})}).catch(ue=>{q({type:"REJECT",error:ue})}),()=>{cancelRunningTask(le)}},[H,q]),reactExports.useEffect(()=>{if(!(typeof ee>"u")){if(ee===!1){j();return}w()}},[ee]);function V(){fe&&(C&&C(fe),z.current=new Array(fe.numPages),ce.current.setDocument(fe))}function E(){ve&&(warning(!1,ve.toString()),p&&p(ve))}function M(){he({type:"RESET"})}reactExports.useEffect(M,[he,ee]);function L(){if(!ee)return;const le=Object.assign(Object.assign({},I),{isEvalSupported:!1}),ue=Object.assign(Object.assign({},ee),le),pe=pdfjs.getDocument(ue);b&&(pe.onProgress=b),S&&(pe.onPassword=S);const ge=pe;return ge.promise.then(be=>{he({type:"RESOLVE",value:be})}).catch(be=>{ge.destroyed||he({type:"REJECT",error:be})}),()=>{ge.destroy()}}reactExports.useEffect(L,[I,he,ee]),reactExports.useEffect(()=>{if(!(typeof fe>"u")){if(fe===!1){E();return}V()}},[fe]);function B(){ce.current.setViewer(T.current),ce.current.setExternalLinkRel(f),ce.current.setExternalLinkTarget(_)}reactExports.useEffect(B,[f,_]);function W(le,ue){z.current[le]=ue}function K(le){delete z.current[le]}const Q=reactExports.useMemo(()=>({imageResourcesPath:l,linkService:ce.current,onItemClick:v,pdf:fe,registerPage:W,renderMode:R,rotate:F,unregisterPage:K}),[l,v,fe,R,F]),oe=reactExports.useMemo(()=>makeEventProps(G,()=>fe),[G,fe]);function xe(){return React.createElement(DocumentContext.Provider,{value:Q},o)}function se(){return x?fe==null?React.createElement(Message,{type:"loading"},typeof h=="function"?h():h):fe===!1?React.createElement(Message,{type:"error"},typeof m=="function"?m():m):xe():React.createElement(Message,{type:"no-data"},typeof y=="function"?y():y)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",c),ref:d,style:{"--scale-factor":"1"}},oe),se())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var s=i.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(m){s.forEach(function(f){typeof f=="function"?f(m):f&&(f.current=m)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(i){return i in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(i){return"children"in i}function isStructTreeNodeWithOnlyContentChild(i){return isStructTreeNode(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function getRoleAttributes(i){const n={};if(isStructTreeNode(i)){const{role:s}=i,o=s.match(HEADING_PATTERN);if(o)n.role="heading",n["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const c=PDF_ROLE_TO_HTML_ROLE[s];c&&(n.role=c)}}return n}function getBaseAttributes(i){const n={};if(isStructTreeNode(i)){if(i.alt!==void 0&&(n["aria-label"]=i.alt),i.lang!==void 0&&(n.lang=i.lang),isStructTreeNodeWithOnlyContentChild(i)){const[s]=i.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},n),o)}}}else"id"in i&&(n["aria-owns"]=i.id);return n}function getAttributes(i){return i?Object.assign(Object.assign({},getRoleAttributes(i)),getBaseAttributes(i)):null}function StructTreeItem({className:i,node:n}){const s=reactExports.useMemo(()=>getAttributes(n),[n]),o=reactExports.useMemo(()=>!isStructTreeNode(n)||isStructTreeNodeWithOnlyContentChild(n)?null:n.children.map((c,m)=>React.createElement(StructTreeItem,{key:m,node:c})),[n]);return React.createElement("span",Object.assign({className:i},s),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const i=usePageContext();invariant(i);const{onGetStructTreeError:n,onGetStructTreeSuccess:s}=i,[o,c]=useResolver(),{value:m,error:f}=o,{customTextRenderer:_,page:x}=i;function d(){m&&s&&s(m)}function l(){f&&(warning(!1,f.toString()),n&&n(f))}function h(){c({type:"RESET"})}reactExports.useEffect(h,[c,x]);function y(){if(_||!x)return;const v=makeCancellablePromise(x.getStructTree()),p=v;return v.promise.then(b=>{c({type:"RESOLVE",value:b})}).catch(b=>{c({type:"REJECT",error:b})}),()=>cancelRunningTask(p)}return reactExports.useEffect(y,[_,x,c]),reactExports.useEffect(()=>{if(m!==void 0){if(m===!1){l();return}d()}},[m]),m?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:m}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(i){const n=usePageContext();invariant(n);const s=Object.assign(Object.assign({},n),i),{_className:o,canvasBackground:c,devicePixelRatio:m=getDevicePixelRatio(),onRenderError:f,onRenderSuccess:_,page:x,renderForms:d,renderTextLayer:l,rotate:h,scale:y}=s,{canvasRef:v}=i;invariant(x);const p=reactExports.useRef(null);function b(){x&&_&&_(makePageCallback(x,y))}function C(R){isCancelException(R)||(warning(!1,R.toString()),f&&f(R))}const S=reactExports.useMemo(()=>x.getViewport({scale:y*m,rotation:h}),[m,x,h,y]),D=reactExports.useMemo(()=>x.getViewport({scale:y,rotation:h}),[x,h,y]);function O(){if(!x)return;x.cleanup();const{current:R}=p;if(!R)return;R.width=S.width,R.height=S.height,R.style.width=`${Math.floor(D.width)}px`,R.style.height=`${Math.floor(D.height)}px`,R.style.visibility="hidden";const F={annotationMode:d?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:S};c&&(F.background=c);const G=x.render(F),$=G;return G.promise.then(()=>{R.style.visibility="",b()}).catch(C),()=>cancelRunningTask($)}reactExports.useEffect(O,[c,p,m,x,d,S,D]);const I=reactExports.useCallback(()=>{const{current:R}=p;R&&(R.width=0,R.height=0)},[p]);return reactExports.useEffect(()=>I,[I]),React.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(v,p),style:{display:"block",userSelect:"none"}},l?React.createElement(StructTree,null):null)}function PageSVG(){const i=usePageContext();invariant(i);const{_className:n,onRenderSuccess:s,onRenderError:o,page:c,rotate:m,scale:f}=i;invariant(c);const[_,x]=useResolver(),{value:d,error:l}=_;function h(){c&&s&&s(makePageCallback(c,f))}function y(){l&&(isCancelException(l)||(warning(!1,l.toString()),o&&o(l)))}const v=reactExports.useMemo(()=>c.getViewport({scale:f,rotation:m}),[c,m,f]);function p(){x({type:"RESET"})}reactExports.useEffect(p,[c,x,v]);function b(){if(!c)return;const O=makeCancellablePromise(c.getOperatorList());return O.promise.then(I=>{new pdfjs.SVGGraphics(c.commonObjs,c.objs).getSVG(I,v).then(F=>{if(!(F instanceof SVGElement))throw new Error("getSVG returned unexpected result.");x({type:"RESOLVE",value:F})}).catch(F=>{x({type:"REJECT",error:F})})}).catch(I=>{x({type:"REJECT",error:I})}),()=>cancelRunningTask(O)}reactExports.useEffect(b,[c,x,v]),reactExports.useEffect(()=>{if(d!==void 0){if(d===!1){y();return}h()}},[d]);function C(O){if(!O||!d)return;O.firstElementChild||O.appendChild(d);const{width:I,height:R}=v;d.setAttribute("width",`${I}`),d.setAttribute("height",`${R}`)}const{width:S,height:D}=v;return React.createElement("div",{className:`${n}__svg`,ref:O=>C(O),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:S,height:D,userSelect:"none"}})}function isTextItem(i){return"str"in i}function TextLayer(){const i=usePageContext();invariant(i);const{customTextRenderer:n,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:c,onRenderTextLayerSuccess:m,page:f,pageIndex:_,pageNumber:x,rotate:d,scale:l}=i;invariant(f);const[h,y]=useResolver(),{value:v,error:p}=h,b=reactExports.useRef(null),C=reactExports.useRef();warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){v&&o&&o(v)}function D(){p&&(warning(!1,p.toString()),s&&s(p))}function O(){y({type:"RESET"})}reactExports.useEffect(O,[f,y]);function I(){if(!f)return;const J=makeCancellablePromise(f.getTextContent()),me=J;return J.promise.then(he=>{y({type:"RESOLVE",value:he})}).catch(he=>{y({type:"REJECT",error:he})}),()=>cancelRunningTask(me)}reactExports.useEffect(I,[f,y]),reactExports.useEffect(()=>{if(v!==void 0){if(v===!1){D();return}S()}},[v]);const R=reactExports.useCallback(()=>{m&&m()},[m]),F=reactExports.useCallback(J=>{warning(!1,J.toString()),c&&c(J)},[c]);function G(){const J=C.current;J&&J.classList.add("active")}function $(){const J=C.current;J&&J.classList.remove("active")}const q=reactExports.useMemo(()=>f.getViewport({scale:l,rotation:d}),[f,d,l]);function ee(){if(!f||!v)return;const{current:J}=b;if(!J)return;J.innerHTML="";const me=f.streamTextContent({includeMarkedContent:!0}),he={container:J,textContentSource:me,viewport:q},fe=pdfjs.renderTextLayer(he),ve=fe;return fe.promise.then(()=>{const ce=document.createElement("div");ce.className="endOfContent",J.append(ce),C.current=ce;const z=J.querySelectorAll('[role="presentation"]');if(n){let k=0;v.items.forEach((P,T)=>{if(!isTextItem(P))return;const w=z[k];if(!w)return;const j=n(Object.assign({pageIndex:_,pageNumber:x,itemIndex:T},P));w.innerHTML=j,k+=P.str&&P.hasEOL?2:1})}R()}).catch(F),()=>cancelRunningTask(ve)}return reactExports.useLayoutEffect(ee,[n,F,R,f,_,x,v,q]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:$,onMouseDown:G,ref:b})}function AnnotationLayer(){const i=useDocumentContext(),n=usePageContext();invariant(n);const s=Object.assign(Object.assign({},i),n),{imageResourcesPath:o,linkService:c,onGetAnnotationsError:m,onGetAnnotationsSuccess:f,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:x,page:d,pdf:l,renderForms:h,rotate:y,scale:v=1}=s;invariant(l),invariant(d),invariant(c);const[p,b]=useResolver(),{value:C,error:S}=p,D=reactExports.useRef(null);warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){C&&f&&f(C)}function I(){S&&(warning(!1,S.toString()),m&&m(S))}function R(){b({type:"RESET"})}reactExports.useEffect(R,[b,d]);function F(){if(!d)return;const J=makeCancellablePromise(d.getAnnotations()),me=J;return J.promise.then(he=>{b({type:"RESOLVE",value:he})}).catch(he=>{b({type:"REJECT",error:he})}),()=>{cancelRunningTask(me)}}reactExports.useEffect(F,[b,d,h]),reactExports.useEffect(()=>{if(C!==void 0){if(C===!1){I();return}O()}},[C]);function G(){x&&x()}function $(J){warning(!1,`${J}`),_&&_(J)}const q=reactExports.useMemo(()=>d.getViewport({scale:v,rotation:y}),[d,y,v]);function ee(){if(!l||!d||!c||!C)return;const{current:J}=D;if(!J)return;const me=q.clone({dontFlip:!0}),he={accessibilityManager:null,annotationCanvasMap:null,div:J,l10n:null,page:d,viewport:me},fe={annotations:C,annotationStorage:l.annotationStorage,div:J,downloadManager:null,imageResourcesPath:o,linkService:c,page:d,renderForms:h,viewport:me};J.innerHTML="";try{new pdfjs.AnnotationLayer(he).render(fe),G()}catch(ve){$(ve)}return()=>{}}return reactExports.useEffect(ee,[C,o,c,d,h,q]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:D})}var __rest=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};const defaultScale=1,Page=function i(n){const s=useDocumentContext(),o=Object.assign(Object.assign({},s),n),{_className:c="react-pdf__Page",_enableRegisterUnregisterPage:m=!0,canvasBackground:f,canvasRef:_,children:x,className:d,customRenderer:l,customTextRenderer:h,devicePixelRatio:y,error:v="Failed to load the page.",height:p,inputRef:b,loading:C="Loading page",noData:S="No page specified.",onGetAnnotationsError:D,onGetAnnotationsSuccess:O,onGetStructTreeError:I,onGetStructTreeSuccess:R,onGetTextError:F,onGetTextSuccess:G,onLoadError:$,onLoadSuccess:q,onRenderAnnotationLayerError:ee,onRenderAnnotationLayerSuccess:J,onRenderError:me,onRenderSuccess:he,onRenderTextLayerError:fe,onRenderTextLayerSuccess:ve,pageIndex:ce,pageNumber:z,pdf:k,registerPage:P,renderAnnotationLayer:T=!0,renderForms:w=!1,renderMode:j="canvas",renderTextLayer:U=!0,rotate:H,scale:V=defaultScale,unregisterPage:E,width:M}=o,L=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[B,W]=useResolver(),{value:K,error:Q}=B,oe=reactExports.useRef(null);invariant(k);const xe=isProvided(z)?z-1:ce??null,se=z??(isProvided(ce)?ce+1:null),le=H??(K?K.rotate:null),ue=reactExports.useMemo(()=>{if(!K)return null;let $t=1;const pn=V??defaultScale;if(M||p){const ye=K.getViewport({scale:1,rotation:le});M?$t=M/ye.width:p&&($t=p/ye.height)}return pn*$t},[p,K,le,V,M]);function pe(){return()=>{isProvided(xe)&&m&&E&&E(xe)}}reactExports.useEffect(pe,[m,k,xe,E]);function ge(){if(q){if(!K||!ue)return;q(makePageCallback(K,ue))}if(m&&P){if(!isProvided(xe)||!oe.current)return;P(xe,oe.current)}}function be(){Q&&(warning(!1,Q.toString()),$&&$(Q))}function Pe(){W({type:"RESET"})}reactExports.useEffect(Pe,[W,k,xe]);function De(){if(!k||!se)return;const $t=makeCancellablePromise(k.getPage(se)),pn=$t;return $t.promise.then(ye=>{W({type:"RESOLVE",value:ye})}).catch(ye=>{W({type:"REJECT",error:ye})}),()=>cancelRunningTask(pn)}reactExports.useEffect(De,[W,k,xe,se,P]),reactExports.useEffect(()=>{if(K!==void 0){if(K===!1){be();return}ge()}},[K,ue]);const Ie=reactExports.useMemo(()=>K&&isProvided(xe)&&se&&isProvided(le)&&isProvided(ue)?{_className:c,canvasBackground:f,customTextRenderer:h,devicePixelRatio:y,onGetAnnotationsError:D,onGetAnnotationsSuccess:O,onGetStructTreeError:I,onGetStructTreeSuccess:R,onGetTextError:F,onGetTextSuccess:G,onRenderAnnotationLayerError:ee,onRenderAnnotationLayerSuccess:J,onRenderError:me,onRenderSuccess:he,onRenderTextLayerError:fe,onRenderTextLayerSuccess:ve,page:K,pageIndex:xe,pageNumber:se,renderForms:w,renderTextLayer:U,rotate:le,scale:ue}:null,[c,f,h,y,D,O,I,R,F,G,ee,J,me,he,fe,ve,K,xe,se,w,U,le,ue]),Ne=reactExports.useMemo(()=>makeEventProps(L,()=>K&&(ue?makePageCallback(K,ue):void 0)),[L,K,ue]),je=`${xe}@${ue}/${le}`,at=`${xe}/${le}`;function Qe(){switch(j){case"custom":return invariant(l),React.createElement(l,{key:`${je}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${at}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${je}_canvas`,canvasRef:_})}}function Tt(){return U?React.createElement(TextLayer,{key:`${je}_text`}):null}function nt(){return T?React.createElement(AnnotationLayer,{key:`${je}_annotations`}):null}function dt(){return React.createElement(PageContext.Provider,{value:Ie},Qe(),Tt(),nt(),x)}function Vt(){return se?k===null||K===void 0||K===null?React.createElement(Message,{type:"loading"},typeof C=="function"?C():C):k===!1||K===!1?React.createElement(Message,{type:"error"},typeof v=="function"?v():v):dt():React.createElement(Message,{type:"no-data"},typeof S=="function"?S():S)}return React.createElement("div",Object.assign({className:clsx(c,d),"data-page-number":se,ref:mergeRefs(b,oe),style:{"--scale-factor":`${ue}`,backgroundColor:f||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ne),Vt())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;const PDF_STYLES=`
.react-pdf__Page__canvas {
    display: block;
    user-select: none;
    pointer-events: none;
    width: 100% !important; 
    height: auto !important;
}
.react-pdf__Page__textContent, 
.react-pdf__Page__annotations {
    display: none !important;
}
.pdf-container::-webkit-scrollbar {
    display: none;
}
.pdf-container {
    scrollbar-width: none;
}
`,GlassButton=({onClick:i,disabled:n,children:s,className:o="",title:c})=>jsxRuntimeExports.jsx("button",{onClick:i,disabled:n,title:c,className:`p-2 lg:p-3 rounded-full bg-white/60 backdrop-blur-md border border-white/50 shadow-sm text-neutral-700 hover:bg-white hover:scale-105 hover:shadow-md active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center z-50 ${o}`,children:s}),SmartPage=({pageNumber:i,width:n,targetScale:s,direction:o})=>{const[c,m]=reactExports.useState("A"),[f,_]=reactExports.useState({page:i,scale:s}),[x,d]=reactExports.useState({page:i,scale:s}),l=reactExports.useRef(!1);reactExports.useEffect(()=>{const v=c==="A"?f:x;(i!==v.page||s!==v.scale)&&(l.current=!0,c==="A"?d({page:i,scale:s}):_({page:i,scale:s}))},[i,s,c,f,x]);const h=reactExports.useCallback(()=>{l.current&&(c==="A"&&x.page===i&&x.scale===s?(m("B"),l.current=!1):c==="B"&&f.page===i&&f.scale===s&&(m("A"),l.current=!1))},[c,f,x,i,s]),y=v=>{const p=c===v,b=f.page!==x.page,C={position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",transition:"opacity 0.5s ease-out, transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)",willChange:"opacity, transform",zIndex:p?10:1,opacity:p?1:0};return p?{...C,transform:"translateX(0px)"}:b?{...C,transform:`translateX(${o===1?"50px":"-50px"})`}:{...C,transform:"translateX(0px)"}};return jsxRuntimeExports.jsxs("div",{className:"relative bg-white shadow-sm overflow-hidden",style:{width:n,minHeight:n*1.414},children:[jsxRuntimeExports.jsx("div",{style:y("A"),children:jsxRuntimeExports.jsx(Page,{pageNumber:f.page,width:n,scale:f.scale,onRenderSuccess:h,loading:null,renderTextLayer:!1,renderAnnotationLayer:!1})}),jsxRuntimeExports.jsx("div",{style:y("B"),children:jsxRuntimeExports.jsx(Page,{pageNumber:x.page,width:n,scale:x.scale,onRenderSuccess:h,loading:null,renderTextLayer:!1,renderAnnotationLayer:!1})})]})},PDFViewer=({pdfUrl:i})=>{reactExports.useEffect(()=>{const E=document.createElement("style");return E.innerText=PDF_STYLES,document.head.appendChild(E),()=>{document.head.removeChild(E)}},[]);const n=reactExports.useRef(null),[s,o]=reactExports.useState(null),[c,m]=reactExports.useState(0),f=()=>typeof window<"u"?window.devicePixelRatio:1,[_,x]=reactExports.useState(1),[d,l]=reactExports.useState(f()*2),[h,y]=reactExports.useState({x:0,y:0}),[v,p]=reactExports.useState(!1),[b,C]=reactExports.useState(!1),[S,D]=reactExports.useState(!0),[O,I]=reactExports.useState(!1),[R,F]=reactExports.useState(!1),[G,$]=reactExports.useState(1),q=reactExports.useRef({x:0,y:0}),ee=reactExports.useRef(null);reactExports.useEffect(()=>{const E=()=>{const M=window.innerWidth<768;I(M),M&&D(!1)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const J=E=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{const M=f(),L=E*M;(L>d||L<d/2)&&l(Math.max(L*1.2,M))},600)},me=reactExports.useCallback(E=>{if(!E.ctrlKey)return;E.preventDefault(),E.stopPropagation();const M=n.current;if(!M)return;const L=M.getBoundingClientRect(),B=E.clientX-L.left,W=E.clientY-L.top,K=-(E.deltaY*.002),Q=Math.min(Math.max(_+K*_,.5),4),oe=(B-h.x-L.width/2)/_,xe=(W-h.y-L.height/2)/_,se=B-oe*Q-L.width/2,le=W-xe*Q-L.height/2;x(Q),y({x:se,y:le}),J(Q)},[_,h,d]);reactExports.useEffect(()=>{const E=n.current;if(E)return E.addEventListener("wheel",me,{passive:!1}),()=>E.removeEventListener("wheel",me)},[me]);const he=E=>{F(!0),q.current={x:E.clientX-h.x,y:E.clientY-h.y}},fe=E=>{R&&(E.preventDefault(),y({x:E.clientX-q.current.x,y:E.clientY-q.current.y}))},ve=()=>F(!1),ce=()=>{x(1),y({x:0,y:0}),l(f()*2)},z=async()=>{v?(document.exitFullscreen?.(),p(!1)):(n.current?.requestFullscreen?.(),p(!0)),setTimeout(ce,100)},k=reactExports.useMemo(()=>s?O?s-1:Math.ceil((s-1)/2):0,[s,O]),P=()=>{c<k&&($(1),m(E=>E+1),ce())},T=()=>{c>0&&($(-1),m(E=>E-1),ce())};reactExports.useEffect(()=>{const E=M=>{b||(M.key==="ArrowRight"&&P(),M.key==="ArrowLeft"&&T())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[c,s,b]);const w=reactExports.useMemo(()=>{if(!s)return[];if(O)return[c+1];if(c===0)return[1];const E=c*2,M=E+1;return M<=s?[E,M]:[E]},[c,s,O]),H=(n.current?.offsetWidth||1e3)-(v?0:32),V=reactExports.useMemo(()=>O?H:c===0&&!O||w.length===2?(H-20)/2:H,[H,O,c,w]);return jsxRuntimeExports.jsxs("div",{ref:n,className:`flex flex-col bg-[#f0f0f0] overflow-hidden relative transition-all duration-500 font-sans pdf-container ${v?"fixed inset-0 z-[10000] h-screen w-screen":"w-full rounded-[20px] shadow-xl border border-white/50"}`,style:{height:v?"100vh":O?"65vh":"1000px",backgroundImage:"radial-gradient(circle at 50% 50%, #ffffff 0%, #e5e5e5 100%)",cursor:R?"grabbing":"grab"},onMouseDown:he,onMouseMove:fe,onMouseUp:ve,onMouseLeave:ve,children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between z-20 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:`transition-opacity duration-300 ${S?"opacity-100":"opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:"bg-white/90 backdrop-blur border border-black/5 px-4 py-2 rounded-full shadow-sm pointer-events-auto flex items-center gap-3",children:[jsxRuntimeExports.jsx(BookOpen,{size:16,className:"text-neutral-700"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm text-neutral-800 hidden sm:inline",children:"PDF Viewer"}),jsxRuntimeExports.jsx("div",{className:"w-px h-4 bg-neutral-300"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-neutral-500 font-mono",children:[w.length>1?`${w[0]}-${w[1]}`:w[0]||1," / ",s||"-"]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[jsxRuntimeExports.jsxs("div",{className:`flex gap-2 transition-all duration-300 ${S?"opacity-100":"opacity-0 pointer-events-none"}`,children:[jsxRuntimeExports.jsx(GlassButton,{onClick:()=>C(!0),children:jsxRuntimeExports.jsx(Grid3x3,{size:18})}),jsxRuntimeExports.jsx(GlassButton,{onClick:z,children:v?jsxRuntimeExports.jsx(Minimize,{size:18}):jsxRuntimeExports.jsx(Maximize,{size:18})})]}),jsxRuntimeExports.jsx(GlassButton,{onClick:()=>D(!S),className:S?"":"bg-white/80",children:S?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center w-full h-full",children:[s&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 z-30 transition-all ${c>0?"opacity-100":"opacity-0 pointer-events-none"}`,children:jsxRuntimeExports.jsx(GlassButton,{onClick:E=>{E.stopPropagation(),T()},className:"w-14 h-14 p-0 rounded-full hover:scale-110",children:jsxRuntimeExports.jsx(ChevronLeft,{size:32})})}),jsxRuntimeExports.jsx("div",{className:`absolute right-4 top-1/2 -translate-y-1/2 z-30 transition-all ${c<k?"opacity-100":"opacity-0 pointer-events-none"}`,children:jsxRuntimeExports.jsx(GlassButton,{onClick:E=>{E.stopPropagation(),P()},className:"w-14 h-14 p-0 rounded-full hover:scale-110",children:jsxRuntimeExports.jsx(ChevronRight,{size:32})})})]}),jsxRuntimeExports.jsx(motion.div,{className:"flex shadow-2xl origin-center will-change-transform",style:{x:h.x,y:h.y,scale:_},transition:{duration:R?0:.3,ease:"easeOut"},children:jsxRuntimeExports.jsxs(Document,{file:i,onLoadSuccess:({numPages:E})=>o(E),loading:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 p-10",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-neutral-300 border-t-black animate-spin"})}),className:"flex justify-center gap-2",children:[w[0]&&jsxRuntimeExports.jsx(SmartPage,{pageNumber:w[0],width:V,targetScale:d,direction:G},"slot-1"),!O&&w[1]&&jsxRuntimeExports.jsx(SmartPage,{pageNumber:w[1],width:V,targetScale:d,direction:G},"slot-2")]})})]}),jsxRuntimeExports.jsx("div",{className:`absolute bottom-6 w-full flex justify-center pointer-events-none z-20 transition-opacity duration-300 ${S?"opacity-100":"opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-white/50 p-2 rounded-full shadow-lg flex items-center gap-4 pointer-events-auto",children:[jsxRuntimeExports.jsx(GlassButton,{onClick:T,disabled:c===0,children:jsxRuntimeExports.jsx(ChevronLeft,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-center px-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const E=Math.max(.5,_-.5);x(E),J(E)},className:"p-2 hover:bg-black/5 rounded-full",children:jsxRuntimeExports.jsx(ZoomOut,{size:16})}),jsxRuntimeExports.jsxs("span",{className:"w-12 text-center text-xs font-bold font-mono text-neutral-600",children:[Math.round(_*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:()=>{const E=Math.min(4,_+.5);x(E),J(E)},className:"p-2 hover:bg-black/5 rounded-full",children:jsxRuntimeExports.jsx(ZoomIn,{size:16})})]}),jsxRuntimeExports.jsx(GlassButton,{onClick:P,disabled:c===k,children:jsxRuntimeExports.jsx(ChevronRight,{size:20})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:b&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-[#f5f5f5]/95 backdrop-blur z-50 flex flex-col p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-light",children:"Pages Overview"}),jsxRuntimeExports.jsx("button",{onClick:()=>C(!1),className:"p-2 bg-white rounded-full hover:shadow-md transition-all",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto flex-1 pb-10",children:jsxRuntimeExports.jsx(Document,{file:i,className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-6",children:Array.from(new Array(s),(E,M)=>jsxRuntimeExports.jsxs("div",{className:"cursor-pointer group relative",onClick:()=>{m(O?M:M===0?0:Math.ceil(M/2)),C(!1)},children:[jsxRuntimeExports.jsx("div",{className:"rounded-lg overflow-hidden shadow-sm group-hover:shadow-xl group-hover:scale-105 transition-all border border-black/5 bg-white",children:jsxRuntimeExports.jsx(Page,{pageNumber:M+1,width:200,renderMode:"canvas",renderTextLayer:!1,renderAnnotationLayer:!1})}),jsxRuntimeExports.jsx("div",{className:"text-center mt-2 text-xs font-mono text-neutral-500",children:M+1})]},`thumb-${M+1}`))})})]})})]})},GLOBAL_STYLES=`
.ios-safearea-overlay {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: env(safe-area-inset-bottom);
    background: #fff;
    z-index: 999999;
    pointer-events: none;
}
@font-face {
    font-family: 'Poppins';
    src: url('/fonts/Poppins-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
}
.font-poppins {
    font-family: 'Poppins', sans-serif;
}

/* Tailwind Base Reset */
*, ::before, ::after { box-sizing: border-box; border-width: 0; border-style: solid; border-color: #e5e7eb; }

/*   */
* {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
}

input, textarea {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

html { 
    line-height: 1.5; 
    -webkit-text-size-adjust: 100%; 
    tab-size: 4; 
    font-family: 'Funnel Display', sans-serif;
}
body { margin: 0; line-height: inherit; }

/* 1.     */
html {
  scrollbar-width: none;
  -ms-overflow-style: none;
  overflow-y: scroll;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
html::-webkit-scrollbar { 
    width: 0px;
    height: 0px;
    background: transparent;
    display: none;
}
body::-webkit-scrollbar {
    display: none;
}

html, body {
  font-family: 'Funnel Display', -apple-system, BlinkMacSystemFont, sans-serif !important;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/*   */
*, button, input, textarea, select, a {
  font-family: inherit !important;
}
motion, .motion, [data-motion] {
  font-family: inherit !important;
}

/*   */
body.scroll-locked {
    overflow: hidden !important;
    touch-action: none;
    width: 100%;
}

html.is-animating body { opacity: 0; }
html.is-visited body { opacity: 1; transition: opacity 0.5s ease; }

.masonry-item {
  will-change: transform, opacity;
  backface-visibility: hidden;
}

img {
    pointer-events: auto;
    -webkit-user-drag: none;
    user-drag: none;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
`,useScrollLock=i=>{reactExports.useLayoutEffect(()=>{if(!i)return;const n=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${n}px`,document.body.style.width="40%",document.body.classList.add("scroll-locked"),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.classList.remove("scroll-locked"),window.scrollTo(0,n)}},[i])},useContentProtection=()=>{reactExports.useEffect(()=>{const i=o=>(o.preventDefault(),!1),n=o=>(o.preventDefault(),!1),s=o=>{if(o.key==="F12"&&o.preventDefault(),o.ctrlKey||o.metaKey)switch(o.key.toLowerCase()){case"c":case"s":case"u":case"p":case"i":o.preventDefault(),o.stopPropagation();break}(o.ctrlKey||o.metaKey)&&o.shiftKey&&["i","j","c"].includes(o.key.toLowerCase())&&o.preventDefault()};return document.addEventListener("contextmenu",i),document.addEventListener("dragstart",n),document.addEventListener("keydown",s),()=>{document.removeEventListener("contextmenu",i),document.removeEventListener("dragstart",n),document.removeEventListener("keydown",s)}},[])},useIntroAnimation=()=>{reactExports.useEffect(()=>{sessionStorage.getItem("has_visited_site")?document.documentElement.classList.add("is-visited"):(document.documentElement.classList.add("is-animating"),setTimeout(()=>{document.documentElement.classList.add("is-visited"),document.documentElement.classList.remove("is-animating")},100),sessionStorage.setItem("has_visited_site","true"))},[])},useIsMobile=()=>{const[i,n]=reactExports.useState(!1);return reactExports.useEffect(()=>{const s=()=>n(window.innerWidth<=1024);return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i},easeOutCubic=i=>1-Math.pow(1-i,3),smoothScrollToTop=(i=900)=>{const n=window.scrollY,s=performance.now(),o=c=>{const m=c-s,f=Math.min(m/i,1),_=easeOutCubic(f);window.scrollTo(0,n*(1-_)),f<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},ScrollToTop=()=>{const[i,n]=reactExports.useState(!1);return reactExports.useEffect(()=>{const s=()=>n(window.scrollY>300);return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.button,{onClick:()=>smoothScrollToTop(800),initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},whileTap:{scale:.8},whileHover:{scale:1.1},transition:{type:"spring",stiffness:300,damping:20},className:`\r
            fixed bottom-10 right-10 z-[10005]\r
            w-[52px] h-[52px]\r
            rounded-full\r
            flex items-center justify-center\r
            backdrop-blur-[10px]\r
            bg-white/40\r
            border border-white/40\r
            shadow-lg\r
            hover:bg-white/60\r
          `,children:jsxRuntimeExports.jsx(ArrowUp,{size:24,className:"text-black/80"})})})},Path=i=>jsxRuntimeExports.jsx(motion.path,{fill:"transparent",strokeWidth:"3",stroke:"black",strokeLinecap:"round",...i}),MenuToggle=({toggle:i,isOpen:n})=>jsxRuntimeExports.jsx("button",{onClick:i,className:"outline-none border-none cursor-pointer bg-transparent p-2 z-[10002] relative flex items-center justify-center",children:jsxRuntimeExports.jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",children:[jsxRuntimeExports.jsx(Path,{variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}},animate:n?"open":"closed"}),jsxRuntimeExports.jsx(Path,{d:"M 2 9.423 L 20 9.423",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1},animate:n?"open":"closed"}),jsxRuntimeExports.jsx(Path,{variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}},animate:n?"open":"closed"})]})}),MobileMenuOverlay=({isOpen:i,onClose:n,navigate:s,currentPage:o})=>{useScrollLock(i);const c=[{label:"Work",href:"home"},{label:"Reel",href:"reel"},{label:"Play",href:"play"},{label:"About",href:"info"}],m={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3}}};return jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.nav,{initial:"hidden",animate:"visible",exit:"exit",variants:m,className:"fixed inset-0 top-0 left-0 w-full h-[100dvh] flex flex-col items-center justify-center z-[9999]",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",touchAction:"none"},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-6",children:c.map((f,_)=>{const x=o===f.href;return jsxRuntimeExports.jsx(motion.a,{onClick:()=>{n(),s(f.href)},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05+_*.05,duration:.2,ease:"easeOut"},className:`text-[30px] no-underline cursor-pointer leading-tight transition-colors duration-300 ${x?"text-black font-normal":"text-[#777] font-[250]"}`,style:{fontFamily:"'Funnel Display', sans-serif"},children:f.label},f.label)})})})})},ImageModalOverlay=({src:i,onClose:n})=>{const s=useIsMobile();useScrollLock(!!i&&s);const o=reactExports.useMemo(()=>i?.toLowerCase().endsWith(".mp4"),[i]);return jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 z-[10000] flex items-center justify-center",onClick:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},style:{backgroundColor:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},children:jsxRuntimeExports.jsx(motion.div,{className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",initial:{scale:.3,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.1,opacity:0},transition:{duration:.3,ease:"easeOut"},onClick:c=>c.stopPropagation(),children:o?jsxRuntimeExports.jsx("video",{src:i,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onClick:n,className:"max-w-full max-h-[85vh] object-contain rounded-xl shadow-2xl cursor-pointer hover:opacity-95 transition-opacity"}):jsxRuntimeExports.jsx("img",{src:i,alt:"Full size",className:"max-w-full max-h-[85vh] object-contain rounded-xl shadow-2xl cursor-pointer hover:opacity-95 transition-opacity",onClick:n})})})})},Header=({currentPage:i,navigate:n,isMenuOpen:s,onToggleMenu:o})=>{const[c,m]=reactExports.useState(!1);reactExports.useEffect(()=>{setTimeout(()=>m(!0),500)},[]);const f=x=>{s&&o(),n(x)},_=x=>`text-[22px] text-[#777] font-normal relative transition-colors duration-300 hover:text-black hover:-translate-y-1.5 inline-block transform transition-transform cursor-pointer 
    after:content-[''] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-black after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left
    ${i===x?"text-black":""}`;return jsxRuntimeExports.jsx("header",{className:`relative w-full pt-[40px] pb-[10px] bg-transparent z-[10001] transition-all duration-[1500ms] ease-[cubic-bezier(0.19,1,0.22,1)] ${c?"opacity-100 translate-y-0":"opacity-5 -translate-y-[120px]"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between max-w-[1440px] mx-auto px-5 lg:px-10 relative",children:[jsxRuntimeExports.jsx("div",{className:"block transition-transform duration-300 ease-in-out hover:-translate-y-1.5 z-[10002] relative",children:jsxRuntimeExports.jsx("a",{onClick:()=>f("home"),className:"cursor-pointer block",children:jsxRuntimeExports.jsx("img",{src:"img/logo.svg",alt:"Logo",className:"h-[75px] w-auto block",onError:x=>x.currentTarget.src=""})})}),jsxRuntimeExports.jsx("nav",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs("ul",{className:"flex gap-8 list-none m-0 p-0",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("home"),className:_("home"),children:"Work"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("reel"),className:_("reel"),children:"Reel"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("play"),className:_("play"),children:"Play"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("info"),className:_("info"),children:"About"})})]})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden z-[10002]",children:jsxRuntimeExports.jsx(MenuToggle,{toggle:o,isOpen:s})})]})})},Footer=({forceVisible:i=!1})=>{const n=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end mb-[15px] gap-1 lg:gap-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-[25px]",children:[jsxRuntimeExports.jsx("a",{href:"https://www.behance.net/f1nal",target:"_blank",rel:"noreferrer",className:"text-[20px] text-black relative pb-0.5 transition-all duration-300 hover:-translate-y-1.5 inline-block",children:"Behance"}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/f1nal",target:"_blank",rel:"noreferrer",className:"text-[20px] text-black relative pb-0.5 transition-all duration-300 hover:-translate-y-1.5 inline-block",children:"LinkedIn"}),jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/f1nal0139",target:"_blank",rel:"noreferrer",className:"text-[20px] text-black relative pb-0.5 transition-all duration-300 hover:-translate-y-1.5 inline-block",children:"Instagram"})]}),jsxRuntimeExports.jsx("div",{className:"text-[20px] text-black hover:-translate-y-1.5 transition-transform duration-300",children:jsxRuntimeExports.jsx("a",{href:"mailto:shmarov.oleg@gmail.com",children:"shmarov.oleg@gmail.com"})})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-[1px] bg-black/15 mb-[15px]"}),jsxRuntimeExports.jsx("div",{className:"flex justify-between",children:jsxRuntimeExports.jsx("div",{className:"text-[20px] text-black opacity-50",children:"2025 | Oleg Shmarov"})})]}),s="pt-10 pb-0 overflow-hidden relative";return i?jsxRuntimeExports.jsx("div",{className:s,children:n}):jsxRuntimeExports.jsx(motion.footer,{className:s,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:jsxRuntimeExports.jsx(motion.div,{variants:{hidden:{y:"100%"},visible:{y:"0%",transition:{duration:1,ease:[.22,1,.36,1]}}},children:n})})},VideoPlayer=({src:i,poster:n})=>{const s=reactExports.useRef(null),o=reactExports.useRef(null),[c,m]=reactExports.useState(!1),[f,_]=reactExports.useState(!0),[x,d]=reactExports.useState(0),[l,h]=reactExports.useState(!1);let y=null;const v=()=>{s.current&&(s.current.paused?(s.current.play(),m(!0),clearTimeout(y),y=setTimeout(()=>h(!0),200)):(s.current.pause(),m(!1),h(!1),clearTimeout(y)))},p=I=>{I.stopPropagation(),s.current&&(s.current.muted=!s.current.muted,_(s.current.muted))},b=I=>{I?.stopPropagation(),s.current&&(s.current.webkitEnterFullscreen?s.current.webkitEnterFullscreen():o.current&&(document.fullscreenElement?document.exitFullscreen?.():o.current.requestFullscreen?.()))},C=()=>{s.current&&d(s.current.currentTime/s.current.duration*100||0)},S=I=>{if(I.stopPropagation(),!s.current)return;const R=I.currentTarget.getBoundingClientRect();s.current.currentTime=(I.clientX-R.left)/R.width*s.current.duration},D=()=>{h(!1),c&&(clearTimeout(y),y=setTimeout(()=>h(!0),3e3))},O=reactExports.useMemo(()=>[...Array(12)].map((I,R)=>({id:R,x:(Math.random()-.5)*250,y:(Math.random()-.5)*250,duration:2+Math.random()*1.5,delay:Math.random()*2})),[]);return jsxRuntimeExports.jsxs("div",{className:`group relative w-full aspect-video bg-black rounded-[18px] overflow-hidden shadow-lg cursor-default ${l?"cursor-none":""}`,ref:o,onMouseMove:D,onClick:D,onDoubleClick:()=>b(),children:[jsxRuntimeExports.jsx("video",{ref:s,className:`w-full h-full object-cover block transition-all duration-1000 ${c?"opacity-100 blur-0":"opacity-30 blur-[10px]"}`,playsInline:!0,muted:f,poster:n,onClick:v,onTimeUpdate:C,children:jsxRuntimeExports.jsx("source",{src:i,type:"video/mp4"})}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 flex justify-center items-center bg-black/5 transition-all duration-300 z-10 ${c?"opacity-0 invisible":"opacity-100 visible"}`,onClick:v,children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[O.map(I=>jsxRuntimeExports.jsx(motion.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-0",animate:{x:[0,I.x],y:[0,I.y],opacity:[0,.6,0],scale:[.5,0]},transition:{duration:I.duration,repeat:1/0,delay:I.delay,ease:"easeOut"}},I.id)),[...Array(3)].map((I,R)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute rounded-full border border-white/20",initial:{width:100,height:100,opacity:0},animate:{width:200,height:200,opacity:0},transition:{duration:2,repeat:1/0,delay:R*.6,ease:"easeOut",times:[0,1]},style:{opacity:[.8,0]}},`ring-${R}`))]}),jsxRuntimeExports.jsx("button",{className:"w-[100px] h-[100px] lg:w-[130px] lg:h-[130px] bg-white rounded-full flex items-center justify-center border-none cursor-pointer transition-transform duration-500 hover:scale-105 shadow-[0_0_50px_rgba(255,255,255,0.3)] relative z-20",children:jsxRuntimeExports.jsx("div",{className:"pl-1.5",children:jsxRuntimeExports.jsx(Play,{fill:"black",stroke:"none",size:42})})})]})}),jsxRuntimeExports.jsxs("div",{className:`absolute bottom-0 left-0 w-full px-5 py-4 lg:px-8 lg:py-5 bg-gradient-to-t from-black/90 to-transparent transition-opacity duration-300 flex items-center gap-5 z-20 ${l?"opacity-0":"opacity-100"}`,onClick:I=>I.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"flex-grow h-5 flex items-center cursor-pointer group/seek",onMouseDown:S,children:jsxRuntimeExports.jsx("div",{className:"w-full h-1 bg-white/30 rounded-sm relative transition-all group-hover/seek:h-1.5",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-white rounded-sm relative",style:{width:`${x}%`},children:jsxRuntimeExports.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full scale-0 transition-transform group-hover/seek:scale-100"})})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-white",children:[jsxRuntimeExports.jsx("button",{className:"opacity-80 hover:opacity-100 hover:scale-110 transition-all",onClick:p,children:f?jsxRuntimeExports.jsx(VolumeX,{size:24}):jsxRuntimeExports.jsx(Volume2,{size:24})}),jsxRuntimeExports.jsx("button",{className:"opacity-80 hover:opacity-100 hover:scale-110 transition-all",onClick:I=>b(I),children:jsxRuntimeExports.jsx(Maximize,{size:24})})]})]})]})},ProjectCard=({project:i,navigate:n})=>{const s=reactExports.useRef(null),o=reactExports.useRef(null),[c,m]=reactExports.useState(!1),f=useIsMobile();reactExports.useEffect(()=>{if(!f||!s.current||!o.current)return;const l=new IntersectionObserver(h=>{h.forEach(y=>{y.isIntersecting?(s.current?.play().catch(()=>{}),m(!0)):(s.current?.pause(),m(!1))})},{threshold:.6});return l.observe(o.current),()=>l.disconnect()},[f]);const _=()=>{if(!f&&(m(!0),s.current)){s.current.currentTime=0;const l=s.current.play();l!==void 0&&l.catch(()=>{})}},x=()=>{f||(m(!1),s.current&&(s.current.pause(),s.current.currentTime=0))},d=l=>{i.isExternal||(l.preventDefault(),n(i.link))};return jsxRuntimeExports.jsx("a",{href:i.isExternal?i.link:void 0,onClick:d,className:"block w-full h-full",children:jsxRuntimeExports.jsxs("div",{ref:o,className:"relative w-full rounded-[18px] overflow-hidden bg-black cursor-pointer group shadow-lg transform-gpu",style:{minHeight:"380px"},onMouseEnter:_,onMouseLeave:x,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0",children:jsxRuntimeExports.jsx("img",{src:i.img,alt:"",className:"w-full h-full object-cover block opacity-100",loading:"lazy"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-10 transition-opacity duration-500 ease-in-out",style:{opacity:c?1:0},children:jsxRuntimeExports.jsx("video",{ref:s,playsInline:!0,loop:!0,muted:!0,preload:"auto",className:"w-full h-full object-cover block",children:jsxRuntimeExports.jsx("source",{src:i.video,type:"video/mp4"})})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-20 transition-opacity duration-200 ease-in-out",style:{opacity:c?0:1},children:jsxRuntimeExports.jsx("img",{src:i.img,alt:i.title,className:"w-full h-full object-cover block",loading:"lazy",onError:l=>l.currentTarget.style.display="none"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-[25] bg-black/30 transition-opacity duration-500 pointer-events-none lg:opacity-0 lg:group-hover:opacity-100"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 p-8 z-30 text-white pointer-events-none transition-opacity duration-500 lg:opacity-0 lg:group-hover:opacity-100",children:[jsxRuntimeExports.jsx("h3",{className:"text-[32px] lg:text-[32px] font-bold leading-none mb-1 drop-shadow-md",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-[20px] opacity-70 font-normal drop-shadow-md",children:i.category})]})]})})},WorkPage=({navigate:i})=>{const n=reactExports.useRef(null),s=[{id:1,title:"Elf Bar",category:"Personal",video:"vid/elf_preview.mp4",img:"img/preview1.png",link:"elfbar"},{id:2,title:"Football Dynamics",category:"Personal",video:"https://vpolitov.com/wp-content/uploads/2025/02/FD_thumbnail_01.mp4",img:"https://vpolitov.com/wp-content/uploads/2025/01/fd_thumbnail_01.png",link:"football-dynamics"},{id:3,title:"Puma Running AW24",category:"Inertia Studios",video:"https://vpolitov.com/wp-content/uploads/2025/02/Puma_thumbnail_01.mp4",img:"https://vpolitov.com/wp-content/uploads/2025/01/magmax_thumbnail.png",link:"puma-magmax"},{id:4,title:"SBER Creative Frame",category:"Combine",video:"https://vpolitov.com/wp-content/uploads/2025/03/SBER_CF_1-2.mp4",img:"https://vpolitov.com/wp-content/uploads/2025/03/SB_thumbnail_03.png",link:"sber-creative-frame"}],[o,c]=reactExports.useState(s);reactExports.useEffect(()=>{let f=!0;const _=async d=>{const l=`project_${d}.html`;try{const h=await fetch(l);if(h.ok){const y=await h.text(),p=new DOMParser().parseFromString(y,"text/html"),b=p.querySelector('meta[name="category"]');if(!b)return null;const C=p.title||`Project ${d}`,S=b.getAttribute("content")||"Work";return{id:`auto-${d}`,title:C,category:S,img:`img/project_${d}.jpg`,video:`vid/project_${d}.mp4`,link:l,isExternal:!0}}}catch{}return null};return(async()=>{for(let l=5;l<=15&&f;l++){const h=await _(l);if(h)c(y=>y.some(v=>v.id===h.id)?y:[...y,h]),await new Promise(y=>setTimeout(y,200));else break}})(),()=>{f=!1}},[]);const m=reactExports.useCallback(()=>{window.requestAnimationFrame(()=>{if(!n.current)return;const f=window.innerWidth>1024,_=Array.from(n.current.children);let x=0,d=0;const l=22,h=(n.current.offsetWidth-l)/2;_.forEach(y=>{f?(y.style.width=`${h}px`,y.style.position="absolute",x<=d?(y.style.left="0px",y.style.top=`${x}px`,x+=y.offsetHeight+l):(y.style.left=`${h+l}px`,y.style.top=`${d}px`,d+=y.offsetHeight+l)):(y.style.position="relative",y.style.top="auto",y.style.left="auto",y.style.width="100%")}),f?n.current.style.height=`${Math.max(x,d)}px`:n.current.style.height="auto"})},[]);return reactExports.useLayoutEffect(()=>{m(),window.addEventListener("resize",m);const f=document.querySelectorAll(".masonry-item img");if(f.length===0)m();else{let _=0;const x=()=>{_++,_>=f.length&&m()};f.forEach(d=>{d.complete?x():(d.addEventListener("load",x),d.addEventListener("error",x))})}return()=>window.removeEventListener("resize",m)},[o,m]),jsxRuntimeExports.jsxs("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:[jsxRuntimeExports.jsx("div",{className:"relative w-full mb-[60px]",ref:n,children:jsxRuntimeExports.jsx(AnimatePresence,{children:o.map((f,_)=>jsxRuntimeExports.jsx(motion.div,{className:"masonry-item lg:absolute w-full lg:w-[calc(50%-11px)] mb-6 lg:mb-0",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.2+_*.15},whileHover:{scale:1.02,transition:{duration:.4}},children:jsxRuntimeExports.jsx(ProjectCard,{project:f,navigate:i})},f.id))})}),jsxRuntimeExports.jsx(Footer,{})]})},FilterButton=({active:i,onClick:n,label:s,icon:o})=>jsxRuntimeExports.jsxs(motion.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`
                relative flex items-center 
                gap-1.5 lg:gap-2               
                px-3 py-1.5 lg:px-4 lg:py-2    
                rounded-full 
                transition-all duration-300 backdrop-blur-md shadow-lg
                border
                ${i?"bg-black/100 border-white/50 text-white shadow-[(0,1,0,1.1)]":"bg-black/2 border-black/1 text-neutral-500 hover:bg-white/50 hover:shadow-[0_4px_20px_rgba(0,0,0,0.1)]"}
            `,children:[jsxRuntimeExports.jsx(o,{className:"w-[14px] h-[14px] lg:w-[18px] lg:h-[18px]",strokeWidth:2}),jsxRuntimeExports.jsx("span",{className:"font-medium text-xs lg:text-sm leading-none pt-[1px]",children:s})]}),PlayPage=({onOpenImage:i})=>{const[n,s]=reactExports.useState([]),[o,c]=reactExports.useState([]),m=useIsMobile();reactExports.useEffect(()=>{let d=!0;const l=v=>new Promise(p=>{const b=new Image;b.onload=()=>p(!0),b.onerror=()=>p(!1),b.src=v}),h=async v=>{try{const p=await fetch(v,{method:"HEAD"});if(!p.ok)return!1;const b=p.headers.get("content-type");return b?b.toLowerCase().startsWith("video"):!1}catch{return!1}};return(async()=>{const p=[],b=[],C=[{prefix:"imgs/Artwork/img_",ext:"jpg",type:"image",cat:"artwork"},{prefix:"anim/Artwork/anim_",ext:"mp4",type:"video",cat:"artwork"},{prefix:"anim/Artwork/anim_",ext:"png",type:"image",cat:"artwork"},{prefix:"imgs/Gambling/img_",ext:"jpg",type:"image",cat:"gambling"},{prefix:"anim/Gambling/anim_",ext:"mp4",type:"video",cat:"gambling"},{prefix:"imgs/Experimental/img_",ext:"jpg",type:"image",cat:"experimental"},{prefix:"anim/Experimental/anim_",ext:"mp4",type:"video",cat:"experimental"},{prefix:"anim/Experimental/anim_",ext:"png",type:"image",cat:"experimental"}];for(const S of C)for(let D=1;D<=15;D++){const O=`${S.prefix}${D}.${S.ext}`,I=S.type==="video"?h:l;p.push(I(O).then(R=>{R&&d&&b.push({id:`${S.cat}-${S.type}-${D}-${S.ext}`,src:O,type:S.type,category:S.cat})}))}if(await Promise.all(p),d){const S=Array.from(new Map(b.map(D=>[D.src,D])).values());S.sort((D,O)=>{const I=R=>parseInt(R.match(/\d+/)?.[0]||"0");return I(D.src)-I(O.src)}),s(S)}})(),()=>{d=!1}},[]);const f=d=>{s(l=>l.filter(h=>h.id!==d))},_=d=>{c(l=>l.includes(d)?l.filter(h=>h!==d):[...l,d])},x=reactExports.useMemo(()=>o.length===0?n:n.filter(d=>o.includes(d.category)),[n,o]);return jsxRuntimeExports.jsxs("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end mb-[30px] gap-4 lg:gap-6",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.3},children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-[36px] lg:text-[48px] font-semibold leading-[1.1] mb-2.5",children:"Playground"}),jsxRuntimeExports.jsx("div",{className:"text-[16px] text-[#888] mt-2.5",children:"Experiments & Styleframes"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5 lg:gap-3 w-full lg:w-auto",children:[jsxRuntimeExports.jsx(FilterButton,{label:"Artwork",icon:Brush,active:o.includes("artwork"),onClick:()=>_("artwork")}),jsxRuntimeExports.jsx(FilterButton,{label:"Gambling",icon:Dices,active:o.includes("gambling"),onClick:()=>_("gambling")}),jsxRuntimeExports.jsx(FilterButton,{label:"Experimental",icon:FlaskConical,active:o.includes("experimental"),onClick:()=>_("experimental")})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-[20px] mb-[80px] min-h-[80vh]",children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:x.map((d,l)=>jsxRuntimeExports.jsx(motion.div,{layout:!0,className:`relative rounded-[18px] overflow-hidden bg-black h-full group ${m?"":"cursor-pointer"}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},whileHover:m?{}:{scale:1.03},onClick:()=>{m||i(d.src)},children:d.type==="video"?jsxRuntimeExports.jsx("video",{src:d.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full block object-cover pointer-events-none",onError:()=>f(d.id)}):jsxRuntimeExports.jsx("img",{src:d.src,alt:`Experiment ${l}`,className:"w-full h-full block object-cover",onError:()=>f(d.id)})},d.id))}),x.length===0&&jsxRuntimeExports.jsx("div",{className:"col-span-full flex justify-center items-center h-[200px] text-neutral-400",children:"No items found for this filter."})]}),jsxRuntimeExports.jsx(Footer,{})]})},ReelPage=()=>jsxRuntimeExports.jsxs(motion.div,{className:"w-full",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[jsxRuntimeExports.jsx("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between items-end mb-[30px] gap-10",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-[300px]",children:[jsxRuntimeExports.jsx("h1",{className:"text-[36px] lg:text-[48px] font-semibold leading-[1.1] mb-2.5",children:"Showreel"}),jsxRuntimeExports.jsx("div",{className:"text-[16px] text-[#888] mt-2.5",children:"Selected Works"})]})})}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-[1440px] mx-auto px-5 lg:px-10 mb-[80px]",children:jsxRuntimeExports.jsx(VideoPlayer,{src:"https://video.f1nal.me/showreel2022.mp4",poster:"img/preview1.png"})}),jsxRuntimeExports.jsx("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:jsxRuntimeExports.jsx(Footer,{forceVisible:!0})})]}),AboutPage=()=>{const i={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return jsxRuntimeExports.jsxs(motion.div,{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.3},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-[50px] mb-[40px]",children:[jsxRuntimeExports.jsx("div",{className:"flex-none w-full lg:w-[40%] max-w-[500px]",children:jsxRuntimeExports.jsx("img",{src:"img/me.png",alt:"Oleg Shmarov",className:"w-full h-auto rounded-[18px] grayscale hover:grayscale-0 transition-all duration-500",onError:n=>n.currentTarget.src="img/me.png"})}),jsxRuntimeExports.jsx("div",{className:"flex-0 pt-0",children:jsxRuntimeExports.jsxs("div",{className:"text-[18px] lg:text-[18px] leading-[1.5]",children:[jsxRuntimeExports.jsx(motion.p,{className:"mb-3",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:"Hi! My name is Oleg Shmarov. I am a 3D artist and motion designer with a deep interest in animation and visual development."}),jsxRuntimeExports.jsx(motion.p,{className:"mb-3",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:"My career began in the television industry, where I worked with large companies performing a wide range of tasks that gave me valuable experience and versatile skills."}),jsxRuntimeExports.jsx(motion.p,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:"Now I work on freelance projects and cooperate with leading studios to create projects of various sizes and complexities."})]})})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-[1px] bg-black/15 my-[40px]"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-[50px] mb-[40px]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(motion.div,{className:"mb-10",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"Software"}),jsxRuntimeExports.jsx("p",{className:"text-[18px] leading-relaxed text-[#222]",children:"Cinema 4D, Redshift, Adobe Creative Suite"})]}),jsxRuntimeExports.jsxs(motion.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:[jsxRuntimeExports.jsxs("div",{className:"mb-10",children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"Awards"}),jsxRuntimeExports.jsxs("ul",{className:"list-none p-0 space-y-1",children:[jsxRuntimeExports.jsx("li",{className:"text-[18px] text-[#222]",children:"Promax Awards 2021 - Best internal marketing - Gold // TNT Design Showreel"}),jsxRuntimeExports.jsx("li",{className:"text-[18px] text-[#222]",children:"World Brand Design Awards 2023 / UK - Bronze // Gravix glue"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"Social Media"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-5",children:[jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/f1nal0139",className:"text-[18px] hover:opacity-60 transition-opacity",children:"Instagram"}),jsxRuntimeExports.jsx("a",{href:"https://www.behance.net/f1nal",className:"text-[18px] hover:opacity-60 transition-opacity",children:"Behance"}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/f1nal",className:"text-[18px] hover:opacity-60 transition-opacity",children:"LinkedIn"})]})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{className:"mb-10",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"For work inquiries, please contact at:"}),jsxRuntimeExports.jsx("p",{className:"text-[18px]",children:jsxRuntimeExports.jsx("a",{href:"mailto:shmarov.oleg@gmail.com",className:"hover:opacity-60 transition-opacity",children:"shmarov.oleg@gmail.com"})})]})]}),jsxRuntimeExports.jsx(Footer,{})]})},ProjectPage=({title:i,meta:n,desc:s,video:o,gallery:c,credits:m,prev:f,next:_,navigate:x,children:d})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-[30px] gap-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-[300px]",children:[jsxRuntimeExports.jsx("h1",{className:"text-[36px] lg:text-[48px] font-semibold leading-[1.1] mb-2.5 text-black",children:i}),jsxRuntimeExports.jsx("div",{className:"text-[16px] text-[#888] mt-2.5",children:n})]}),jsxRuntimeExports.jsx("div",{className:"flex-none w-full lg:w-[45%] min-w-[300px]",children:jsxRuntimeExports.jsx("p",{className:"text-[16px] leading-[1.6] text-black",dangerouslySetInnerHTML:{__html:s}})})]})}),o&&jsxRuntimeExports.jsx("div",{className:"w-full max-w-[1440px] mx-auto px-5 lg:px-10 mb-[100px]",children:jsxRuntimeExports.jsx(VideoPlayer,{src:o.src,poster:o.poster})}),jsxRuntimeExports.jsxs("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-[18px] mb-[100px]",children:c.map((l,h)=>jsxRuntimeExports.jsx("div",{className:`relative overflow-hidden rounded-[18px] ${l.full?"col-span-1 lg:col-span-2":""}`,children:l.video?jsxRuntimeExports.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto block rounded-[18px]",children:jsxRuntimeExports.jsx("source",{src:l.video,type:"video/mp4"})}):jsxRuntimeExports.jsx("img",{src:l.img,alt:"Gallery",className:"w-full h-auto block rounded-[18px]"})},h))}),d&&jsxRuntimeExports.jsx("div",{className:"w-full mb-[100px] flex justify-center",children:d}),jsxRuntimeExports.jsx("div",{className:"text-[20px] text-[#555] leading-[1.8] mb-[80px] max-w-[700px]",children:m.map((l,h)=>jsxRuntimeExports.jsx("p",{dangerouslySetInnerHTML:{__html:l}},h))}),jsxRuntimeExports.jsxs("div",{className:"pt-10 mb-40 flex justify-between text-[16px] sm:text-[18px] lg:text-[30px] font-medium",children:[jsxRuntimeExports.jsxs("a",{onClick:()=>x(f.link),className:"flex items-center gap-2.5 opacity-100 hover:opacity-60 hover:-translate-y-0.5 transition-all cursor-pointer",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:22})," ",f.label]}),jsxRuntimeExports.jsxs("a",{onClick:()=>x(_.link),className:"flex items-center gap-2.5 opacity-100 hover:opacity-60 hover:-translate-y-0.5 transition-all cursor-pointer",children:[_.label," ",jsxRuntimeExports.jsx(ArrowRight,{size:22})]})]}),jsxRuntimeExports.jsx(Footer,{})]})]}),ElfBar=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"Elf Bar Promotion",meta:"Presonal / 2022",desc:"A promotional video for Elf Bar, showcasing the sleek design and vibrant flavors of their disposable vapes. The project involved 3D modeling, texturing, and fluid simulations to visualize the smooth airflow and rich taste profile.",video:{src:"https://video.f1nal.me/elfbar.mp4",poster:"img/preview1.png"},gallery:[{img:"https://placehold.co/700x700/111/FFF?text=Elf+Bar+Flavor+1"},{img:"https://placehold.co/700x700/222/FFF?text=Elf+Bar+Flavor+2"},{img:"https://placehold.co/1400x788/333/FFF?text=Wide+Shot+Render",full:!0}],credits:["<strong>Client:</strong> Elf Bar","<strong>Role:</strong> 3D Motion Design, Art Direction","<strong>Tools:</strong> Cinema 4d, Redshift, Adobe"],prev:{label:"SBER Creative Frame",link:"sber-creative-frame"},next:{label:"Football Dynamics",link:"football-dynamics"},children:jsxRuntimeExports.jsx(PDFViewer,{pdfUrl:"./LKT_WERKE_RU.pdf"})}),FootballDynamics=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"Football Dynamics",meta:"Personal Project / 2025",desc:"An exploration of motion and energy within the context of sports. This project focuses on the raw dynamics of football, capturing the intensity of the game through advanced simulation and rendering techniques.",gallery:[{video:"https://vpolitov.com/wp-content/uploads/2025/02/FD_thumbnail_01.mp4",full:!0},{img:"https://vpolitov.com/wp-content/uploads/2025/01/fd_thumbnail_01.png"},{img:"https://placehold.co/700x700/EEE/31343C?text=Simulation+Detail"},{img:"https://placehold.co/1400x788/EEE/31343C?text=Dynamics+Wide+Shot",full:!0}],credits:["<strong>Design & Animation:</strong> Oleg Shmarov","<strong>Tools:</strong> Houdini, Redshift, Nuke, Marvelous Designer"],prev:{label:"ELF BAR",link:"elfbar"},next:{label:"Puma Running AW24",link:"puma-magmax"}}),Puma=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"Puma Running AW24",meta:"Studio: Inertia Studios / 2024",desc:"Highlighting the technology behind Puma's new MagMax series. A dynamic campaign emphasizing cushion, return, and speed through abstract material simulations and high-impact visuals.",gallery:[{video:"https://vpolitov.com/wp-content/uploads/2025/02/Puma_thumbnail_01.mp4",full:!0},{img:"https://vpolitov.com/wp-content/uploads/2025/01/magmax_thumbnail.png"},{img:"https://placehold.co/700x700/EEE/31343C?text=Shoe+Detail"},{img:"https://placehold.co/1400x788/EEE/31343C?text=Campaign+Wide+View",full:!0}],credits:["<strong>Studio:</strong> Inertia Studios","<strong>Role:</strong> 3D Motion Designer","<strong>Client:</strong> Puma"],prev:{label:"Football Dynamics",link:"football-dynamics"},next:{label:"SBER Creative Frame",link:"sber-creative-frame"}}),Sber=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"SBER Creative Frame",meta:"Combine",desc:"In 2020, Sber completely changed its positioning, removing the 'bank' label and transforming into a full-fledged ecosystem of services. The new brand united technology, convenience, and user care  embedding these values into its design.<br/><br/>After a few years, the design system required further fine-tuning. This led to the development of a new creative framework  a visual language focused on 3D, designed to strengthen relationships with users and refresh Sber's visual communication.<br/><br/>Together with Combine studio, I have developed many unique images that helped Sber to change its visual style.",gallery:[{video:"https://vpolitov.com/wp-content/uploads/2025/03/SBER_CF_1-2.mp4",full:!0},{img:"https://vpolitov.com/wp-content/uploads/2025/03/SB_thumbnail_03.png"},{img:"https://vpolitov.com/wp-content/uploads/2025/02/sh_002_v01-0-00-01-08_1.jpg"},{img:"https://placehold.co/1400x788/EEE/31343C?text=Wide+Shot+Render",full:!0},{img:"https://placehold.co/700x700/EEE/31343C?text=Process+Detail"},{img:"https://placehold.co/700x700/EEE/31343C?text=Texture+Detail"}],credits:["<strong>Art Direction & Design:</strong> Oleg Shmarov","<strong>Music & Sound Design:</strong> Blink Audio","<strong>Tools:</strong> Houdini, Redshift, Nuke"],prev:{label:"Puma Running AW24",link:"puma-magmax"},next:{label:"ELF BAR",link:"elfbar"}});function App(){const[i,n]=reactExports.useState("home"),[s,o]=reactExports.useState(!1),[c,m]=reactExports.useState(null);useContentProtection(),reactExports.useEffect(()=>{document.title="F1NAL EDITING - OLEG SHMAROV - 3D ARTIST";const x=document.querySelector("link[rel~='icon']")||document.createElement("link");x.type="image/webp",x.rel="icon",x.href="img/favicon.webp",document.getElementsByTagName("head")[0].appendChild(x)},[]);const f=()=>{switch(i){case"home":return jsxRuntimeExports.jsx(WorkPage,{navigate:n});case"reel":return jsxRuntimeExports.jsx(ReelPage,{});case"play":return jsxRuntimeExports.jsx(PlayPage,{onOpenImage:m});case"info":return jsxRuntimeExports.jsx(AboutPage,{});case"elfbar":return jsxRuntimeExports.jsx(ElfBar,{navigate:n});case"football-dynamics":return jsxRuntimeExports.jsx(FootballDynamics,{navigate:n});case"puma-magmax":return jsxRuntimeExports.jsx(Puma,{navigate:n});case"sber-creative-frame":return jsxRuntimeExports.jsx(Sber,{navigate:n});default:return jsxRuntimeExports.jsx(WorkPage,{navigate:n})}};reactExports.useEffect(()=>{smoothScrollToTop(1200)},[i]),useIntroAnimation();const _=s||!!c;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:GLOBAL_STYLES}}),jsxRuntimeExports.jsx(MobileMenuOverlay,{isOpen:s,onClose:()=>o(!1),navigate:n,currentPage:i}),jsxRuntimeExports.jsx(ImageModalOverlay,{src:c,onClose:()=>m(null)}),jsxRuntimeExports.jsx("div",{className:"ios-safearea-overlay"}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-transparent",children:[jsxRuntimeExports.jsx("div",{className:"relative z-[10005]",children:jsxRuntimeExports.jsx(Header,{currentPage:i,navigate:n,isMenuOpen:s,onToggleMenu:()=>o(!s)})}),jsxRuntimeExports.jsx("div",{id:"content-holder",className:"flex-grow pt-[40px] relative flex flex-col",style:{filter:_?"blur(4px)":"none",backgroundColor:_?"rgba(255, 255, 255, 1)":"transparent",transition:"filter 0.3s ease, background-color 0.3s ease",pointerEvents:_?"none":"auto"},children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full flex-grow",children:f()},i)})}),jsxRuntimeExports.jsx(ScrollToTop,{})]})]})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
