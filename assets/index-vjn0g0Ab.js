(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(c){if(c.ep)return;c.ep=!0;const m=s(c);fetch(c.href,m)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var c=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:function(){return i[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),h=Symbol.iterator;function y(w){return w===null||typeof w!="object"?null:(w=h&&w[h]||w["@@iterator"],typeof w=="function"?w:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,A={};function P(w,j,z){this.props=w,this.context=j,this.refs=A,this.updater=z||v}P.prototype.isReactComponent={},P.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},P.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function E(){}E.prototype=P.prototype;function M(w,j,z){this.props=w,this.context=j,this.refs=A,this.updater=z||v}var V=M.prototype=new E;V.constructor=M,p(V,P.prototype),V.isPureReactComponent=!0;var I=Array.isArray,R=Object.prototype.hasOwnProperty,F={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function K(w,j,z){var G,U={},b=null,D=null;if(j!=null)for(G in j.ref!==void 0&&(D=j.ref),j.key!==void 0&&(b=""+j.key),j)R.call(j,G)&&!H.hasOwnProperty(G)&&(U[G]=j[G]);var O=arguments.length-2;if(O===1)U.children=z;else if(1<O){for(var L=Array(O),B=0;B<O;B++)L[B]=arguments[B+2];U.children=L}if(w&&w.defaultProps)for(G in O=w.defaultProps,O)U[G]===void 0&&(U[G]=O[G]);return{$$typeof:i,type:w,key:b,ref:D,props:U,_owner:F.current}}function q(w,j){return{$$typeof:i,type:w.type,key:j,ref:w.ref,props:w.props,_owner:w._owner}}function ee(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function J(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(z){return j[z]})}var me=/\/+/g;function he(w,j){return typeof w=="object"&&w!==null&&w.key!=null?J(""+w.key):j.toString(36)}function fe(w,j,z,G,U){var b=typeof w;(b==="undefined"||b==="boolean")&&(w=null);var D=!1;if(w===null)D=!0;else switch(b){case"string":case"number":D=!0;break;case"object":switch(w.$$typeof){case i:case n:D=!0}}if(D)return D=w,U=U(D),w=G===""?"."+he(D,0):G,I(U)?(z="",w!=null&&(z=w.replace(me,"$&/")+"/"),fe(U,j,z,"",function(B){return B})):U!=null&&(ee(U)&&(U=q(U,z+(!U.key||D&&D.key===U.key?"":(""+U.key).replace(me,"$&/")+"/")+w)),j.push(U)),1;if(D=0,G=G===""?".":G+":",I(w))for(var O=0;O<w.length;O++){b=w[O];var L=G+he(b,O);D+=fe(b,j,z,L,U)}else if(L=y(w),typeof L=="function")for(w=L.call(w),O=0;!(b=w.next()).done;)b=b.value,L=G+he(b,O++),D+=fe(b,j,z,L,U);else if(b==="object")throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return D}function ve(w,j,z){if(w==null)return w;var G=[],U=0;return fe(w,G,"","",function(b){return j.call(z,b,U++)}),G}function ae(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(z){(w._status===0||w._status===-1)&&(w._status=1,w._result=z)},function(z){(w._status===0||w._status===-1)&&(w._status=2,w._result=z)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var W={current:null},k={transition:null},C={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:k,ReactCurrentOwner:F};function T(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ve,forEach:function(w,j,z){ve(w,function(){j.apply(this,arguments)},z)},count:function(w){var j=0;return ve(w,function(){j++}),j},toArray:function(w){return ve(w,function(j){return j})||[]},only:function(w){if(!ee(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},react_production_min.Component=P,react_production_min.Fragment=s,react_production_min.Profiler=c,react_production_min.PureComponent=M,react_production_min.StrictMode=o,react_production_min.Suspense=x,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,react_production_min.act=T,react_production_min.cloneElement=function(w,j,z){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var G=p({},w.props),U=w.key,b=w.ref,D=w._owner;if(j!=null){if(j.ref!==void 0&&(b=j.ref,D=F.current),j.key!==void 0&&(U=""+j.key),w.type&&w.type.defaultProps)var O=w.type.defaultProps;for(L in j)R.call(j,L)&&!H.hasOwnProperty(L)&&(G[L]=j[L]===void 0&&O!==void 0?O[L]:j[L])}var L=arguments.length-2;if(L===1)G.children=z;else if(1<L){O=Array(L);for(var B=0;B<L;B++)O[B]=arguments[B+2];G.children=O}return{$$typeof:i,type:w.type,key:U,ref:b,props:G,_owner:D}},react_production_min.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:m,_context:w},w.Consumer=w},react_production_min.createElement=K,react_production_min.createFactory=function(w){var j=K.bind(null,w);return j.type=w,j},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(w){return{$$typeof:_,render:w}},react_production_min.isValidElement=ee,react_production_min.lazy=function(w){return{$$typeof:l,_payload:{_status:-1,_result:w},_init:ae}},react_production_min.memo=function(w,j){return{$$typeof:d,type:w,compare:j===void 0?null:j}},react_production_min.startTransition=function(w){var j=k.transition;k.transition={};try{w()}finally{k.transition=j}},react_production_min.unstable_act=T,react_production_min.useCallback=function(w,j){return W.current.useCallback(w,j)},react_production_min.useContext=function(w){return W.current.useContext(w)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(w){return W.current.useDeferredValue(w)},react_production_min.useEffect=function(w,j){return W.current.useEffect(w,j)},react_production_min.useId=function(){return W.current.useId()},react_production_min.useImperativeHandle=function(w,j,z){return W.current.useImperativeHandle(w,j,z)},react_production_min.useInsertionEffect=function(w,j){return W.current.useInsertionEffect(w,j)},react_production_min.useLayoutEffect=function(w,j){return W.current.useLayoutEffect(w,j)},react_production_min.useMemo=function(w,j){return W.current.useMemo(w,j)},react_production_min.useReducer=function(w,j,z){return W.current.useReducer(w,j,z)},react_production_min.useRef=function(w){return W.current.useRef(w)},react_production_min.useState=function(w){return W.current.useState(w)},react_production_min.useSyncExternalStore=function(w,j,z){return W.current.useSyncExternalStore(w,j,z)},react_production_min.useTransition=function(){return W.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var i=requireReact(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(_,x,d){var l,h={},y=null,v=null;d!==void 0&&(y=""+d),x.key!==void 0&&(y=""+x.key),x.ref!==void 0&&(v=x.ref);for(l in x)o.call(x,l)&&!m.hasOwnProperty(l)&&(h[l]=x[l]);if(_&&_.defaultProps)for(l in x=_.defaultProps,x)h[l]===void 0&&(h[l]=x[l]);return{$$typeof:n,type:_,key:y,ref:v,props:h,_owner:c.current}}return reactJsxRuntime_production_min.Fragment=s,reactJsxRuntime_production_min.jsx=f,reactJsxRuntime_production_min.jsxs=f,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(i){function n(k,C){var T=k.length;k.push(C);e:for(;0<T;){var w=T-1>>>1,j=k[w];if(0<c(j,C))k[w]=C,k[T]=j,T=w;else break e}}function s(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var C=k[0],T=k.pop();if(T!==C){k[0]=T;e:for(var w=0,j=k.length,z=j>>>1;w<z;){var G=2*(w+1)-1,U=k[G],b=G+1,D=k[b];if(0>c(U,T))b<j&&0>c(D,U)?(k[w]=D,k[b]=T,w=b):(k[w]=U,k[G]=T,w=G);else if(b<j&&0>c(D,T))k[w]=D,k[b]=T,w=b;else break e}}return C}function c(k,C){var T=k.sortIndex-C.sortIndex;return T!==0?T:k.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var f=Date,_=f.now();i.unstable_now=function(){return f.now()-_}}var x=[],d=[],l=1,h=null,y=3,v=!1,p=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(k){for(var C=s(d);C!==null;){if(C.callback===null)o(d);else if(C.startTime<=k)o(d),C.sortIndex=C.expirationTime,n(x,C);else break;C=s(d)}}function I(k){if(A=!1,V(k),!p)if(s(x)!==null)p=!0,ae(R);else{var C=s(d);C!==null&&W(I,C.startTime-k)}}function R(k,C){p=!1,A&&(A=!1,E(K),K=-1),v=!0;var T=y;try{for(V(C),h=s(x);h!==null&&(!(h.expirationTime>C)||k&&!J());){var w=h.callback;if(typeof w=="function"){h.callback=null,y=h.priorityLevel;var j=w(h.expirationTime<=C);C=i.unstable_now(),typeof j=="function"?h.callback=j:h===s(x)&&o(x),V(C)}else o(x);h=s(x)}if(h!==null)var z=!0;else{var G=s(d);G!==null&&W(I,G.startTime-C),z=!1}return z}finally{h=null,y=T,v=!1}}var F=!1,H=null,K=-1,q=5,ee=-1;function J(){return!(i.unstable_now()-ee<q)}function me(){if(H!==null){var k=i.unstable_now();ee=k;var C=!0;try{C=H(!0,k)}finally{C?he():(F=!1,H=null)}}else F=!1}var he;if(typeof M=="function")he=function(){M(me)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ve=fe.port2;fe.port1.onmessage=me,he=function(){ve.postMessage(null)}}else he=function(){P(me,0)};function ae(k){H=k,F||(F=!0,he())}function W(k,C){K=P(function(){k(i.unstable_now())},C)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){p||v||(p=!0,ae(R))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return s(x)},i.unstable_next=function(k){switch(y){case 1:case 2:case 3:var C=3;break;default:C=y}var T=y;y=C;try{return k()}finally{y=T}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,C){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=y;y=k;try{return C()}finally{y=T}},i.unstable_scheduleCallback=function(k,C,T){var w=i.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?w+T:w):T=w,k){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=T+j,k={id:l++,callback:C,priorityLevel:k,startTime:T,expirationTime:j,sortIndex:-1},T>w?(k.sortIndex=T,n(d,k),s(x)===null&&k===s(d)&&(A?(E(K),K=-1):A=!0,W(I,T-w))):(k.sortIndex=j,n(x,k),p||v||(p=!0,ae(R))),k},i.unstable_shouldYield=J,i.unstable_wrapCallback=function(k){var C=y;return function(){var T=y;y=C;try{return k.apply(this,arguments)}finally{y=T}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var i=requireReact(),n=requireScheduler();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},h={};function y(e){return x.call(h,e)?!0:x.call(l,e)?!1:d.test(e)?h[e]=!0:(l[e]=!0,!1)}function v(e,t,a,u){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function p(e,t,a,u){if(t===null||typeof t>"u"||v(e,t,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,a,u,g,S,N){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=g,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=S,this.removeEmptyString=N}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E,M);P[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E,M);P[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E,M);P[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function V(e,t,a,u){var g=P.hasOwnProperty(t)?P[t]:null;(g!==null?g.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p(t,a,g,u)&&(a=null),u||g===null?y(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):g.mustUseProperty?e[g.propertyName]=a===null?g.type===3?!1:"":a:(t=g.attributeName,u=g.attributeNamespace,a===null?e.removeAttribute(t):(g=g.type,a=g===3||g===4&&a===!0?"":""+a,u?e.setAttributeNS(u,t,a):e.setAttribute(t,a))))}var I=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),J=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),k=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var T=Object.assign,w;function j(e){if(w===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var z=!1;function G(e,t){if(!e||z)return"";z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(de){var u=de}Reflect.construct(e,[],t)}else{try{t.call()}catch(de){u=de}e.call(t.prototype)}else{try{throw Error()}catch(de){u=de}e()}}catch(de){if(de&&u&&typeof de.stack=="string"){for(var g=de.stack.split(`
`),S=u.stack.split(`
`),N=g.length-1,Y=S.length-1;1<=N&&0<=Y&&g[N]!==S[Y];)Y--;for(;1<=N&&0<=Y;N--,Y--)if(g[N]!==S[Y]){if(N!==1||Y!==1)do if(N--,Y--,0>Y||g[N]!==S[Y]){var Z=`
`+g[N].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=N&&0<=Y);break}}}finally{z=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1),e;case 11:return e=G(e.type.render,!1),e;case 1:return e=G(e.type,!0),e;default:return""}}function b(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case F:return"Portal";case q:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case ee:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:b(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return b(e(t))}catch{}}return null}function D(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(t);case 8:return t===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function O(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B(e){var t=L(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,S=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(N){u=""+N,S.call(this,N)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $(e){e._valueTracker||(e._valueTracker=B(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),u="";return e&&(u=L(e)?e.checked?"true":"false":e.value),e=u,e!==a?(t.setValue(e),!0):!1}function se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ye(e,t){var a=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function ne(e,t){var a=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;a=O(t.value!=null?t.value:a),e._wrapperState={initialChecked:u,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function re(e,t){t=t.checked,t!=null&&V(e,"checked",t,!1)}function ue(e,t){re(e,t);var a=O(t.value),u=t.type;if(a!=null)u==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ge(e,t.type,a):t.hasOwnProperty("defaultValue")&&ge(e,t.type,O(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pe(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function ge(e,t,a){(t!=="number"||se(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var be=Array.isArray;function Pe(e,t,a,u){if(e=e.options,t){t={};for(var g=0;g<a.length;g++)t["$"+a[g]]=!0;for(a=0;a<e.length;a++)g=t.hasOwnProperty("$"+e[a].value),e[a].selected!==g&&(e[a].selected=g),g&&u&&(e[a].defaultSelected=!0)}else{for(a=""+O(a),t=null,g=0;g<e.length;g++){if(e[g].value===a){e[g].selected=!0,u&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function De(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(s(92));if(be(a)){if(1<a.length)throw Error(s(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:O(a)}}function Ne(e,t){var a=O(t.value),u=O(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),u!=null&&(e.defaultValue=""+u)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function at(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?at(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tt,nt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,u,g){MSApp.execUnsafeLocalFunction(function(){return e(t,a,u,g)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$t=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(e){$t.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vt[t]=Vt[e]})});function pn(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Vt.hasOwnProperty(e)&&Vt[e]?(""+t).trim():t+"px"}function xe(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var u=a.indexOf("--")===0,g=pn(a,t[a],u);a==="float"&&(a="cssFloat"),u?e.setProperty(a,g):e[a]=g}}var le=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ie(e,t){if(t){if(le[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function we(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function Je(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ze=null,Pt=null,Ct=null;function Kt(e){if(e=jr(e)){if(typeof Ze!="function")throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Ze(e.stateNode,e.type,t))}}function ht(e){Pt?Ct?Ct.push(e):Ct=[e]:Pt=e}function rn(){if(Pt){var e=Pt,t=Ct;if(Ct=Pt=null,Kt(e),t)for(e=0;e<t.length;e++)Kt(t[e])}}function Bt(e,t){return e(t)}function In(){}var Ke=!1;function On(e,t,a){if(Ke)return e(t,a);Ke=!0;try{return Bt(e,t,a)}finally{Ke=!1,(Pt!==null||Ct!==null)&&(In(),rn())}}function Yt(e,t){var a=e.stateNode;if(a===null)return null;var u=xi(a);if(u===null)return null;a=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var Nn=!1;if(_)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Nn=!1}function jn(e,t,a,u,g,S,N,Y,Z){var de=Array.prototype.slice.call(arguments,3);try{t.apply(a,de)}catch(_e){this.onError(_e)}}var it=!1,Qt=null,mn=!1,is=null,yc={onError:function(e){it=!0,Qt=e}};function vc(e,t,a,u,g,S,N,Y,Z){it=!1,Qt=null,jn.apply(yc,arguments)}function xc(e,t,a,u,g,S,N,Y,Z){if(vc.apply(this,arguments),it){if(it){var de=Qt;it=!1,Qt=null}else throw Error(s(198));mn||(mn=!0,is=de)}}function Vn(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Bo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uo(e){if(Vn(e)!==e)throw Error(s(188))}function Ec(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var a=e,u=t;;){var g=a.return;if(g===null)break;var S=g.alternate;if(S===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===S.child){for(S=g.child;S;){if(S===a)return Uo(g),e;if(S===u)return Uo(g),t;S=S.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=S;else{for(var N=!1,Y=g.child;Y;){if(Y===a){N=!0,a=g,u=S;break}if(Y===u){N=!0,u=g,a=S;break}Y=Y.sibling}if(!N){for(Y=S.child;Y;){if(Y===a){N=!0,a=S,u=g;break}if(Y===u){N=!0,u=S,a=g;break}Y=Y.sibling}if(!N)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:t}function zo(e){return e=Ec(e),e!==null?Wo(e):null}function Wo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wo(e);if(t!==null)return t;e=e.sibling}return null}var Ho=n.unstable_scheduleCallback,Go=n.unstable_cancelCallback,_c=n.unstable_shouldYield,Sc=n.unstable_requestPaint,et=n.unstable_now,Ac=n.unstable_getCurrentPriorityLevel,ss=n.unstable_ImmediatePriority,qo=n.unstable_UserBlockingPriority,Zr=n.unstable_NormalPriority,bc=n.unstable_LowPriority,Xo=n.unstable_IdlePriority,ei=null,Jt=null;function wc(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ei,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Cc,Tc=Math.log,Pc=Math.LN2;function Cc(e){return e>>>=0,e===0?32:31-(Tc(e)/Pc|0)|0}var ti=64,ni=4194304;function Er(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,t){var a=e.pendingLanes;if(a===0)return 0;var u=0,g=e.suspendedLanes,S=e.pingedLanes,N=a&268435455;if(N!==0){var Y=N&~g;Y!==0?u=Er(Y):(S&=N,S!==0&&(u=Er(S)))}else N=a&~g,N!==0?u=Er(N):S!==0&&(u=Er(S));if(u===0)return 0;if(t!==0&&t!==u&&(t&g)===0&&(g=u&-u,S=t&-t,g>=S||g===16&&(S&4194240)!==0))return t;if((u&4)!==0&&(u|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)a=31-Ut(t),g=1<<a,u|=e[a],t&=~g;return u}function Rc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kc(e,t){for(var a=e.suspendedLanes,u=e.pingedLanes,g=e.expirationTimes,S=e.pendingLanes;0<S;){var N=31-Ut(S),Y=1<<N,Z=g[N];Z===-1?((Y&a)===0||(Y&u)!==0)&&(g[N]=Rc(Y,t)):Z<=t&&(e.expiredLanes|=Y),S&=~Y}}function os(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $o(){var e=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),e}function as(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _r(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=a}function Mc(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<a;){var g=31-Ut(a),S=1<<g;t[g]=0,u[g]=-1,e[g]=-1,a&=~S}}function ls(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var u=31-Ut(a),g=1<<u;g&t|e[u]&t&&(e[u]|=t),a&=~g}}var ze=0;function Ko(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Yo,cs,Qo,Jo,Zo,us=!1,ii=[],gn=null,yn=null,vn=null,Sr=new Map,Ar=new Map,xn=[],Dc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ea(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function br(e,t,a,u,g,S){return e===null||e.nativeEvent!==S?(e={blockedOn:t,domEventName:a,eventSystemFlags:u,nativeEvent:S,targetContainers:[g]},t!==null&&(t=jr(t),t!==null&&cs(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function Fc(e,t,a,u,g){switch(t){case"focusin":return gn=br(gn,e,t,a,u,g),!0;case"dragenter":return yn=br(yn,e,t,a,u,g),!0;case"mouseover":return vn=br(vn,e,t,a,u,g),!0;case"pointerover":var S=g.pointerId;return Sr.set(S,br(Sr.get(S)||null,e,t,a,u,g)),!0;case"gotpointercapture":return S=g.pointerId,Ar.set(S,br(Ar.get(S)||null,e,t,a,u,g)),!0}return!1}function ta(e){var t=Bn(e.target);if(t!==null){var a=Vn(t);if(a!==null){if(t=a.tag,t===13){if(t=Bo(a),t!==null){e.blockedOn=t,Zo(e.priority,function(){Qo(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);Ve=u,a.target.dispatchEvent(u),Ve=null}else return t=jr(a),t!==null&&cs(t),e.blockedOn=a,!1;t.shift()}return!0}function na(e,t,a){si(e)&&a.delete(t)}function Lc(){us=!1,gn!==null&&si(gn)&&(gn=null),yn!==null&&si(yn)&&(yn=null),vn!==null&&si(vn)&&(vn=null),Sr.forEach(na),Ar.forEach(na)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,us||(us=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lc)))}function Tr(e){function t(g){return wr(g,e)}if(0<ii.length){wr(ii[0],e);for(var a=1;a<ii.length;a++){var u=ii[a];u.blockedOn===e&&(u.blockedOn=null)}}for(gn!==null&&wr(gn,e),yn!==null&&wr(yn,e),vn!==null&&wr(vn,e),Sr.forEach(t),Ar.forEach(t),a=0;a<xn.length;a++)u=xn[a],u.blockedOn===e&&(u.blockedOn=null);for(;0<xn.length&&(a=xn[0],a.blockedOn===null);)ta(a),a.blockedOn===null&&xn.shift()}var Jn=I.ReactCurrentBatchConfig,oi=!0;function Ic(e,t,a,u){var g=ze,S=Jn.transition;Jn.transition=null;try{ze=1,ds(e,t,a,u)}finally{ze=g,Jn.transition=S}}function Oc(e,t,a,u){var g=ze,S=Jn.transition;Jn.transition=null;try{ze=4,ds(e,t,a,u)}finally{ze=g,Jn.transition=S}}function ds(e,t,a,u){if(oi){var g=hs(e,t,a,u);if(g===null)Rs(e,t,u,ai,a),ea(e,u);else if(Fc(g,e,t,a,u))u.stopPropagation();else if(ea(e,u),t&4&&-1<Dc.indexOf(e)){for(;g!==null;){var S=jr(g);if(S!==null&&Yo(S),S=hs(e,t,a,u),S===null&&Rs(e,t,u,ai,a),S===g)break;g=S}g!==null&&u.stopPropagation()}else Rs(e,t,u,null,a)}}var ai=null;function hs(e,t,a,u){if(ai=null,e=Je(u),e=Bn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(a=t.tag,a===13){if(e=Bo(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function ra(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case ss:return 1;case qo:return 4;case Zr:case bc:return 16;case Xo:return 536870912;default:return 16}default:return 16}}var En=null,fs=null,li=null;function ia(){if(li)return li;var e,t=fs,a=t.length,u,g="value"in En?En.value:En.textContent,S=g.length;for(e=0;e<a&&t[e]===g[e];e++);var N=a-e;for(u=1;u<=N&&t[a-u]===g[S-u];u++);return li=g.slice(e,1<u?1-u:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function sa(){return!1}function Rt(e){function t(a,u,g,S,N){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var Y in e)e.hasOwnProperty(Y)&&(a=e[Y],this[Y]=a?a(S):S[Y]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ui:sa,this.isPropagationStopped=sa,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=Rt(Zn),Pr=T({},Zn,{view:0,detail:0}),Nc=Rt(Pr),ms,gs,Cr,di=T({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(ms=e.screenX-Cr.screenX,gs=e.screenY-Cr.screenY):gs=ms=0,Cr=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:gs}}),oa=Rt(di),jc=T({},di,{dataTransfer:0}),Vc=Rt(jc),Bc=T({},Pr,{relatedTarget:0}),ys=Rt(Bc),Uc=T({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=Rt(Uc),Wc=T({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hc=Rt(Wc),Gc=T({},Zn,{data:0}),aa=Rt(Gc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$c[e])?!!t[e]:!1}function vs(){return Kc}var Yc=T({},Pr,{key:function(e){if(e.key){var t=qc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qc=Rt(Yc),Jc=T({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=Rt(Jc),Zc=T({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),eu=Rt(Zc),tu=T({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Rt(tu),ru=T({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=Rt(ru),su=[9,13,27,32],xs=_&&"CompositionEvent"in window,Rr=null;_&&"documentMode"in document&&(Rr=document.documentMode);var ou=_&&"TextEvent"in window&&!Rr,ca=_&&(!xs||Rr&&8<Rr&&11>=Rr),ua=" ",da=!1;function ha(e,t){switch(e){case"keyup":return su.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function au(e,t){switch(e){case"compositionend":return fa(t);case"keypress":return t.which!==32?null:(da=!0,ua);case"textInput":return e=t.data,e===ua&&da?null:e;default:return null}}function lu(e,t){if(er)return e==="compositionend"||!xs&&ha(e,t)?(e=ia(),li=fs=En=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ca&&t.locale!=="ko"?null:t.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cu[e.type]:t==="textarea"}function ma(e,t,a,u){ht(u),t=gi(t,"onChange"),0<t.length&&(a=new ps("onChange","change",null,a,u),e.push({event:a,listeners:t}))}var kr=null,Mr=null;function uu(e){Fa(e,0)}function hi(e){var t=sr(e);if(Q(t))return e}function du(e,t){if(e==="change")return t}var ga=!1;if(_){var Es;if(_){var _s="oninput"in document;if(!_s){var ya=document.createElement("div");ya.setAttribute("oninput","return;"),_s=typeof ya.oninput=="function"}Es=_s}else Es=!1;ga=Es&&(!document.documentMode||9<document.documentMode)}function va(){kr&&(kr.detachEvent("onpropertychange",xa),Mr=kr=null)}function xa(e){if(e.propertyName==="value"&&hi(Mr)){var t=[];ma(t,Mr,e,Je(e)),On(uu,t)}}function hu(e,t,a){e==="focusin"?(va(),kr=t,Mr=a,kr.attachEvent("onpropertychange",xa)):e==="focusout"&&va()}function fu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Mr)}function pu(e,t){if(e==="click")return hi(t)}function mu(e,t){if(e==="input"||e==="change")return hi(t)}function gu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:gu;function Dr(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),u=Object.keys(t);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!x.call(t,g)||!zt(e[g],t[g]))return!1}return!0}function Ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _a(e,t){var a=Ea(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=t&&u>=t)return{node:a,offset:t-e};e=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ea(a)}}function Sa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Aa(){for(var e=window,t=se();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=se(e.document)}return t}function Ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yu(e){var t=Aa(),a=e.focusedElem,u=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Sa(a.ownerDocument.documentElement,a)){if(u!==null&&Ss(a)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=a.textContent.length,S=Math.min(u.start,g);u=u.end===void 0?S:Math.min(u.end,g),!e.extend&&S>u&&(g=u,u=S,S=g),g=_a(a,S);var N=_a(a,u);g&&N&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==N.node||e.focusOffset!==N.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),S>u?(e.addRange(t),e.extend(N.node,N.offset)):(t.setEnd(N.node,N.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vu=_&&"documentMode"in document&&11>=document.documentMode,tr=null,As=null,Fr=null,bs=!1;function ba(e,t,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bs||tr==null||tr!==se(u)||(u=tr,"selectionStart"in u&&Ss(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fr&&Dr(Fr,u)||(Fr=u,u=gi(As,"onSelect"),0<u.length&&(t=new ps("onSelect","select",null,t,a),e.push({event:t,listeners:u}),t.target=tr)))}function fi(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var nr={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},ws={},wa={};_&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function pi(e){if(ws[e])return ws[e];if(!nr[e])return e;var t=nr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in wa)return ws[e]=t[a];return e}var Ta=pi("animationend"),Pa=pi("animationiteration"),Ca=pi("animationstart"),Ra=pi("transitionend"),ka=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){ka.set(e,t),m(t,[e])}for(var Ts=0;Ts<Ma.length;Ts++){var Ps=Ma[Ts],xu=Ps.toLowerCase(),Eu=Ps[0].toUpperCase()+Ps.slice(1);_n(xu,"on"+Eu)}_n(Ta,"onAnimationEnd"),_n(Pa,"onAnimationIteration"),_n(Ca,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Ra,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_u=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Da(e,t,a){var u=e.type||"unknown-event";e.currentTarget=a,xc(u,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],g=u.event;u=u.listeners;e:{var S=void 0;if(t)for(var N=u.length-1;0<=N;N--){var Y=u[N],Z=Y.instance,de=Y.currentTarget;if(Y=Y.listener,Z!==S&&g.isPropagationStopped())break e;Da(g,Y,de),S=Z}else for(N=0;N<u.length;N++){if(Y=u[N],Z=Y.instance,de=Y.currentTarget,Y=Y.listener,Z!==S&&g.isPropagationStopped())break e;Da(g,Y,de),S=Z}}}if(mn)throw e=is,mn=!1,is=null,e}function He(e,t){var a=t[Is];a===void 0&&(a=t[Is]=new Set);var u=e+"__bubble";a.has(u)||(La(t,e,2,!1),a.add(u))}function Cs(e,t,a){var u=0;t&&(u|=4),La(a,e,u,t)}var mi="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[mi]){e[mi]=!0,o.forEach(function(a){a!=="selectionchange"&&(_u.has(a)||Cs(a,!1,e),Cs(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mi]||(t[mi]=!0,Cs("selectionchange",!1,t))}}function La(e,t,a,u){switch(ra(t)){case 1:var g=Ic;break;case 4:g=Oc;break;default:g=ds}a=g.bind(null,t,a,e),g=void 0,!Nn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),u?g!==void 0?e.addEventListener(t,a,{capture:!0,passive:g}):e.addEventListener(t,a,!0):g!==void 0?e.addEventListener(t,a,{passive:g}):e.addEventListener(t,a,!1)}function Rs(e,t,a,u,g){var S=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var Y=u.stateNode.containerInfo;if(Y===g||Y.nodeType===8&&Y.parentNode===g)break;if(N===4)for(N=u.return;N!==null;){var Z=N.tag;if((Z===3||Z===4)&&(Z=N.stateNode.containerInfo,Z===g||Z.nodeType===8&&Z.parentNode===g))return;N=N.return}for(;Y!==null;){if(N=Bn(Y),N===null)return;if(Z=N.tag,Z===5||Z===6){u=S=N;continue e}Y=Y.parentNode}}u=u.return}On(function(){var de=S,_e=Je(a),Se=[];e:{var Ee=ka.get(e);if(Ee!==void 0){var Te=ps,Re=e;switch(e){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":Te=Qc;break;case"focusin":Re="focus",Te=ys;break;case"focusout":Re="blur",Te=ys;break;case"beforeblur":case"afterblur":Te=ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=eu;break;case Ta:case Pa:case Ca:Te=zc;break;case Ra:Te=nu;break;case"scroll":Te=Nc;break;case"wheel":Te=iu;break;case"copy":case"cut":case"paste":Te=Hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=la}var ke=(t&4)!==0,tt=!ke&&e==="scroll",oe=ke?Ee!==null?Ee+"Capture":null:Ee;ke=[];for(var te=de,ce;te!==null;){ce=te;var Ae=ce.stateNode;if(ce.tag===5&&Ae!==null&&(ce=Ae,oe!==null&&(Ae=Yt(te,oe),Ae!=null&&ke.push(Or(te,Ae,ce)))),tt)break;te=te.return}0<ke.length&&(Ee=new Te(Ee,Re,null,a,_e),Se.push({event:Ee,listeners:ke}))}}if((t&7)===0){e:{if(Ee=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",Ee&&a!==Ve&&(Re=a.relatedTarget||a.fromElement)&&(Bn(Re)||Re[on]))break e;if((Te||Ee)&&(Ee=_e.window===_e?_e:(Ee=_e.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Re=a.relatedTarget||a.toElement,Te=de,Re=Re?Bn(Re):null,Re!==null&&(tt=Vn(Re),Re!==tt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=de),Te!==Re)){if(ke=oa,Ae="onMouseLeave",oe="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(ke=la,Ae="onPointerLeave",oe="onPointerEnter",te="pointer"),tt=Te==null?Ee:sr(Te),ce=Re==null?Ee:sr(Re),Ee=new ke(Ae,te+"leave",Te,a,_e),Ee.target=tt,Ee.relatedTarget=ce,Ae=null,Bn(_e)===de&&(ke=new ke(oe,te+"enter",Re,a,_e),ke.target=ce,ke.relatedTarget=tt,Ae=ke),tt=Ae,Te&&Re)t:{for(ke=Te,oe=Re,te=0,ce=ke;ce;ce=rr(ce))te++;for(ce=0,Ae=oe;Ae;Ae=rr(Ae))ce++;for(;0<te-ce;)ke=rr(ke),te--;for(;0<ce-te;)oe=rr(oe),ce--;for(;te--;){if(ke===oe||oe!==null&&ke===oe.alternate)break t;ke=rr(ke),oe=rr(oe)}ke=null}else ke=null;Te!==null&&Ia(Se,Ee,Te,ke,!1),Re!==null&&tt!==null&&Ia(Se,tt,Re,ke,!0)}}e:{if(Ee=de?sr(de):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var Me=du;else if(pa(Ee))if(ga)Me=mu;else{Me=fu;var Fe=hu}else(Te=Ee.nodeName)&&Te.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Me=pu);if(Me&&(Me=Me(e,de))){ma(Se,Me,a,_e);break e}Fe&&Fe(e,Ee,de),e==="focusout"&&(Fe=Ee._wrapperState)&&Fe.controlled&&Ee.type==="number"&&ge(Ee,"number",Ee.value)}switch(Fe=de?sr(de):window,e){case"focusin":(pa(Fe)||Fe.contentEditable==="true")&&(tr=Fe,As=de,Fr=null);break;case"focusout":Fr=As=tr=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,ba(Se,a,_e);break;case"selectionchange":if(vu)break;case"keydown":case"keyup":ba(Se,a,_e)}var Le;if(xs)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else er?ha(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(ca&&a.locale!=="ko"&&(er||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&er&&(Le=ia()):(En=_e,fs="value"in En?En.value:En.textContent,er=!0)),Fe=gi(de,Oe),0<Fe.length&&(Oe=new aa(Oe,e,null,a,_e),Se.push({event:Oe,listeners:Fe}),Le?Oe.data=Le:(Le=fa(a),Le!==null&&(Oe.data=Le)))),(Le=ou?au(e,a):lu(e,a))&&(de=gi(de,"onBeforeInput"),0<de.length&&(_e=new aa("onBeforeInput","beforeinput",null,a,_e),Se.push({event:_e,listeners:de}),_e.data=Le))}Fa(Se,t)})}function Or(e,t,a){return{instance:e,listener:t,currentTarget:a}}function gi(e,t){for(var a=t+"Capture",u=[];e!==null;){var g=e,S=g.stateNode;g.tag===5&&S!==null&&(g=S,S=Yt(e,a),S!=null&&u.unshift(Or(e,S,g)),S=Yt(e,t),S!=null&&u.push(Or(e,S,g))),e=e.return}return u}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ia(e,t,a,u,g){for(var S=t._reactName,N=[];a!==null&&a!==u;){var Y=a,Z=Y.alternate,de=Y.stateNode;if(Z!==null&&Z===u)break;Y.tag===5&&de!==null&&(Y=de,g?(Z=Yt(a,S),Z!=null&&N.unshift(Or(a,Z,Y))):g||(Z=Yt(a,S),Z!=null&&N.push(Or(a,Z,Y)))),a=a.return}N.length!==0&&e.push({event:t,listeners:N})}var Su=/\r\n?/g,Au=/\u0000|\uFFFD/g;function Oa(e){return(typeof e=="string"?e:""+e).replace(Su,`
`).replace(Au,"")}function yi(e,t,a){if(t=Oa(t),Oa(e)!==t&&a)throw Error(s(425))}function vi(){}var ks=null,Ms=null;function Ds(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fs=typeof setTimeout=="function"?setTimeout:void 0,bu=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,wu=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(e){return Na.resolve(null).then(e).catch(Tu)}:Fs;function Tu(e){setTimeout(function(){throw e})}function Ls(e,t){var a=t,u=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(u===0){e.removeChild(g),Tr(t);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=g}while(a);Tr(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ja(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ir,Nr="__reactProps$"+ir,on="__reactContainer$"+ir,Is="__reactEvents$"+ir,Pu="__reactListeners$"+ir,Cu="__reactHandles$"+ir;function Bn(e){var t=e[Zt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[on]||a[Zt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ja(e);e!==null;){if(a=e[Zt])return a;e=ja(e)}return t}e=a,a=e.parentNode}return null}function jr(e){return e=e[Zt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function xi(e){return e[Nr]||null}var Os=[],or=-1;function An(e){return{current:e}}function Ge(e){0>or||(e.current=Os[or],Os[or]=null,or--)}function We(e,t){or++,Os[or]=e.current,e.current=t}var bn={},mt=An(bn),_t=An(!1),Un=bn;function ar(e,t){var a=e.type.contextTypes;if(!a)return bn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var g={},S;for(S in a)g[S]=t[S];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function St(e){return e=e.childContextTypes,e!=null}function Ei(){Ge(_t),Ge(mt)}function Va(e,t,a){if(mt.current!==bn)throw Error(s(168));We(mt,t),We(_t,a)}function Ba(e,t,a){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var g in u)if(!(g in t))throw Error(s(108,D(e)||"Unknown",g));return T({},a,u)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Un=mt.current,We(mt,e),We(_t,_t.current),!0}function Ua(e,t,a){var u=e.stateNode;if(!u)throw Error(s(169));a?(e=Ba(e,t,Un),u.__reactInternalMemoizedMergedChildContext=e,Ge(_t),Ge(mt),We(mt,e)):Ge(_t),We(_t,a)}var an=null,Si=!1,Ns=!1;function za(e){an===null?an=[e]:an.push(e)}function Ru(e){Si=!0,za(e)}function wn(){if(!Ns&&an!==null){Ns=!0;var e=0,t=ze;try{var a=an;for(ze=1;e<a.length;e++){var u=a[e];do u=u(!0);while(u!==null)}an=null,Si=!1}catch(g){throw an!==null&&(an=an.slice(e+1)),Ho(ss,wn),g}finally{ze=t,Ns=!1}}return null}var lr=[],cr=0,Ai=null,bi=0,Ft=[],Lt=0,zn=null,ln=1,cn="";function Wn(e,t){lr[cr++]=bi,lr[cr++]=Ai,Ai=e,bi=t}function Wa(e,t,a){Ft[Lt++]=ln,Ft[Lt++]=cn,Ft[Lt++]=zn,zn=e;var u=ln;e=cn;var g=32-Ut(u)-1;u&=~(1<<g),a+=1;var S=32-Ut(t)+g;if(30<S){var N=g-g%5;S=(u&(1<<N)-1).toString(32),u>>=N,g-=N,ln=1<<32-Ut(t)+g|a<<g|u,cn=S+e}else ln=1<<S|a<<g|u,cn=e}function js(e){e.return!==null&&(Wn(e,1),Wa(e,1,0))}function Vs(e){for(;e===Ai;)Ai=lr[--cr],lr[cr]=null,bi=lr[--cr],lr[cr]=null;for(;e===zn;)zn=Ft[--Lt],Ft[Lt]=null,cn=Ft[--Lt],Ft[Lt]=null,ln=Ft[--Lt],Ft[Lt]=null}var kt=null,Mt=null,qe=!1,Wt=null;function Ha(e,t){var a=jt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Ga(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Mt=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=zn!==null?{id:ln,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=jt(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,kt=e,Mt=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Us(e){if(qe){var t=Mt;if(t){var a=t;if(!Ga(e,t)){if(Bs(e))throw Error(s(418));t=Sn(a.nextSibling);var u=kt;t&&Ga(e,t)?Ha(u,a):(e.flags=e.flags&-4097|2,qe=!1,kt=e)}}else{if(Bs(e))throw Error(s(418));e.flags=e.flags&-4097|2,qe=!1,kt=e}}}function qa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function wi(e){if(e!==kt)return!1;if(!qe)return qa(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ds(e.type,e.memoizedProps)),t&&(t=Mt)){if(Bs(e))throw Xa(),Error(s(418));for(;t;)Ha(e,t),t=Sn(t.nextSibling)}if(qa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Mt=Sn(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=kt?Sn(e.stateNode.nextSibling):null;return!0}function Xa(){for(var e=Mt;e;)e=Sn(e.nextSibling)}function ur(){Mt=kt=null,qe=!1}function zs(e){Wt===null?Wt=[e]:Wt.push(e)}var ku=I.ReactCurrentBatchConfig;function Vr(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var u=a.stateNode}if(!u)throw Error(s(147,e));var g=u,S=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===S?t.ref:(t=function(N){var Y=g.refs;N===null?delete Y[S]:Y[S]=N},t._stringRef=S,t)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){var t=e._init;return t(e._payload)}function Ka(e){function t(oe,te){if(e){var ce=oe.deletions;ce===null?(oe.deletions=[te],oe.flags|=16):ce.push(te)}}function a(oe,te){if(!e)return null;for(;te!==null;)t(oe,te),te=te.sibling;return null}function u(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function g(oe,te){return oe=Fn(oe,te),oe.index=0,oe.sibling=null,oe}function S(oe,te,ce){return oe.index=ce,e?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<te?(oe.flags|=2,te):ce):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function N(oe){return e&&oe.alternate===null&&(oe.flags|=2),oe}function Y(oe,te,ce,Ae){return te===null||te.tag!==6?(te=Lo(ce,oe.mode,Ae),te.return=oe,te):(te=g(te,ce),te.return=oe,te)}function Z(oe,te,ce,Ae){var Me=ce.type;return Me===H?_e(oe,te,ce.props.children,Ae,ce.key):te!==null&&(te.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ae&&$a(Me)===te.type)?(Ae=g(te,ce.props),Ae.ref=Vr(oe,te,ce),Ae.return=oe,Ae):(Ae=Yi(ce.type,ce.key,ce.props,null,oe.mode,Ae),Ae.ref=Vr(oe,te,ce),Ae.return=oe,Ae)}function de(oe,te,ce,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Io(ce,oe.mode,Ae),te.return=oe,te):(te=g(te,ce.children||[]),te.return=oe,te)}function _e(oe,te,ce,Ae,Me){return te===null||te.tag!==7?(te=Qn(ce,oe.mode,Ae,Me),te.return=oe,te):(te=g(te,ce),te.return=oe,te)}function Se(oe,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Lo(""+te,oe.mode,ce),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return ce=Yi(te.type,te.key,te.props,null,oe.mode,ce),ce.ref=Vr(oe,null,te),ce.return=oe,ce;case F:return te=Io(te,oe.mode,ce),te.return=oe,te;case ae:var Ae=te._init;return Se(oe,Ae(te._payload),ce)}if(be(te)||C(te))return te=Qn(te,oe.mode,ce,null),te.return=oe,te;Ti(oe,te)}return null}function Ee(oe,te,ce,Ae){var Me=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Me!==null?null:Y(oe,te,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return ce.key===Me?Z(oe,te,ce,Ae):null;case F:return ce.key===Me?de(oe,te,ce,Ae):null;case ae:return Me=ce._init,Ee(oe,te,Me(ce._payload),Ae)}if(be(ce)||C(ce))return Me!==null?null:_e(oe,te,ce,Ae,null);Ti(oe,ce)}return null}function Te(oe,te,ce,Ae,Me){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return oe=oe.get(ce)||null,Y(te,oe,""+Ae,Me);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case R:return oe=oe.get(Ae.key===null?ce:Ae.key)||null,Z(te,oe,Ae,Me);case F:return oe=oe.get(Ae.key===null?ce:Ae.key)||null,de(te,oe,Ae,Me);case ae:var Fe=Ae._init;return Te(oe,te,ce,Fe(Ae._payload),Me)}if(be(Ae)||C(Ae))return oe=oe.get(ce)||null,_e(te,oe,Ae,Me,null);Ti(te,Ae)}return null}function Re(oe,te,ce,Ae){for(var Me=null,Fe=null,Le=te,Oe=te=0,ut=null;Le!==null&&Oe<ce.length;Oe++){Le.index>Oe?(ut=Le,Le=null):ut=Le.sibling;var Ue=Ee(oe,Le,ce[Oe],Ae);if(Ue===null){Le===null&&(Le=ut);break}e&&Le&&Ue.alternate===null&&t(oe,Le),te=S(Ue,te,Oe),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue,Le=ut}if(Oe===ce.length)return a(oe,Le),qe&&Wn(oe,Oe),Me;if(Le===null){for(;Oe<ce.length;Oe++)Le=Se(oe,ce[Oe],Ae),Le!==null&&(te=S(Le,te,Oe),Fe===null?Me=Le:Fe.sibling=Le,Fe=Le);return qe&&Wn(oe,Oe),Me}for(Le=u(oe,Le);Oe<ce.length;Oe++)ut=Te(Le,oe,Oe,ce[Oe],Ae),ut!==null&&(e&&ut.alternate!==null&&Le.delete(ut.key===null?Oe:ut.key),te=S(ut,te,Oe),Fe===null?Me=ut:Fe.sibling=ut,Fe=ut);return e&&Le.forEach(function(Ln){return t(oe,Ln)}),qe&&Wn(oe,Oe),Me}function ke(oe,te,ce,Ae){var Me=C(ce);if(typeof Me!="function")throw Error(s(150));if(ce=Me.call(ce),ce==null)throw Error(s(151));for(var Fe=Me=null,Le=te,Oe=te=0,ut=null,Ue=ce.next();Le!==null&&!Ue.done;Oe++,Ue=ce.next()){Le.index>Oe?(ut=Le,Le=null):ut=Le.sibling;var Ln=Ee(oe,Le,Ue.value,Ae);if(Ln===null){Le===null&&(Le=ut);break}e&&Le&&Ln.alternate===null&&t(oe,Le),te=S(Ln,te,Oe),Fe===null?Me=Ln:Fe.sibling=Ln,Fe=Ln,Le=ut}if(Ue.done)return a(oe,Le),qe&&Wn(oe,Oe),Me;if(Le===null){for(;!Ue.done;Oe++,Ue=ce.next())Ue=Se(oe,Ue.value,Ae),Ue!==null&&(te=S(Ue,te,Oe),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue);return qe&&Wn(oe,Oe),Me}for(Le=u(oe,Le);!Ue.done;Oe++,Ue=ce.next())Ue=Te(Le,oe,Oe,Ue.value,Ae),Ue!==null&&(e&&Ue.alternate!==null&&Le.delete(Ue.key===null?Oe:Ue.key),te=S(Ue,te,Oe),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue);return e&&Le.forEach(function(ud){return t(oe,ud)}),qe&&Wn(oe,Oe),Me}function tt(oe,te,ce,Ae){if(typeof ce=="object"&&ce!==null&&ce.type===H&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:e:{for(var Me=ce.key,Fe=te;Fe!==null;){if(Fe.key===Me){if(Me=ce.type,Me===H){if(Fe.tag===7){a(oe,Fe.sibling),te=g(Fe,ce.props.children),te.return=oe,oe=te;break e}}else if(Fe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ae&&$a(Me)===Fe.type){a(oe,Fe.sibling),te=g(Fe,ce.props),te.ref=Vr(oe,Fe,ce),te.return=oe,oe=te;break e}a(oe,Fe);break}else t(oe,Fe);Fe=Fe.sibling}ce.type===H?(te=Qn(ce.props.children,oe.mode,Ae,ce.key),te.return=oe,oe=te):(Ae=Yi(ce.type,ce.key,ce.props,null,oe.mode,Ae),Ae.ref=Vr(oe,te,ce),Ae.return=oe,oe=Ae)}return N(oe);case F:e:{for(Fe=ce.key;te!==null;){if(te.key===Fe)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){a(oe,te.sibling),te=g(te,ce.children||[]),te.return=oe,oe=te;break e}else{a(oe,te);break}else t(oe,te);te=te.sibling}te=Io(ce,oe.mode,Ae),te.return=oe,oe=te}return N(oe);case ae:return Fe=ce._init,tt(oe,te,Fe(ce._payload),Ae)}if(be(ce))return Re(oe,te,ce,Ae);if(C(ce))return ke(oe,te,ce,Ae);Ti(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(a(oe,te.sibling),te=g(te,ce),te.return=oe,oe=te):(a(oe,te),te=Lo(ce,oe.mode,Ae),te.return=oe,oe=te),N(oe)):a(oe,te)}return tt}var dr=Ka(!0),Ya=Ka(!1),Pi=An(null),Ci=null,hr=null,Ws=null;function Hs(){Ws=hr=Ci=null}function Gs(e){var t=Pi.current;Ge(Pi),e._currentValue=t}function qs(e,t,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===a)break;e=e.return}}function fr(e,t){Ci=e,Ws=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(At=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Ci===null)throw Error(s(308));hr=e,Ci.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Hn=null;function Xs(e){Hn===null?Hn=[e]:Hn.push(e)}function Qa(e,t,a,u){var g=t.interleaved;return g===null?(a.next=a,Xs(t)):(a.next=g.next,g.next=a),t.interleaved=a,un(e,u)}function un(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Tn=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var g=u.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),u.pending=t,un(e,a)}return g=u.interleaved,g===null?(t.next=t,Xs(u)):(t.next=g.next,g.next=t),u.interleaved=t,un(e,a)}function Ri(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,a|=u,t.lanes=a,ls(e,a)}}function Za(e,t){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,S=null;if(a=a.firstBaseUpdate,a!==null){do{var N={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};S===null?g=S=N:S=S.next=N,a=a.next}while(a!==null);S===null?g=S=t:S=S.next=t}else g=S=t;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:S,shared:u.shared,effects:u.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function ki(e,t,a,u){var g=e.updateQueue;Tn=!1;var S=g.firstBaseUpdate,N=g.lastBaseUpdate,Y=g.shared.pending;if(Y!==null){g.shared.pending=null;var Z=Y,de=Z.next;Z.next=null,N===null?S=de:N.next=de,N=Z;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,Y=_e.lastBaseUpdate,Y!==N&&(Y===null?_e.firstBaseUpdate=de:Y.next=de,_e.lastBaseUpdate=Z))}if(S!==null){var Se=g.baseState;N=0,_e=de=Z=null,Y=S;do{var Ee=Y.lane,Te=Y.eventTime;if((u&Ee)===Ee){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Re=e,ke=Y;switch(Ee=t,Te=a,ke.tag){case 1:if(Re=ke.payload,typeof Re=="function"){Se=Re.call(Te,Se,Ee);break e}Se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ke.payload,Ee=typeof Re=="function"?Re.call(Te,Se,Ee):Re,Ee==null)break e;Se=T({},Se,Ee);break e;case 2:Tn=!0}}Y.callback!==null&&Y.lane!==0&&(e.flags|=64,Ee=g.effects,Ee===null?g.effects=[Y]:Ee.push(Y))}else Te={eventTime:Te,lane:Ee,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},_e===null?(de=_e=Te,Z=Se):_e=_e.next=Te,N|=Ee;if(Y=Y.next,Y===null){if(Y=g.shared.pending,Y===null)break;Ee=Y,Y=Ee.next,Ee.next=null,g.lastBaseUpdate=Ee,g.shared.pending=null}}while(!0);if(_e===null&&(Z=Se),g.baseState=Z,g.firstBaseUpdate=de,g.lastBaseUpdate=_e,t=g.shared.interleaved,t!==null){g=t;do N|=g.lane,g=g.next;while(g!==t)}else S===null&&(g.shared.lanes=0);Xn|=N,e.lanes=N,e.memoizedState=Se}}function el(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],g=u.callback;if(g!==null){if(u.callback=null,u=a,typeof g!="function")throw Error(s(191,g));g.call(u)}}}var Br={},en=An(Br),Ur=An(Br),zr=An(Br);function Gn(e){if(e===Br)throw Error(s(174));return e}function Ks(e,t){switch(We(zr,t),We(Ur,e),We(en,Br),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qe(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qe(t,e)}Ge(en),We(en,t)}function pr(){Ge(en),Ge(Ur),Ge(zr)}function tl(e){Gn(zr.current);var t=Gn(en.current),a=Qe(t,e.type);t!==a&&(We(Ur,e),We(en,a))}function Ys(e){Ur.current===e&&(Ge(en),Ge(Ur))}var Xe=An(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qs=[];function Js(){for(var e=0;e<Qs.length;e++)Qs[e]._workInProgressVersionPrimary=null;Qs.length=0}var Di=I.ReactCurrentDispatcher,Zs=I.ReactCurrentBatchConfig,qn=0,$e=null,st=null,lt=null,Fi=!1,Wr=!1,Hr=0,Mu=0;function gt(){throw Error(s(321))}function eo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!zt(e[a],t[a]))return!1;return!0}function to(e,t,a,u,g,S){if(qn=S,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Di.current=e===null||e.memoizedState===null?Iu:Ou,e=a(u,g),Wr){S=0;do{if(Wr=!1,Hr=0,25<=S)throw Error(s(301));S+=1,lt=st=null,t.updateQueue=null,Di.current=Nu,e=a(u,g)}while(Wr)}if(Di.current=Oi,t=st!==null&&st.next!==null,qn=0,lt=st=$e=null,Fi=!1,t)throw Error(s(300));return e}function no(){var e=Hr!==0;return Hr=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=e:lt=lt.next=e,lt}function Ot(){if(st===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=lt===null?$e.memoizedState:lt.next;if(t!==null)lt=t,st=e;else{if(e===null)throw Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?$e.memoizedState=lt=e:lt=lt.next=e}return lt}function Gr(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=Ot(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=st,g=u.baseQueue,S=a.pending;if(S!==null){if(g!==null){var N=g.next;g.next=S.next,S.next=N}u.baseQueue=g=S,a.pending=null}if(g!==null){S=g.next,u=u.baseState;var Y=N=null,Z=null,de=S;do{var _e=de.lane;if((qn&_e)===_e)Z!==null&&(Z=Z.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),u=de.hasEagerState?de.eagerState:e(u,de.action);else{var Se={lane:_e,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Z===null?(Y=Z=Se,N=u):Z=Z.next=Se,$e.lanes|=_e,Xn|=_e}de=de.next}while(de!==null&&de!==S);Z===null?N=u:Z.next=Y,zt(u,t.memoizedState)||(At=!0),t.memoizedState=u,t.baseState=N,t.baseQueue=Z,a.lastRenderedState=u}if(e=a.interleaved,e!==null){g=e;do S=g.lane,$e.lanes|=S,Xn|=S,g=g.next;while(g!==e)}else g===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function io(e){var t=Ot(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=a.dispatch,g=a.pending,S=t.memoizedState;if(g!==null){a.pending=null;var N=g=g.next;do S=e(S,N.action),N=N.next;while(N!==g);zt(S,t.memoizedState)||(At=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),a.lastRenderedState=S}return[S,u]}function nl(){}function rl(e,t){var a=$e,u=Ot(),g=t(),S=!zt(u.memoizedState,g);if(S&&(u.memoizedState=g,At=!0),u=u.queue,so(ol.bind(null,a,u,e),[e]),u.getSnapshot!==t||S||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,qr(9,sl.bind(null,a,u,g,t),void 0,null),ct===null)throw Error(s(349));(qn&30)!==0||il(a,t,g)}return g}function il(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sl(e,t,a,u){t.value=a,t.getSnapshot=u,al(t)&&ll(e)}function ol(e,t,a){return a(function(){al(t)&&ll(e)})}function al(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!zt(e,a)}catch{return!0}}function ll(e){var t=un(e,1);t!==null&&Xt(t,e,1,-1)}function cl(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:e},t.queue=e,e=e.dispatch=Lu.bind(null,$e,e),[t.memoizedState,e]}function qr(e,t,a,u){return e={tag:e,create:t,destroy:a,deps:u,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,t.lastEffect=e)),e}function ul(){return Ot().memoizedState}function Li(e,t,a,u){var g=tn();$e.flags|=e,g.memoizedState=qr(1|t,a,void 0,u===void 0?null:u)}function Ii(e,t,a,u){var g=Ot();u=u===void 0?null:u;var S=void 0;if(st!==null){var N=st.memoizedState;if(S=N.destroy,u!==null&&eo(u,N.deps)){g.memoizedState=qr(t,a,S,u);return}}$e.flags|=e,g.memoizedState=qr(1|t,a,S,u)}function dl(e,t){return Li(8390656,8,e,t)}function so(e,t){return Ii(2048,8,e,t)}function hl(e,t){return Ii(4,2,e,t)}function fl(e,t){return Ii(4,4,e,t)}function pl(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ml(e,t,a){return a=a!=null?a.concat([e]):null,Ii(4,4,pl.bind(null,t,e),a)}function oo(){}function gl(e,t){var a=Ot();t=t===void 0?null:t;var u=a.memoizedState;return u!==null&&t!==null&&eo(t,u[1])?u[0]:(a.memoizedState=[e,t],e)}function yl(e,t){var a=Ot();t=t===void 0?null:t;var u=a.memoizedState;return u!==null&&t!==null&&eo(t,u[1])?u[0]:(e=e(),a.memoizedState=[e,t],e)}function vl(e,t,a){return(qn&21)===0?(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=a):(zt(a,t)||(a=$o(),$e.lanes|=a,Xn|=a,e.baseState=!0),t)}function Du(e,t){var a=ze;ze=a!==0&&4>a?a:4,e(!0);var u=Zs.transition;Zs.transition={};try{e(!1),t()}finally{ze=a,Zs.transition=u}}function xl(){return Ot().memoizedState}function Fu(e,t,a){var u=Mn(e);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},El(e))_l(t,a);else if(a=Qa(e,t,a,u),a!==null){var g=Et();Xt(a,e,u,g),Sl(a,t,u)}}function Lu(e,t,a){var u=Mn(e),g={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(El(e))_l(t,g);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=t.lastRenderedReducer,S!==null))try{var N=t.lastRenderedState,Y=S(N,a);if(g.hasEagerState=!0,g.eagerState=Y,zt(Y,N)){var Z=t.interleaved;Z===null?(g.next=g,Xs(t)):(g.next=Z.next,Z.next=g),t.interleaved=g;return}}catch{}finally{}a=Qa(e,t,g,u),a!==null&&(g=Et(),Xt(a,e,u,g),Sl(a,t,u))}}function El(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function _l(e,t){Wr=Fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sl(e,t,a){if((a&4194240)!==0){var u=t.lanes;u&=e.pendingLanes,a|=u,t.lanes=a,ls(e,a)}}var Oi={readContext:It,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Iu={readContext:It,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:dl,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Li(4194308,4,pl.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var a=tn();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var u=tn();return t=a!==void 0?a(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Fu.bind(null,$e,e),[u.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:cl,useDebugValue:oo,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=cl(!1),t=e[0];return e=Du.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var u=$e,g=tn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),ct===null)throw Error(s(349));(qn&30)!==0||il(u,t,a)}g.memoizedState=a;var S={value:a,getSnapshot:t};return g.queue=S,dl(ol.bind(null,u,S,e),[e]),u.flags|=2048,qr(9,sl.bind(null,u,S,a,t),void 0,null),a},useId:function(){var e=tn(),t=ct.identifierPrefix;if(qe){var a=cn,u=ln;a=(u&~(1<<32-Ut(u)-1)).toString(32)+a,t=":"+t+"R"+a,a=Hr++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Mu++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ou={readContext:It,useCallback:gl,useContext:It,useEffect:so,useImperativeHandle:ml,useInsertionEffect:hl,useLayoutEffect:fl,useMemo:yl,useReducer:ro,useRef:ul,useState:function(){return ro(Gr)},useDebugValue:oo,useDeferredValue:function(e){var t=Ot();return vl(t,st.memoizedState,e)},useTransition:function(){var e=ro(Gr)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:nl,useSyncExternalStore:rl,useId:xl,unstable_isNewReconciler:!1},Nu={readContext:It,useCallback:gl,useContext:It,useEffect:so,useImperativeHandle:ml,useInsertionEffect:hl,useLayoutEffect:fl,useMemo:yl,useReducer:io,useRef:ul,useState:function(){return io(Gr)},useDebugValue:oo,useDeferredValue:function(e){var t=Ot();return st===null?t.memoizedState=e:vl(t,st.memoizedState,e)},useTransition:function(){var e=io(Gr)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:nl,useSyncExternalStore:rl,useId:xl,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=T({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function ao(e,t,a,u){t=e.memoizedState,a=a(u,t),a=a==null?t:T({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ni={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var u=Et(),g=Mn(e),S=dn(u,g);S.payload=t,a!=null&&(S.callback=a),t=Pn(e,S,g),t!==null&&(Xt(t,e,g,u),Ri(t,e,g))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var u=Et(),g=Mn(e),S=dn(u,g);S.tag=1,S.payload=t,a!=null&&(S.callback=a),t=Pn(e,S,g),t!==null&&(Xt(t,e,g,u),Ri(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),u=Mn(e),g=dn(a,u);g.tag=2,t!=null&&(g.callback=t),t=Pn(e,g,u),t!==null&&(Xt(t,e,u,a),Ri(t,e,u))}};function Al(e,t,a,u,g,S,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,S,N):t.prototype&&t.prototype.isPureReactComponent?!Dr(a,u)||!Dr(g,S):!0}function bl(e,t,a){var u=!1,g=bn,S=t.contextType;return typeof S=="object"&&S!==null?S=It(S):(g=St(t)?Un:mt.current,u=t.contextTypes,S=(u=u!=null)?ar(e,g):bn),t=new t(a,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ni,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=S),t}function wl(e,t,a,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,u),t.state!==e&&Ni.enqueueReplaceState(t,t.state,null)}function lo(e,t,a,u){var g=e.stateNode;g.props=a,g.state=e.memoizedState,g.refs={},$s(e);var S=t.contextType;typeof S=="object"&&S!==null?g.context=It(S):(S=St(t)?Un:mt.current,g.context=ar(e,S)),g.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(ao(e,t,S,a),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&Ni.enqueueReplaceState(g,g.state,null),ki(e,a,g,u),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var a="",u=t;do a+=U(u),u=u.return;while(u);var g=a}catch(S){g=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:t,stack:g,digest:null}}function co(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function uo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var ju=typeof WeakMap=="function"?WeakMap:Map;function Tl(e,t,a){a=dn(-1,a),a.tag=3,a.payload={element:null};var u=t.value;return a.callback=function(){Hi||(Hi=!0,To=u),uo(e,t)},a}function Pl(e,t,a){a=dn(-1,a),a.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var g=t.value;a.payload=function(){return u(g)},a.callback=function(){uo(e,t)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){uo(e,t),typeof u!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var N=t.stack;this.componentDidCatch(t.value,{componentStack:N!==null?N:""})}),a}function Cl(e,t,a){var u=e.pingCache;if(u===null){u=e.pingCache=new ju;var g=new Set;u.set(t,g)}else g=u.get(t),g===void 0&&(g=new Set,u.set(t,g));g.has(a)||(g.add(a),e=Ju.bind(null,e,t,a),t.then(e,e))}function Rl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kl(e,t,a,u,g){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=dn(-1,1),t.tag=2,Pn(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var Vu=I.ReactCurrentOwner,At=!1;function xt(e,t,a,u){t.child=e===null?Ya(t,null,a,u):dr(t,e.child,a,u)}function Ml(e,t,a,u,g){a=a.render;var S=t.ref;return fr(t,g),u=to(e,t,a,u,S,g),a=no(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,hn(e,t,g)):(qe&&a&&js(t),t.flags|=1,xt(e,t,u,g),t.child)}function Dl(e,t,a,u,g){if(e===null){var S=a.type;return typeof S=="function"&&!Fo(S)&&S.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=S,Fl(e,t,S,u,g)):(e=Yi(a.type,null,u,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(S=e.child,(e.lanes&g)===0){var N=S.memoizedProps;if(a=a.compare,a=a!==null?a:Dr,a(N,u)&&e.ref===t.ref)return hn(e,t,g)}return t.flags|=1,e=Fn(S,u),e.ref=t.ref,e.return=t,t.child=e}function Fl(e,t,a,u,g){if(e!==null){var S=e.memoizedProps;if(Dr(S,u)&&e.ref===t.ref)if(At=!1,t.pendingProps=u=S,(e.lanes&g)!==0)(e.flags&131072)!==0&&(At=!0);else return t.lanes=e.lanes,hn(e,t,g)}return ho(e,t,a,u,g)}function Ll(e,t,a){var u=t.pendingProps,g=u.children,S=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(yr,Dt),Dt|=a;else{if((a&1073741824)===0)return e=S!==null?S.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(yr,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=S!==null?S.baseLanes:a,We(yr,Dt),Dt|=u}else S!==null?(u=S.baseLanes|a,t.memoizedState=null):u=a,We(yr,Dt),Dt|=u;return xt(e,t,g,a),t.child}function Il(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function ho(e,t,a,u,g){var S=St(a)?Un:mt.current;return S=ar(t,S),fr(t,g),a=to(e,t,a,u,S,g),u=no(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,hn(e,t,g)):(qe&&u&&js(t),t.flags|=1,xt(e,t,a,g),t.child)}function Ol(e,t,a,u,g){if(St(a)){var S=!0;_i(t)}else S=!1;if(fr(t,g),t.stateNode===null)Vi(e,t),bl(t,a,u),lo(t,a,u,g),u=!0;else if(e===null){var N=t.stateNode,Y=t.memoizedProps;N.props=Y;var Z=N.context,de=a.contextType;typeof de=="object"&&de!==null?de=It(de):(de=St(a)?Un:mt.current,de=ar(t,de));var _e=a.getDerivedStateFromProps,Se=typeof _e=="function"||typeof N.getSnapshotBeforeUpdate=="function";Se||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==u||Z!==de)&&wl(t,N,u,de),Tn=!1;var Ee=t.memoizedState;N.state=Ee,ki(t,u,N,g),Z=t.memoizedState,Y!==u||Ee!==Z||_t.current||Tn?(typeof _e=="function"&&(ao(t,a,_e,u),Z=t.memoizedState),(Y=Tn||Al(t,a,Y,u,Ee,Z,de))?(Se||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(t.flags|=4194308)):(typeof N.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=Z),N.props=u,N.state=Z,N.context=de,u=Y):(typeof N.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{N=t.stateNode,Ja(e,t),Y=t.memoizedProps,de=t.type===t.elementType?Y:Ht(t.type,Y),N.props=de,Se=t.pendingProps,Ee=N.context,Z=a.contextType,typeof Z=="object"&&Z!==null?Z=It(Z):(Z=St(a)?Un:mt.current,Z=ar(t,Z));var Te=a.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==Se||Ee!==Z)&&wl(t,N,u,Z),Tn=!1,Ee=t.memoizedState,N.state=Ee,ki(t,u,N,g);var Re=t.memoizedState;Y!==Se||Ee!==Re||_t.current||Tn?(typeof Te=="function"&&(ao(t,a,Te,u),Re=t.memoizedState),(de=Tn||Al(t,a,de,u,Ee,Re,Z)||!1)?(_e||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(u,Re,Z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(u,Re,Z)),typeof N.componentDidUpdate=="function"&&(t.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof N.componentDidUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=Re),N.props=u,N.state=Re,N.context=Z,u=de):(typeof N.componentDidUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&Ee===e.memoizedState||(t.flags|=1024),u=!1)}return fo(e,t,a,u,S,g)}function fo(e,t,a,u,g,S){Il(e,t);var N=(t.flags&128)!==0;if(!u&&!N)return g&&Ua(t,a,!1),hn(e,t,S);u=t.stateNode,Vu.current=t;var Y=N&&typeof a.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&N?(t.child=dr(t,e.child,null,S),t.child=dr(t,null,Y,S)):xt(e,t,Y,S),t.memoizedState=u.state,g&&Ua(t,a,!0),t.child}function Nl(e){var t=e.stateNode;t.pendingContext?Va(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Va(e,t.context,!1),Ks(e,t.containerInfo)}function jl(e,t,a,u,g){return ur(),zs(g),t.flags|=256,xt(e,t,a,u),t.child}var po={dehydrated:null,treeContext:null,retryLane:0};function mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vl(e,t,a){var u=t.pendingProps,g=Xe.current,S=!1,N=(t.flags&128)!==0,Y;if((Y=N)||(Y=e!==null&&e.memoizedState===null?!1:(g&2)!==0),Y?(S=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),We(Xe,g&1),e===null)return Us(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(N=u.children,e=u.fallback,S?(u=t.mode,S=t.child,N={mode:"hidden",children:N},(u&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=N):S=Qi(N,u,0,null),e=Qn(e,u,a,null),S.return=t,e.return=t,S.sibling=e,t.child=S,t.child.memoizedState=mo(a),t.memoizedState=po,e):go(t,N));if(g=e.memoizedState,g!==null&&(Y=g.dehydrated,Y!==null))return Bu(e,t,N,u,Y,g,a);if(S){S=u.fallback,N=t.mode,g=e.child,Y=g.sibling;var Z={mode:"hidden",children:u.children};return(N&1)===0&&t.child!==g?(u=t.child,u.childLanes=0,u.pendingProps=Z,t.deletions=null):(u=Fn(g,Z),u.subtreeFlags=g.subtreeFlags&14680064),Y!==null?S=Fn(Y,S):(S=Qn(S,N,a,null),S.flags|=2),S.return=t,u.return=t,u.sibling=S,t.child=u,u=S,S=t.child,N=e.child.memoizedState,N=N===null?mo(a):{baseLanes:N.baseLanes|a,cachePool:null,transitions:N.transitions},S.memoizedState=N,S.childLanes=e.childLanes&~a,t.memoizedState=po,u}return S=e.child,e=S.sibling,u=Fn(S,{mode:"visible",children:u.children}),(t.mode&1)===0&&(u.lanes=a),u.return=t,u.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=u,t.memoizedState=null,u}function go(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ji(e,t,a,u){return u!==null&&zs(u),dr(t,e.child,null,a),e=go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bu(e,t,a,u,g,S,N){if(a)return t.flags&256?(t.flags&=-257,u=co(Error(s(422))),ji(e,t,N,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(S=u.fallback,g=t.mode,u=Qi({mode:"visible",children:u.children},g,0,null),S=Qn(S,g,N,null),S.flags|=2,u.return=t,S.return=t,u.sibling=S,t.child=u,(t.mode&1)!==0&&dr(t,e.child,null,N),t.child.memoizedState=mo(N),t.memoizedState=po,S);if((t.mode&1)===0)return ji(e,t,N,null);if(g.data==="$!"){if(u=g.nextSibling&&g.nextSibling.dataset,u)var Y=u.dgst;return u=Y,S=Error(s(419)),u=co(S,u,void 0),ji(e,t,N,u)}if(Y=(N&e.childLanes)!==0,At||Y){if(u=ct,u!==null){switch(N&-N){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(u.suspendedLanes|N))!==0?0:g,g!==0&&g!==S.retryLane&&(S.retryLane=g,un(e,g),Xt(u,e,g,-1))}return Do(),u=co(Error(s(421))),ji(e,t,N,u)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=Zu.bind(null,e),g._reactRetry=t,null):(e=S.treeContext,Mt=Sn(g.nextSibling),kt=t,qe=!0,Wt=null,e!==null&&(Ft[Lt++]=ln,Ft[Lt++]=cn,Ft[Lt++]=zn,ln=e.id,cn=e.overflow,zn=t),t=go(t,u.children),t.flags|=4096,t)}function Bl(e,t,a){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),qs(e.return,t,a)}function yo(e,t,a,u,g){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=a,S.tailMode=g)}function Ul(e,t,a){var u=t.pendingProps,g=u.revealOrder,S=u.tail;if(xt(e,t,u.children,a),u=Xe.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bl(e,a,t);else if(e.tag===19)Bl(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(We(Xe,u),(t.mode&1)===0)t.memoizedState=null;else switch(g){case"forwards":for(a=t.child,g=null;a!==null;)e=a.alternate,e!==null&&Mi(e)===null&&(g=a),a=a.sibling;a=g,a===null?(g=t.child,t.child=null):(g=a.sibling,a.sibling=null),yo(t,!1,g,a,S);break;case"backwards":for(a=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Mi(e)===null){t.child=g;break}e=g.sibling,g.sibling=a,a=g,g=e}yo(t,!0,a,null,S);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,a=Fn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Fn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Uu(e,t,a){switch(t.tag){case 3:Nl(t),ur();break;case 5:tl(t);break;case 1:St(t.type)&&_i(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,g=t.memoizedProps.value;We(Pi,u._currentValue),u._currentValue=g;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(We(Xe,Xe.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?Vl(e,t,a):(We(Xe,Xe.current&1),e=hn(e,t,a),e!==null?e.sibling:null);We(Xe,Xe.current&1);break;case 19:if(u=(a&t.childLanes)!==0,(e.flags&128)!==0){if(u)return Ul(e,t,a);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),We(Xe,Xe.current),u)break;return null;case 22:case 23:return t.lanes=0,Ll(e,t,a)}return hn(e,t,a)}var zl,vo,Wl,Hl;zl=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vo=function(){},Wl=function(e,t,a,u){var g=e.memoizedProps;if(g!==u){e=t.stateNode,Gn(en.current);var S=null;switch(a){case"input":g=ye(e,g),u=ye(e,u),S=[];break;case"select":g=T({},g,{value:void 0}),u=T({},u,{value:void 0}),S=[];break;case"textarea":g=De(e,g),u=De(e,u),S=[];break;default:typeof g.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=vi)}ie(a,u);var N;a=null;for(de in g)if(!u.hasOwnProperty(de)&&g.hasOwnProperty(de)&&g[de]!=null)if(de==="style"){var Y=g[de];for(N in Y)Y.hasOwnProperty(N)&&(a||(a={}),a[N]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(c.hasOwnProperty(de)?S||(S=[]):(S=S||[]).push(de,null));for(de in u){var Z=u[de];if(Y=g?.[de],u.hasOwnProperty(de)&&Z!==Y&&(Z!=null||Y!=null))if(de==="style")if(Y){for(N in Y)!Y.hasOwnProperty(N)||Z&&Z.hasOwnProperty(N)||(a||(a={}),a[N]="");for(N in Z)Z.hasOwnProperty(N)&&Y[N]!==Z[N]&&(a||(a={}),a[N]=Z[N])}else a||(S||(S=[]),S.push(de,a)),a=Z;else de==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Y=Y?Y.__html:void 0,Z!=null&&Y!==Z&&(S=S||[]).push(de,Z)):de==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(de,""+Z):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(c.hasOwnProperty(de)?(Z!=null&&de==="onScroll"&&He("scroll",e),S||Y===Z||(S=[])):(S=S||[]).push(de,Z))}a&&(S=S||[]).push("style",a);var de=S;(t.updateQueue=de)&&(t.flags|=4)}},Hl=function(e,t,a,u){a!==u&&(t.flags|=4)};function Xr(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(t)for(var g=e.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&14680064,u|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=u,e.childLanes=a,t}function zu(e,t,a){var u=t.pendingProps;switch(Vs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return St(t.type)&&Ei(),yt(t),null;case 3:return u=t.stateNode,pr(),Ge(_t),Ge(mt),Js(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wt!==null&&(Ro(Wt),Wt=null))),vo(e,t),yt(t),null;case 5:Ys(t);var g=Gn(zr.current);if(a=t.type,e!==null&&t.stateNode!=null)Wl(e,t,a,u,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(s(166));return yt(t),null}if(e=Gn(en.current),wi(t)){u=t.stateNode,a=t.type;var S=t.memoizedProps;switch(u[Zt]=t,u[Nr]=S,e=(t.mode&1)!==0,a){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(g=0;g<Lr.length;g++)He(Lr[g],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":ne(u,S),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!S.multiple},He("invalid",u);break;case"textarea":Ie(u,S),He("invalid",u)}ie(a,S),g=null;for(var N in S)if(S.hasOwnProperty(N)){var Y=S[N];N==="children"?typeof Y=="string"?u.textContent!==Y&&(S.suppressHydrationWarning!==!0&&yi(u.textContent,Y,e),g=["children",Y]):typeof Y=="number"&&u.textContent!==""+Y&&(S.suppressHydrationWarning!==!0&&yi(u.textContent,Y,e),g=["children",""+Y]):c.hasOwnProperty(N)&&Y!=null&&N==="onScroll"&&He("scroll",u)}switch(a){case"input":$(u),pe(u,S,!0);break;case"textarea":$(u),je(u);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(u.onclick=vi)}u=g,t.updateQueue=u,u!==null&&(t.flags|=4)}else{N=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=at(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=N.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=N.createElement(a,{is:u.is}):(e=N.createElement(a),a==="select"&&(N=e,u.multiple?N.multiple=!0:u.size&&(N.size=u.size))):e=N.createElementNS(e,a),e[Zt]=t,e[Nr]=u,zl(e,t,!1,!1),t.stateNode=e;e:{switch(N=we(a,u),a){case"dialog":He("cancel",e),He("close",e),g=u;break;case"iframe":case"object":case"embed":He("load",e),g=u;break;case"video":case"audio":for(g=0;g<Lr.length;g++)He(Lr[g],e);g=u;break;case"source":He("error",e),g=u;break;case"img":case"image":case"link":He("error",e),He("load",e),g=u;break;case"details":He("toggle",e),g=u;break;case"input":ne(e,u),g=ye(e,u),He("invalid",e);break;case"option":g=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},g=T({},u,{value:void 0}),He("invalid",e);break;case"textarea":Ie(e,u),g=De(e,u),He("invalid",e);break;default:g=u}ie(a,g),Y=g;for(S in Y)if(Y.hasOwnProperty(S)){var Z=Y[S];S==="style"?xe(e,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&nt(e,Z)):S==="children"?typeof Z=="string"?(a!=="textarea"||Z!=="")&&dt(e,Z):typeof Z=="number"&&dt(e,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(c.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&He("scroll",e):Z!=null&&V(e,S,Z,N))}switch(a){case"input":$(e),pe(e,u,!1);break;case"textarea":$(e),je(e);break;case"option":u.value!=null&&e.setAttribute("value",""+O(u.value));break;case"select":e.multiple=!!u.multiple,S=u.value,S!=null?Pe(e,!!u.multiple,S,!1):u.defaultValue!=null&&Pe(e,!!u.multiple,u.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=vi)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Hl(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(s(166));if(a=Gn(zr.current),Gn(en.current),wi(t)){if(u=t.stateNode,a=t.memoizedProps,u[Zt]=t,(S=u.nodeValue!==a)&&(e=kt,e!==null))switch(e.tag){case 3:yi(u.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(u.nodeValue,a,(e.mode&1)!==0)}S&&(t.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[Zt]=t,t.stateNode=u}return yt(t),null;case 13:if(Ge(Xe),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Xa(),ur(),t.flags|=98560,S=!1;else if(S=wi(t),u!==null&&u.dehydrated!==null){if(e===null){if(!S)throw Error(s(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[Zt]=t}else ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),S=!1}else Wt!==null&&(Ro(Wt),Wt=null),S=!0;if(!S)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Xe.current&1)!==0?ot===0&&(ot=3):Do())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return pr(),vo(e,t),e===null&&Ir(t.stateNode.containerInfo),yt(t),null;case 10:return Gs(t.type._context),yt(t),null;case 17:return St(t.type)&&Ei(),yt(t),null;case 19:if(Ge(Xe),S=t.memoizedState,S===null)return yt(t),null;if(u=(t.flags&128)!==0,N=S.rendering,N===null)if(u)Xr(S,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(N=Mi(e),N!==null){for(t.flags|=128,Xr(S,!1),u=N.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=a,a=t.child;a!==null;)S=a,e=u,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,e=N.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return We(Xe,Xe.current&1|2),t.child}e=e.sibling}S.tail!==null&&et()>vr&&(t.flags|=128,u=!0,Xr(S,!1),t.lanes=4194304)}else{if(!u)if(e=Mi(N),e!==null){if(t.flags|=128,u=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Xr(S,!0),S.tail===null&&S.tailMode==="hidden"&&!N.alternate&&!qe)return yt(t),null}else 2*et()-S.renderingStartTime>vr&&a!==1073741824&&(t.flags|=128,u=!0,Xr(S,!1),t.lanes=4194304);S.isBackwards?(N.sibling=t.child,t.child=N):(a=S.last,a!==null?a.sibling=N:t.child=N,S.last=N)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=et(),t.sibling=null,a=Xe.current,We(Xe,u?a&1|2:a&1),t):(yt(t),null);case 22:case 23:return Mo(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Wu(e,t){switch(Vs(t),t.tag){case 1:return St(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),Ge(_t),Ge(mt),Js(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(Ge(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Xe),null;case 4:return pr(),null;case 10:return Gs(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var Bi=!1,vt=!1,Hu=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function gr(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Ye(e,t,u)}else a.current=null}function xo(e,t,a){try{a()}catch(u){Ye(e,t,u)}}var Gl=!1;function Gu(e,t){if(ks=oi,e=Aa(),Ss(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,S=u.focusNode;u=u.focusOffset;try{a.nodeType,S.nodeType}catch{a=null;break e}var N=0,Y=-1,Z=-1,de=0,_e=0,Se=e,Ee=null;t:for(;;){for(var Te;Se!==a||g!==0&&Se.nodeType!==3||(Y=N+g),Se!==S||u!==0&&Se.nodeType!==3||(Z=N+u),Se.nodeType===3&&(N+=Se.nodeValue.length),(Te=Se.firstChild)!==null;)Ee=Se,Se=Te;for(;;){if(Se===e)break t;if(Ee===a&&++de===g&&(Y=N),Ee===S&&++_e===u&&(Z=N),(Te=Se.nextSibling)!==null)break;Se=Ee,Ee=Se.parentNode}Se=Te}a=Y===-1||Z===-1?null:{start:Y,end:Z}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ms={focusedElem:e,selectionRange:a},oi=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var Re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var ke=Re.memoizedProps,tt=Re.memoizedState,oe=t.stateNode,te=oe.getSnapshotBeforeUpdate(t.elementType===t.type?ke:Ht(t.type,ke),tt);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ce=t.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ae){Ye(t,t.return,Ae)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return Re=Gl,Gl=!1,Re}function $r(e,t,a){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&e)===e){var S=g.destroy;g.destroy=void 0,S!==void 0&&xo(t,a,S)}g=g.next}while(g!==u)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var u=a.create;a.destroy=u()}a=a.next}while(a!==t)}}function Eo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function ql(e){var t=e.alternate;t!==null&&(e.alternate=null,ql(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Nr],delete t[Is],delete t[Pu],delete t[Cu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xl(e){return e.tag===5||e.tag===3||e.tag===4}function $l(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _o(e,t,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=vi));else if(u!==4&&(e=e.child,e!==null))for(_o(e,t,a),e=e.sibling;e!==null;)_o(e,t,a),e=e.sibling}function So(e,t,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(So(e,t,a),e=e.sibling;e!==null;)So(e,t,a),e=e.sibling}var ft=null,Gt=!1;function Cn(e,t,a){for(a=a.child;a!==null;)Kl(e,t,a),a=a.sibling}function Kl(e,t,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 5:vt||gr(a,t);case 6:var u=ft,g=Gt;ft=null,Cn(e,t,a),ft=u,Gt=g,ft!==null&&(Gt?(e=ft,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ft.removeChild(a.stateNode));break;case 18:ft!==null&&(Gt?(e=ft,a=a.stateNode,e.nodeType===8?Ls(e.parentNode,a):e.nodeType===1&&Ls(e,a),Tr(e)):Ls(ft,a.stateNode));break;case 4:u=ft,g=Gt,ft=a.stateNode.containerInfo,Gt=!0,Cn(e,t,a),ft=u,Gt=g;break;case 0:case 11:case 14:case 15:if(!vt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){g=u=u.next;do{var S=g,N=S.destroy;S=S.tag,N!==void 0&&((S&2)!==0||(S&4)!==0)&&xo(a,t,N),g=g.next}while(g!==u)}Cn(e,t,a);break;case 1:if(!vt&&(gr(a,t),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(Y){Ye(a,t,Y)}Cn(e,t,a);break;case 21:Cn(e,t,a);break;case 22:a.mode&1?(vt=(u=vt)||a.memoizedState!==null,Cn(e,t,a),vt=u):Cn(e,t,a);break;default:Cn(e,t,a)}}function Yl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Hu),t.forEach(function(u){var g=ed.bind(null,e,u);a.has(u)||(a.add(u),u.then(g,g))})}}function qt(e,t){var a=t.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u];try{var S=e,N=t,Y=N;e:for(;Y!==null;){switch(Y.tag){case 5:ft=Y.stateNode,Gt=!1;break e;case 3:ft=Y.stateNode.containerInfo,Gt=!0;break e;case 4:ft=Y.stateNode.containerInfo,Gt=!0;break e}Y=Y.return}if(ft===null)throw Error(s(160));Kl(S,N,g),ft=null,Gt=!1;var Z=g.alternate;Z!==null&&(Z.return=null),g.return=null}catch(de){Ye(g,t,de)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ql(t,e),t=t.sibling}function Ql(e,t){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),nn(e),u&4){try{$r(3,e,e.return),Ui(3,e)}catch(ke){Ye(e,e.return,ke)}try{$r(5,e,e.return)}catch(ke){Ye(e,e.return,ke)}}break;case 1:qt(t,e),nn(e),u&512&&a!==null&&gr(a,a.return);break;case 5:if(qt(t,e),nn(e),u&512&&a!==null&&gr(a,a.return),e.flags&32){var g=e.stateNode;try{dt(g,"")}catch(ke){Ye(e,e.return,ke)}}if(u&4&&(g=e.stateNode,g!=null)){var S=e.memoizedProps,N=a!==null?a.memoizedProps:S,Y=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{Y==="input"&&S.type==="radio"&&S.name!=null&&re(g,S),we(Y,N);var de=we(Y,S);for(N=0;N<Z.length;N+=2){var _e=Z[N],Se=Z[N+1];_e==="style"?xe(g,Se):_e==="dangerouslySetInnerHTML"?nt(g,Se):_e==="children"?dt(g,Se):V(g,_e,Se,de)}switch(Y){case"input":ue(g,S);break;case"textarea":Ne(g,S);break;case"select":var Ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!S.multiple;var Te=S.value;Te!=null?Pe(g,!!S.multiple,Te,!1):Ee!==!!S.multiple&&(S.defaultValue!=null?Pe(g,!!S.multiple,S.defaultValue,!0):Pe(g,!!S.multiple,S.multiple?[]:"",!1))}g[Nr]=S}catch(ke){Ye(e,e.return,ke)}}break;case 6:if(qt(t,e),nn(e),u&4){if(e.stateNode===null)throw Error(s(162));g=e.stateNode,S=e.memoizedProps;try{g.nodeValue=S}catch(ke){Ye(e,e.return,ke)}}break;case 3:if(qt(t,e),nn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(ke){Ye(e,e.return,ke)}break;case 4:qt(t,e),nn(e);break;case 13:qt(t,e),nn(e),g=e.child,g.flags&8192&&(S=g.memoizedState!==null,g.stateNode.isHidden=S,!S||g.alternate!==null&&g.alternate.memoizedState!==null||(wo=et())),u&4&&Yl(e);break;case 22:if(_e=a!==null&&a.memoizedState!==null,e.mode&1?(vt=(de=vt)||_e,qt(t,e),vt=de):qt(t,e),nn(e),u&8192){if(de=e.memoizedState!==null,(e.stateNode.isHidden=de)&&!_e&&(e.mode&1)!==0)for(Ce=e,_e=e.child;_e!==null;){for(Se=Ce=_e;Ce!==null;){switch(Ee=Ce,Te=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:$r(4,Ee,Ee.return);break;case 1:gr(Ee,Ee.return);var Re=Ee.stateNode;if(typeof Re.componentWillUnmount=="function"){u=Ee,a=Ee.return;try{t=u,Re.props=t.memoizedProps,Re.state=t.memoizedState,Re.componentWillUnmount()}catch(ke){Ye(u,a,ke)}}break;case 5:gr(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){ec(Se);continue}}Te!==null?(Te.return=Ee,Ce=Te):ec(Se)}_e=_e.sibling}e:for(_e=null,Se=e;;){if(Se.tag===5){if(_e===null){_e=Se;try{g=Se.stateNode,de?(S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(Y=Se.stateNode,Z=Se.memoizedProps.style,N=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Y.style.display=pn("display",N))}catch(ke){Ye(e,e.return,ke)}}}else if(Se.tag===6){if(_e===null)try{Se.stateNode.nodeValue=de?"":Se.memoizedProps}catch(ke){Ye(e,e.return,ke)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===e)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===e)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===e)break e;_e===Se&&(_e=null),Se=Se.return}_e===Se&&(_e=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:qt(t,e),nn(e),u&4&&Yl(e);break;case 21:break;default:qt(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(Xl(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 5:var g=u.stateNode;u.flags&32&&(dt(g,""),u.flags&=-33);var S=$l(e);So(e,S,g);break;case 3:case 4:var N=u.stateNode.containerInfo,Y=$l(e);_o(e,Y,N);break;default:throw Error(s(161))}}catch(Z){Ye(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qu(e,t,a){Ce=e,Jl(e)}function Jl(e,t,a){for(var u=(e.mode&1)!==0;Ce!==null;){var g=Ce,S=g.child;if(g.tag===22&&u){var N=g.memoizedState!==null||Bi;if(!N){var Y=g.alternate,Z=Y!==null&&Y.memoizedState!==null||vt;Y=Bi;var de=vt;if(Bi=N,(vt=Z)&&!de)for(Ce=g;Ce!==null;)N=Ce,Z=N.child,N.tag===22&&N.memoizedState!==null?tc(g):Z!==null?(Z.return=N,Ce=Z):tc(g);for(;S!==null;)Ce=S,Jl(S),S=S.sibling;Ce=g,Bi=Y,vt=de}Zl(e)}else(g.subtreeFlags&8772)!==0&&S!==null?(S.return=g,Ce=S):Zl(e)}}function Zl(e){for(;Ce!==null;){var t=Ce;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Ui(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!vt)if(a===null)u.componentDidMount();else{var g=t.elementType===t.type?a.memoizedProps:Ht(t.type,a.memoizedProps);u.componentDidUpdate(g,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var S=t.updateQueue;S!==null&&el(t,S,u);break;case 3:var N=t.updateQueue;if(N!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}el(t,N,a)}break;case 5:var Y=t.stateNode;if(a===null&&t.flags&4){a=Y;var Z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&a.focus();break;case"img":Z.src&&(a.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var de=t.alternate;if(de!==null){var _e=de.memoizedState;if(_e!==null){var Se=_e.dehydrated;Se!==null&&Tr(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}vt||t.flags&512&&Eo(t)}catch(Ee){Ye(t,t.return,Ee)}}if(t===e){Ce=null;break}if(a=t.sibling,a!==null){a.return=t.return,Ce=a;break}Ce=t.return}}function ec(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ce=a;break}Ce=t.return}}function tc(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Ui(4,t)}catch(Z){Ye(t,a,Z)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var g=t.return;try{u.componentDidMount()}catch(Z){Ye(t,g,Z)}}var S=t.return;try{Eo(t)}catch(Z){Ye(t,S,Z)}break;case 5:var N=t.return;try{Eo(t)}catch(Z){Ye(t,N,Z)}}}catch(Z){Ye(t,t.return,Z)}if(t===e){Ce=null;break}var Y=t.sibling;if(Y!==null){Y.return=t.return,Ce=Y;break}Ce=t.return}}var Xu=Math.ceil,zi=I.ReactCurrentDispatcher,Ao=I.ReactCurrentOwner,Nt=I.ReactCurrentBatchConfig,Be=0,ct=null,rt=null,pt=0,Dt=0,yr=An(0),ot=0,Kr=null,Xn=0,Wi=0,bo=0,Yr=null,bt=null,wo=0,vr=1/0,fn=null,Hi=!1,To=null,Rn=null,Gi=!1,kn=null,qi=0,Qr=0,Po=null,Xi=-1,$i=0;function Et(){return(Be&6)!==0?et():Xi!==-1?Xi:Xi=et()}function Mn(e){return(e.mode&1)===0?1:(Be&2)!==0&&pt!==0?pt&-pt:ku.transition!==null?($i===0&&($i=$o()),$i):(e=ze,e!==0||(e=window.event,e=e===void 0?16:ra(e.type)),e)}function Xt(e,t,a,u){if(50<Qr)throw Qr=0,Po=null,Error(s(185));_r(e,a,u),((Be&2)===0||e!==ct)&&(e===ct&&((Be&2)===0&&(Wi|=a),ot===4&&Dn(e,pt)),wt(e,u),a===1&&Be===0&&(t.mode&1)===0&&(vr=et()+500,Si&&wn()))}function wt(e,t){var a=e.callbackNode;kc(e,t);var u=ri(e,e===ct?pt:0);if(u===0)a!==null&&Go(a),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(a!=null&&Go(a),t===1)e.tag===0?Ru(rc.bind(null,e)):za(rc.bind(null,e)),wu(function(){(Be&6)===0&&wn()}),a=null;else{switch(Ko(u)){case 1:a=ss;break;case 4:a=qo;break;case 16:a=Zr;break;case 536870912:a=Xo;break;default:a=Zr}a=dc(a,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function nc(e,t){if(Xi=-1,$i=0,(Be&6)!==0)throw Error(s(327));var a=e.callbackNode;if(xr()&&e.callbackNode!==a)return null;var u=ri(e,e===ct?pt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||t)t=Ki(e,u);else{t=u;var g=Be;Be|=2;var S=sc();(ct!==e||pt!==t)&&(fn=null,vr=et()+500,Kn(e,t));do try{Yu();break}catch(Y){ic(e,Y)}while(!0);Hs(),zi.current=S,Be=g,rt!==null?t=0:(ct=null,pt=0,t=ot)}if(t!==0){if(t===2&&(g=os(e),g!==0&&(u=g,t=Co(e,g))),t===1)throw a=Kr,Kn(e,0),Dn(e,u),wt(e,et()),a;if(t===6)Dn(e,u);else{if(g=e.current.alternate,(u&30)===0&&!$u(g)&&(t=Ki(e,u),t===2&&(S=os(e),S!==0&&(u=S,t=Co(e,S))),t===1))throw a=Kr,Kn(e,0),Dn(e,u),wt(e,et()),a;switch(e.finishedWork=g,e.finishedLanes=u,t){case 0:case 1:throw Error(s(345));case 2:Yn(e,bt,fn);break;case 3:if(Dn(e,u),(u&130023424)===u&&(t=wo+500-et(),10<t)){if(ri(e,0)!==0)break;if(g=e.suspendedLanes,(g&u)!==u){Et(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=Fs(Yn.bind(null,e,bt,fn),t);break}Yn(e,bt,fn);break;case 4:if(Dn(e,u),(u&4194240)===u)break;for(t=e.eventTimes,g=-1;0<u;){var N=31-Ut(u);S=1<<N,N=t[N],N>g&&(g=N),u&=~S}if(u=g,u=et()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Xu(u/1960))-u,10<u){e.timeoutHandle=Fs(Yn.bind(null,e,bt,fn),u);break}Yn(e,bt,fn);break;case 5:Yn(e,bt,fn);break;default:throw Error(s(329))}}}return wt(e,et()),e.callbackNode===a?nc.bind(null,e):null}function Co(e,t){var a=Yr;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=bt,bt=a,t!==null&&Ro(t)),e}function Ro(e){bt===null?bt=e:bt.push.apply(bt,e)}function $u(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var g=a[u],S=g.getSnapshot;g=g.value;try{if(!zt(S(),g))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~bo,t&=~Wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Ut(t),u=1<<a;e[a]=-1,t&=~u}}function rc(e){if((Be&6)!==0)throw Error(s(327));xr();var t=ri(e,0);if((t&1)===0)return wt(e,et()),null;var a=Ki(e,t);if(e.tag!==0&&a===2){var u=os(e);u!==0&&(t=u,a=Co(e,u))}if(a===1)throw a=Kr,Kn(e,0),Dn(e,t),wt(e,et()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,bt,fn),wt(e,et()),null}function ko(e,t){var a=Be;Be|=1;try{return e(t)}finally{Be=a,Be===0&&(vr=et()+500,Si&&wn())}}function $n(e){kn!==null&&kn.tag===0&&(Be&6)===0&&xr();var t=Be;Be|=1;var a=Nt.transition,u=ze;try{if(Nt.transition=null,ze=1,e)return e()}finally{ze=u,Nt.transition=a,Be=t,(Be&6)===0&&wn()}}function Mo(){Dt=yr.current,Ge(yr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,bu(a)),rt!==null)for(a=rt.return;a!==null;){var u=a;switch(Vs(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ei();break;case 3:pr(),Ge(_t),Ge(mt),Js();break;case 5:Ys(u);break;case 4:pr();break;case 13:Ge(Xe);break;case 19:Ge(Xe);break;case 10:Gs(u.type._context);break;case 22:case 23:Mo()}a=a.return}if(ct=e,rt=e=Fn(e.current,null),pt=Dt=t,ot=0,Kr=null,bo=Wi=Xn=0,bt=Yr=null,Hn!==null){for(t=0;t<Hn.length;t++)if(a=Hn[t],u=a.interleaved,u!==null){a.interleaved=null;var g=u.next,S=a.pending;if(S!==null){var N=S.next;S.next=g,u.next=N}a.pending=u}Hn=null}return e}function ic(e,t){do{var a=rt;try{if(Hs(),Di.current=Oi,Fi){for(var u=$e.memoizedState;u!==null;){var g=u.queue;g!==null&&(g.pending=null),u=u.next}Fi=!1}if(qn=0,lt=st=$e=null,Wr=!1,Hr=0,Ao.current=null,a===null||a.return===null){ot=1,Kr=t,rt=null;break}e:{var S=e,N=a.return,Y=a,Z=t;if(t=pt,Y.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var de=Z,_e=Y,Se=_e.tag;if((_e.mode&1)===0&&(Se===0||Se===11||Se===15)){var Ee=_e.alternate;Ee?(_e.updateQueue=Ee.updateQueue,_e.memoizedState=Ee.memoizedState,_e.lanes=Ee.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=Rl(N);if(Te!==null){Te.flags&=-257,kl(Te,N,Y,S,t),Te.mode&1&&Cl(S,de,t),t=Te,Z=de;var Re=t.updateQueue;if(Re===null){var ke=new Set;ke.add(Z),t.updateQueue=ke}else Re.add(Z);break e}else{if((t&1)===0){Cl(S,de,t),Do();break e}Z=Error(s(426))}}else if(qe&&Y.mode&1){var tt=Rl(N);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),kl(tt,N,Y,S,t),zs(mr(Z,Y));break e}}S=Z=mr(Z,Y),ot!==4&&(ot=2),Yr===null?Yr=[S]:Yr.push(S),S=N;do{switch(S.tag){case 3:S.flags|=65536,t&=-t,S.lanes|=t;var oe=Tl(S,Z,t);Za(S,oe);break e;case 1:Y=Z;var te=S.type,ce=S.stateNode;if((S.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Rn===null||!Rn.has(ce)))){S.flags|=65536,t&=-t,S.lanes|=t;var Ae=Pl(S,Y,t);Za(S,Ae);break e}}S=S.return}while(S!==null)}ac(a)}catch(Me){t=Me,rt===a&&a!==null&&(rt=a=a.return);continue}break}while(!0)}function sc(){var e=zi.current;return zi.current=Oi,e===null?Oi:e}function Do(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||(Xn&268435455)===0&&(Wi&268435455)===0||Dn(ct,pt)}function Ki(e,t){var a=Be;Be|=2;var u=sc();(ct!==e||pt!==t)&&(fn=null,Kn(e,t));do try{Ku();break}catch(g){ic(e,g)}while(!0);if(Hs(),Be=a,zi.current=u,rt!==null)throw Error(s(261));return ct=null,pt=0,ot}function Ku(){for(;rt!==null;)oc(rt)}function Yu(){for(;rt!==null&&!_c();)oc(rt)}function oc(e){var t=uc(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?ac(e):rt=t,Ao.current=null}function ac(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=zu(a,t,Dt),a!==null){rt=a;return}}else{if(a=Wu(a,t),a!==null){a.flags&=32767,rt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function Yn(e,t,a){var u=ze,g=Nt.transition;try{Nt.transition=null,ze=1,Qu(e,t,a,u)}finally{Nt.transition=g,ze=u}return null}function Qu(e,t,a,u){do xr();while(kn!==null);if((Be&6)!==0)throw Error(s(327));a=e.finishedWork;var g=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var S=a.lanes|a.childLanes;if(Mc(e,S),e===ct&&(rt=ct=null,pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Gi||(Gi=!0,dc(Zr,function(){return xr(),null})),S=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||S){S=Nt.transition,Nt.transition=null;var N=ze;ze=1;var Y=Be;Be|=4,Ao.current=null,Gu(e,a),Ql(a,e),yu(Ms),oi=!!ks,Ms=ks=null,e.current=a,qu(a),Sc(),Be=Y,ze=N,Nt.transition=S}else e.current=a;if(Gi&&(Gi=!1,kn=e,qi=g),S=e.pendingLanes,S===0&&(Rn=null),wc(a.stateNode),wt(e,et()),t!==null)for(u=e.onRecoverableError,a=0;a<t.length;a++)g=t[a],u(g.value,{componentStack:g.stack,digest:g.digest});if(Hi)throw Hi=!1,e=To,To=null,e;return(qi&1)!==0&&e.tag!==0&&xr(),S=e.pendingLanes,(S&1)!==0?e===Po?Qr++:(Qr=0,Po=e):Qr=0,wn(),null}function xr(){if(kn!==null){var e=Ko(qi),t=Nt.transition,a=ze;try{if(Nt.transition=null,ze=16>e?16:e,kn===null)var u=!1;else{if(e=kn,kn=null,qi=0,(Be&6)!==0)throw Error(s(331));var g=Be;for(Be|=4,Ce=e.current;Ce!==null;){var S=Ce,N=S.child;if((Ce.flags&16)!==0){var Y=S.deletions;if(Y!==null){for(var Z=0;Z<Y.length;Z++){var de=Y[Z];for(Ce=de;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:$r(8,_e,S)}var Se=_e.child;if(Se!==null)Se.return=_e,Ce=Se;else for(;Ce!==null;){_e=Ce;var Ee=_e.sibling,Te=_e.return;if(ql(_e),_e===de){Ce=null;break}if(Ee!==null){Ee.return=Te,Ce=Ee;break}Ce=Te}}}var Re=S.alternate;if(Re!==null){var ke=Re.child;if(ke!==null){Re.child=null;do{var tt=ke.sibling;ke.sibling=null,ke=tt}while(ke!==null)}}Ce=S}}if((S.subtreeFlags&2064)!==0&&N!==null)N.return=S,Ce=N;else e:for(;Ce!==null;){if(S=Ce,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:$r(9,S,S.return)}var oe=S.sibling;if(oe!==null){oe.return=S.return,Ce=oe;break e}Ce=S.return}}var te=e.current;for(Ce=te;Ce!==null;){N=Ce;var ce=N.child;if((N.subtreeFlags&2064)!==0&&ce!==null)ce.return=N,Ce=ce;else e:for(N=te;Ce!==null;){if(Y=Ce,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Ui(9,Y)}}catch(Me){Ye(Y,Y.return,Me)}if(Y===N){Ce=null;break e}var Ae=Y.sibling;if(Ae!==null){Ae.return=Y.return,Ce=Ae;break e}Ce=Y.return}}if(Be=g,wn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ei,e)}catch{}u=!0}return u}finally{ze=a,Nt.transition=t}}return!1}function lc(e,t,a){t=mr(a,t),t=Tl(e,t,1),e=Pn(e,t,1),t=Et(),e!==null&&(_r(e,1,t),wt(e,t))}function Ye(e,t,a){if(e.tag===3)lc(e,e,a);else for(;t!==null;){if(t.tag===3){lc(t,e,a);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rn===null||!Rn.has(u))){e=mr(a,e),e=Pl(t,e,1),t=Pn(t,e,1),e=Et(),t!==null&&(_r(t,1,e),wt(t,e));break}}t=t.return}}function Ju(e,t,a){var u=e.pingCache;u!==null&&u.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&a,ct===e&&(pt&a)===a&&(ot===4||ot===3&&(pt&130023424)===pt&&500>et()-wo?Kn(e,0):bo|=a),wt(e,t)}function cc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var a=Et();e=un(e,t),e!==null&&(_r(e,t,a),wt(e,a))}function Zu(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),cc(e,a)}function ed(e,t){var a=0;switch(e.tag){case 13:var u=e.stateNode,g=e.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(t),cc(e,a)}var uc;uc=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)At=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return At=!1,Uu(e,t,a);At=(e.flags&131072)!==0}else At=!1,qe&&(t.flags&1048576)!==0&&Wa(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Vi(e,t),e=t.pendingProps;var g=ar(t,mt.current);fr(t,a),g=to(null,t,u,e,g,a);var S=no();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(u)?(S=!0,_i(t)):S=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,$s(t),g.updater=Ni,t.stateNode=g,g._reactInternals=t,lo(t,u,e,a),t=fo(null,t,u,!0,S,a)):(t.tag=0,qe&&S&&js(t),xt(null,t,g,a),t=t.child),t;case 16:u=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,g=u._init,u=g(u._payload),t.type=u,g=t.tag=nd(u),e=Ht(u,e),g){case 0:t=ho(null,t,u,e,a);break e;case 1:t=Ol(null,t,u,e,a);break e;case 11:t=Ml(null,t,u,e,a);break e;case 14:t=Dl(null,t,u,Ht(u.type,e),a);break e}throw Error(s(306,u,""))}return t;case 0:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),ho(e,t,u,g,a);case 1:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),Ol(e,t,u,g,a);case 3:e:{if(Nl(t),e===null)throw Error(s(387));u=t.pendingProps,S=t.memoizedState,g=S.element,Ja(e,t),ki(t,u,null,a);var N=t.memoizedState;if(u=N.element,S.isDehydrated)if(S={element:u,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},t.updateQueue.baseState=S,t.memoizedState=S,t.flags&256){g=mr(Error(s(423)),t),t=jl(e,t,u,a,g);break e}else if(u!==g){g=mr(Error(s(424)),t),t=jl(e,t,u,a,g);break e}else for(Mt=Sn(t.stateNode.containerInfo.firstChild),kt=t,qe=!0,Wt=null,a=Ya(t,null,u,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ur(),u===g){t=hn(e,t,a);break e}xt(e,t,u,a)}t=t.child}return t;case 5:return tl(t),e===null&&Us(t),u=t.type,g=t.pendingProps,S=e!==null?e.memoizedProps:null,N=g.children,Ds(u,g)?N=null:S!==null&&Ds(u,S)&&(t.flags|=32),Il(e,t),xt(e,t,N,a),t.child;case 6:return e===null&&Us(t),null;case 13:return Vl(e,t,a);case 4:return Ks(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=dr(t,null,u,a):xt(e,t,u,a),t.child;case 11:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),Ml(e,t,u,g,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(u=t.type._context,g=t.pendingProps,S=t.memoizedProps,N=g.value,We(Pi,u._currentValue),u._currentValue=N,S!==null)if(zt(S.value,N)){if(S.children===g.children&&!_t.current){t=hn(e,t,a);break e}}else for(S=t.child,S!==null&&(S.return=t);S!==null;){var Y=S.dependencies;if(Y!==null){N=S.child;for(var Z=Y.firstContext;Z!==null;){if(Z.context===u){if(S.tag===1){Z=dn(-1,a&-a),Z.tag=2;var de=S.updateQueue;if(de!==null){de=de.shared;var _e=de.pending;_e===null?Z.next=Z:(Z.next=_e.next,_e.next=Z),de.pending=Z}}S.lanes|=a,Z=S.alternate,Z!==null&&(Z.lanes|=a),qs(S.return,a,t),Y.lanes|=a;break}Z=Z.next}}else if(S.tag===10)N=S.type===t.type?null:S.child;else if(S.tag===18){if(N=S.return,N===null)throw Error(s(341));N.lanes|=a,Y=N.alternate,Y!==null&&(Y.lanes|=a),qs(N,a,t),N=S.sibling}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===t){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}xt(e,t,g.children,a),t=t.child}return t;case 9:return g=t.type,u=t.pendingProps.children,fr(t,a),g=It(g),u=u(g),t.flags|=1,xt(e,t,u,a),t.child;case 14:return u=t.type,g=Ht(u,t.pendingProps),g=Ht(u.type,g),Dl(e,t,u,g,a);case 15:return Fl(e,t,t.type,t.pendingProps,a);case 17:return u=t.type,g=t.pendingProps,g=t.elementType===u?g:Ht(u,g),Vi(e,t),t.tag=1,St(u)?(e=!0,_i(t)):e=!1,fr(t,a),bl(t,u,g),lo(t,u,g,a),fo(null,t,u,!0,e,a);case 19:return Ul(e,t,a);case 22:return Ll(e,t,a)}throw Error(s(156,t.tag))};function dc(e,t){return Ho(e,t)}function td(e,t,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,u){return new td(e,t,a,u)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nd(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===ve)return 14}return 2}function Fn(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Yi(e,t,a,u,g,S){var N=2;if(u=e,typeof e=="function")Fo(e)&&(N=1);else if(typeof e=="string")N=5;else e:switch(e){case H:return Qn(a.children,g,S,t);case K:N=8,g|=8;break;case q:return e=jt(12,a,t,g|2),e.elementType=q,e.lanes=S,e;case he:return e=jt(13,a,t,g),e.elementType=he,e.lanes=S,e;case fe:return e=jt(19,a,t,g),e.elementType=fe,e.lanes=S,e;case W:return Qi(a,g,S,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:N=10;break e;case J:N=9;break e;case me:N=11;break e;case ve:N=14;break e;case ae:N=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=jt(N,a,t,g),t.elementType=e,t.type=u,t.lanes=S,t}function Qn(e,t,a,u){return e=jt(7,e,u,t),e.lanes=a,e}function Qi(e,t,a,u){return e=jt(22,e,u,t),e.elementType=W,e.lanes=a,e.stateNode={isHidden:!1},e}function Lo(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function Io(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rd(e,t,a,u,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=u,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Oo(e,t,a,u,g,S,N,Y,Z){return e=new rd(e,t,a,Y,Z),t===1?(t=1,S===!0&&(t|=8)):t=0,S=jt(3,null,null,t),e.current=S,S.stateNode=e,S.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(S),e}function sd(e,t,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:u==null?null:""+u,children:e,containerInfo:t,implementation:a}}function hc(e){if(!e)return bn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(St(a))return Ba(e,a,t)}return t}function fc(e,t,a,u,g,S,N,Y,Z){return e=Oo(a,u,!0,e,g,S,N,Y,Z),e.context=hc(null),a=e.current,u=Et(),g=Mn(a),S=dn(u,g),S.callback=t??null,Pn(a,S,g),e.current.lanes=g,_r(e,g,u),wt(e,u),e}function Ji(e,t,a,u){var g=t.current,S=Et(),N=Mn(g);return a=hc(a),t.context===null?t.context=a:t.pendingContext=a,t=dn(S,N),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Pn(g,t,N),e!==null&&(Xt(e,g,N,S),Ri(e,g,N)),N}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function No(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function od(){return null}var mc=typeof reportError=="function"?reportError:function(e){console.error(e)};function jo(e){this._internalRoot=e}es.prototype.render=jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Ji(e,t,null,null)},es.prototype.unmount=jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Ji(null,e,null,null)}),t[on]=null}};function es(e){this._internalRoot=e}es.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<xn.length&&t!==0&&t<xn[a].priority;a++);xn.splice(a,0,e),a===0&&ta(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ts(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function ad(e,t,a,u,g){if(g){if(typeof u=="function"){var S=u;u=function(){var de=Zi(N);S.call(de)}}var N=fc(t,u,e,0,null,!1,!1,"",gc);return e._reactRootContainer=N,e[on]=N.current,Ir(e.nodeType===8?e.parentNode:e),$n(),N}for(;g=e.lastChild;)e.removeChild(g);if(typeof u=="function"){var Y=u;u=function(){var de=Zi(Z);Y.call(de)}}var Z=Oo(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=Z,e[on]=Z.current,Ir(e.nodeType===8?e.parentNode:e),$n(function(){Ji(t,Z,a,u)}),Z}function ns(e,t,a,u,g){var S=a._reactRootContainer;if(S){var N=S;if(typeof g=="function"){var Y=g;g=function(){var Z=Zi(N);Y.call(Z)}}Ji(t,N,e,g)}else N=ad(a,t,e,g,u);return Zi(N)}Yo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Er(t.pendingLanes);a!==0&&(ls(t,a|1),wt(t,et()),(Be&6)===0&&(vr=et()+500,wn()))}break;case 13:$n(function(){var u=un(e,1);if(u!==null){var g=Et();Xt(u,e,1,g)}}),No(e,1)}},cs=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var a=Et();Xt(t,e,134217728,a)}No(e,134217728)}},Qo=function(e){if(e.tag===13){var t=Mn(e),a=un(e,t);if(a!==null){var u=Et();Xt(a,e,t,u)}No(e,t)}},Jo=function(){return ze},Zo=function(e,t){var a=ze;try{return ze=e,t()}finally{ze=a}},Ze=function(e,t,a){switch(t){case"input":if(ue(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var u=a[t];if(u!==e&&u.form===e.form){var g=xi(u);if(!g)throw Error(s(90));Q(u),ue(u,g)}}}break;case"textarea":Ne(e,a);break;case"select":t=a.value,t!=null&&Pe(e,!!a.multiple,t,!1)}},Bt=ko,In=$n;var ld={usingClientEntryPoint:!1,Events:[jr,sr,xi,ht,rn,ko]},Jr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cd={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zo(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||od,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{ei=rs.inject(cd),Jt=rs}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ld,reactDom_production_min.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(s(200));return sd(e,t,null,a)},reactDom_production_min.createRoot=function(e,t){if(!Vo(e))throw Error(s(299));var a=!1,u="",g=mc;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Oo(e,1,!1,null,null,a,!1,u,g),e[on]=t.current,Ir(e.nodeType===8?e.parentNode:e),new jo(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=zo(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return $n(e)},reactDom_production_min.hydrate=function(e,t,a){if(!ts(t))throw Error(s(200));return ns(null,e,t,!0,a)},reactDom_production_min.hydrateRoot=function(e,t,a){if(!Vo(e))throw Error(s(405));var u=a!=null&&a.hydratedSources||null,g=!1,S="",N=mc;if(a!=null&&(a.unstable_strictMode===!0&&(g=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),t=fc(t,null,e,1,a??null,g,!1,S,N),e[on]=t.current,Ir(e),u)for(e=0;e<u.length;e++)a=u[e],g=a._getVersion,g=g(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,g]:t.mutableSourceEagerHydrationData.push(a,g);return new es(t)},reactDom_production_min.render=function(e,t,a){if(!ts(t))throw Error(s(200));return ns(null,e,t,!1,a)},reactDom_production_min.unmountComponentAtNode=function(e){if(!ts(e))throw Error(s(40));return e._reactRootContainer?($n(function(){ns(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=ko,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,a,u){if(!ts(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ns(e,t,a,!1,u)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var i=requireReactDom();return client.createRoot=i.createRoot,client.hydrateRoot=i.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,o)=>o?o.toUpperCase():s.toLowerCase()),toPascalCase=i=>{const n=toCamelCase(i);return n.charAt(0).toUpperCase()+n.slice(1)},mergeClasses=(...i)=>i.filter((n,s,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===s).join(" ").trim(),hasA11yProp=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=reactExports.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:m,iconNode:f,..._},x)=>reactExports.createElement("svg",{ref:x,...defaultAttributes,width:n,height:n,stroke:i,strokeWidth:o?Number(s)*24/Number(n):s,className:mergeClasses("lucide",c),...!m&&!hasA11yProp(_)&&{"aria-hidden":"true"},..._},[...f.map(([d,l])=>reactExports.createElement(d,l)),...Array.isArray(m)?m:[m]]));const createLucideIcon=(i,n)=>{const s=reactExports.forwardRef(({className:o,...c},m)=>reactExports.createElement(Icon,{ref:m,iconNode:n,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(i))}`,`lucide-${i}`,o),...c}));return s.displayName=toPascalCase(i),s};const __iconNode$j=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$j);const __iconNode$i=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$i);const __iconNode$h=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ArrowUp=createLucideIcon("arrow-up",__iconNode$h);const __iconNode$g=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$g);const __iconNode$f=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],Brush=createLucideIcon("brush",__iconNode$f);const __iconNode$e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$e);const __iconNode$d=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$d);const __iconNode$c=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Dices=createLucideIcon("dices",__iconNode$c);const __iconNode$b=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$b);const __iconNode$a=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$a);const __iconNode$9=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],FlaskConical=createLucideIcon("flask-conical",__iconNode$9);const __iconNode$8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Grid3x3=createLucideIcon("grid-3x3",__iconNode$8);const __iconNode$7=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Maximize=createLucideIcon("maximize",__iconNode$7);const __iconNode$6=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],Minimize=createLucideIcon("minimize",__iconNode$6);const __iconNode$5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$5);const __iconNode$4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Volume2=createLucideIcon("volume-2",__iconNode$4);const __iconNode$3=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],VolumeX=createLucideIcon("volume-x",__iconNode$3);const __iconNode$2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$2);const __iconNode$1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon("zoom-in",__iconNode$1);const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomOut=createLucideIcon("zoom-out",__iconNode),LayoutGroupContext=reactExports.createContext({});function useConstant(i){const n=reactExports.useRef(null);return n.current===null&&(n.current=i()),n.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(i,n){i.indexOf(n)===-1&&i.push(n)}function removeItem(i,n){const s=i.indexOf(n);s>-1&&i.splice(s,1)}const clamp=(i,n,s)=>s>n?n:s<i?i:s;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function isObject(i){return typeof i=="object"&&i!==null}const isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function memo(i){let n;return()=>(n===void 0&&(n=i()),n)}const noop=i=>i,combineFunctions=(i,n)=>s=>n(i(s)),pipe=(...i)=>i.reduce(combineFunctions),progress=(i,n,s)=>{const o=n-i;return o===0?1:(s-i)/o};class SubscriptionManager{constructor(){this.subscriptions=[]}add(n){return addUniqueItem(this.subscriptions,n),()=>removeItem(this.subscriptions,n)}notify(n,s,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](n,s,o);else for(let m=0;m<c;m++){const f=this.subscriptions[m];f&&f(n,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3;function velocityPerSecond(i,n){return n?i*(1e3/n):0}const calcBezier=(i,n,s)=>(((1-3*s+3*n)*i+(3*s-6*n))*i+3*n)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,n,s,o,c){let m,f,_=0;do f=n+(s-n)/2,m=calcBezier(f,o,c)-i,m>0?s=f:n=f;while(Math.abs(m)>subdivisionPrecision&&++_<subdivisionMaxIterations);return f}function cubicBezier(i,n,s,o){if(i===n&&s===o)return noop;const c=m=>binarySubdivide(m,0,1,i,s);return m=>m===0||m===1?m:calcBezier(c(m),n,o)}const mirrorEasing=i=>n=>n<=.5?i(2*n)/2:(2-i(2*(1-n)))/2,reverseEasing=i=>n=>1-i(1-n),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=i=>typeof i=="string",easingDefinitionToFunction=i=>{if(isBezierDefinition(i)){invariant$1(i.length===4);const[n,s,o,c]=i;return cubicBezier(n,s,o,c)}else if(isValidEasing(i))return easingLookup[i];return i},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(i,n){let s=new Set,o=new Set,c=!1,m=!1;const f=new WeakSet;let _={delta:0,timestamp:0,isProcessing:!1};function x(l){f.has(l)&&(d.schedule(l),i()),l(_)}const d={schedule:(l,h=!1,y=!1)=>{const p=y&&c?s:o;return h&&f.add(l),p.has(l)||p.add(l),l},cancel:l=>{o.delete(l),f.delete(l)},process:l=>{if(_=l,c){m=!0;return}c=!0,[s,o]=[o,s],s.forEach(x),s.clear(),c=!1,m&&(m=!1,d.process(l))}};return d}const maxElapsed=40;function createRenderBatcher(i,n){let s=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},m=()=>s=!0,f=stepsOrder.reduce((V,I)=>(V[I]=createRenderStep(m),V),{}),{setup:_,read:x,resolveKeyframes:d,preUpdate:l,update:h,preRender:y,render:v,postRender:p}=f,A=()=>{const V=MotionGlobalConfig.useManualTiming?c.timestamp:performance.now();s=!1,MotionGlobalConfig.useManualTiming||(c.delta=o?1e3/60:Math.max(Math.min(V-c.timestamp,maxElapsed),1)),c.timestamp=V,c.isProcessing=!0,_.process(c),x.process(c),d.process(c),l.process(c),h.process(c),y.process(c),v.process(c),p.process(c),c.isProcessing=!1,s&&n&&(o=!1,i(A))},P=()=>{s=!0,o=!0,c.isProcessing||i(A)};return{schedule:stepsOrder.reduce((V,I)=>{const R=f[I];return V[I]=(F,H=!1,K=!1)=>(s||P(),R.schedule(F,H,K)),V},{}),cancel:V=>{for(let I=0;I<stepsOrder.length;I++)f[stepsOrder[I]].cancel(V)},state:c,steps:f}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},checkStringStartsWith=i=>n=>typeof n=="string"&&n.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(i){return i==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(i,n)=>s=>!!(typeof s=="string"&&singleColorRegex.test(s)&&s.startsWith(i)||n&&!isNullish(s)&&Object.prototype.hasOwnProperty.call(s,n)),splitColor=(i,n,s)=>o=>{if(typeof o!="string")return o;const[c,m,f,_]=o.match(floatRegex);return{[i]:parseFloat(c),[n]:parseFloat(m),[s]:parseFloat(f),alpha:_!==void 0?parseFloat(_):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:n,blue:s,alpha:o=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(n)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(o))+")"};function parseHex(i){let n="",s="",o="",c="";return i.length>5?(n=i.substring(1,3),s=i.substring(3,5),o=i.substring(5,7),c=i.substring(7,9)):(n=i.substring(1,2),s=i.substring(2,3),o=i.substring(3,4),c=i.substring(4,5),n+=n,s+=s,o+=o,c+=c),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=i=>({test:n=>typeof n=="string"&&n.endsWith(i)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(n))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(o))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i),getAnimatableNone:i=>{const n=color.parse(i);return n.alpha=0,color.transform(n)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(i){return isNaN(i)&&typeof i=="string"&&(i.match(floatRegex)?.length||0)+(i.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const n=i.toString(),s=[],o={color:[],number:[],var:[]},c=[];let m=0;const _=n.replace(complexRegex,x=>(color.test(x)?(o.color.push(m),c.push(COLOR_TOKEN),s.push(color.parse(x))):x.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(m),c.push(VAR_TOKEN),s.push(x)):(o.number.push(m),c.push(NUMBER_TOKEN),s.push(parseFloat(x))),++m,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:s,split:_,indexes:o,types:c}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:n,types:s}=analyseComplexValue(i),o=n.length;return c=>{let m="";for(let f=0;f<o;f++)if(m+=n[f],c[f]!==void 0){const _=s[f];_===NUMBER_TOKEN?m+=sanitize(c[f]):_===COLOR_TOKEN?m+=color.transform(c[f]):m+=c[f]}return m}}const convertNumbersToZero=i=>typeof i=="number"?0:color.test(i)?color.getAnimatableNone(i):i;function getAnimatableNone$1(i){const n=parseComplexValue(i);return createTransformer(i)(n.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(i,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(n-i)*6*s:s<1/2?n:s<2/3?i+(n-i)*(2/3-s)*6:i}function hslaToRgba({hue:i,saturation:n,lightness:s,alpha:o}){i/=360,n/=100,s/=100;let c=0,m=0,f=0;if(!n)c=m=f=s;else{const _=s<.5?s*(1+n):s+n-s*n,x=2*s-_;c=hueToRgb(x,_,i+1/3),m=hueToRgb(x,_,i),f=hueToRgb(x,_,i-1/3)}return{red:Math.round(c*255),green:Math.round(m*255),blue:Math.round(f*255),alpha:o}}function mixImmediate(i,n){return s=>s>0?n:i}const mixNumber$1=(i,n,s)=>i+(n-i)*s,mixLinearColor=(i,n,s)=>{const o=i*i,c=s*(n*n-o)+o;return c<0?0:Math.sqrt(c)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(n=>n.test(i));function asRGBA(i){const n=getColorType(i);if(!n)return!1;let s=n.parse(i);return n===hsla&&(s=hslaToRgba(s)),s}const mixColor=(i,n)=>{const s=asRGBA(i),o=asRGBA(n);if(!s||!o)return mixImmediate(i,n);const c={...s};return m=>(c.red=mixLinearColor(s.red,o.red,m),c.green=mixLinearColor(s.green,o.green,m),c.blue=mixLinearColor(s.blue,o.blue,m),c.alpha=mixNumber$1(s.alpha,o.alpha,m),rgba.transform(c))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(i,n){return invisibleValues.has(i)?s=>s<=0?i:n:s=>s>=1?n:i}function mixNumber(i,n){return s=>mixNumber$1(i,n,s)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,n){const s=[...i],o=s.length,c=i.map((m,f)=>getMixer(m)(m,n[f]));return m=>{for(let f=0;f<o;f++)s[f]=c[f](m);return s}}function mixObject(i,n){const s={...i,...n},o={};for(const c in s)i[c]!==void 0&&n[c]!==void 0&&(o[c]=getMixer(i[c])(i[c],n[c]));return c=>{for(const m in o)s[m]=o[m](c);return s}}function matchOrder(i,n){const s=[],o={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const m=n.types[c],f=i.indexes[m][o[m]],_=i.values[f]??0;s[c]=_,o[m]++}return s}const mixComplex=(i,n)=>{const s=complex.createTransformer(n),o=analyseComplexValue(i),c=analyseComplexValue(n);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?invisibleValues.has(i)&&!c.values.length||invisibleValues.has(n)&&!o.values.length?mixVisibility(i,n):pipe(mixArray(matchOrder(o,c),c.values),s):mixImmediate(i,n)};function mix(i,n,s){return typeof i=="number"&&typeof n=="number"&&typeof s=="number"?mixNumber$1(i,n,s):getMixer(i)(i,n)}const frameloopDriver=i=>{const n=({timestamp:s})=>i(s);return{start:(s=!0)=>frame.update(n,s),stop:()=>cancelFrame(n),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generateLinearEasing=(i,n,s=10)=>{let o="";const c=Math.max(Math.round(n/s),2);for(let m=0;m<c;m++)o+=Math.round(i(m/(c-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let n=0;const s=50;let o=i.next(n);for(;!o.done&&n<maxGeneratorDuration;)n+=s,o=i.next(n);return n>=maxGeneratorDuration?1/0:n}function createGeneratorEasing(i,n=100,s){const o=s({...i,keyframes:[0,n]}),c=Math.min(calcGeneratorDuration(o),maxGeneratorDuration);return{type:"keyframes",ease:m=>o.next(c*m).value/n,duration:millisecondsToSeconds(c)}}const velocitySampleDuration=5;function calcGeneratorVelocity(i,n,s){const o=Math.max(n-velocitySampleDuration,0);return velocityPerSecond(s-i(o),n-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:i=springDefaults.duration,bounce:n=springDefaults.bounce,velocity:s=springDefaults.velocity,mass:o=springDefaults.mass}){let c,m,f=1-n;f=clamp(springDefaults.minDamping,springDefaults.maxDamping,f),i=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(i)),f<1?(c=d=>{const l=d*f,h=l*i,y=l-s,v=calcAngularFreq(d,f),p=Math.exp(-h);return safeMin-y/v*p},m=d=>{const h=d*f*i,y=h*s+s,v=Math.pow(f,2)*Math.pow(d,2)*i,p=Math.exp(-h),A=calcAngularFreq(Math.pow(d,2),f);return(-c(d)+safeMin>0?-1:1)*((y-v)*p)/A}):(c=d=>{const l=Math.exp(-d*i),h=(d-s)*i+1;return-safeMin+l*h},m=d=>{const l=Math.exp(-d*i),h=(s-d)*(i*i);return l*h});const _=5/i,x=approximateRoot(c,m,_);if(i=secondsToMilliseconds(i),isNaN(x))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:i};{const d=Math.pow(x,2)*o;return{stiffness:d,damping:f*2*Math.sqrt(o*d),duration:i}}}const rootIterations=12;function approximateRoot(i,n,s){let o=s;for(let c=1;c<rootIterations;c++)o=o-i(o)/n(o);return o}function calcAngularFreq(i,n){return i*Math.sqrt(1-n*n)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,n){return n.some(s=>i[s]!==void 0)}function getSpringOptions(i){let n={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys))if(i.visualDuration){const s=i.visualDuration,o=2*Math.PI/(s*1.2),c=o*o,m=2*clamp(.05,1,1-(i.bounce||0))*Math.sqrt(c);n={...n,mass:springDefaults.mass,stiffness:c,damping:m}}else{const s=findSpring(i);n={...n,...s,mass:springDefaults.mass},n.isResolvedFromDuration=!0}return n}function spring(i=springDefaults.visualDuration,n=springDefaults.bounce){const s=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:n}:i;let{restSpeed:o,restDelta:c}=s;const m=s.keyframes[0],f=s.keyframes[s.keyframes.length-1],_={done:!1,value:m},{stiffness:x,damping:d,mass:l,duration:h,velocity:y,isResolvedFromDuration:v}=getSpringOptions({...s,velocity:-millisecondsToSeconds(s.velocity||0)}),p=y||0,A=d/(2*Math.sqrt(x*l)),P=f-m,E=millisecondsToSeconds(Math.sqrt(x/l)),M=Math.abs(P)<5;o||(o=M?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),c||(c=M?springDefaults.restDelta.granular:springDefaults.restDelta.default);let V;if(A<1){const R=calcAngularFreq(E,A);V=F=>{const H=Math.exp(-A*E*F);return f-H*((p+A*E*P)/R*Math.sin(R*F)+P*Math.cos(R*F))}}else if(A===1)V=R=>f-Math.exp(-E*R)*(P+(p+E*P)*R);else{const R=E*Math.sqrt(A*A-1);V=F=>{const H=Math.exp(-A*E*F),K=Math.min(R*F,300);return f-H*((p+A*E*P)*Math.sinh(K)+R*P*Math.cosh(K))/R}}const I={calculatedDuration:v&&h||null,next:R=>{const F=V(R);if(v)_.done=R>=h;else{let H=R===0?p:0;A<1&&(H=R===0?secondsToMilliseconds(p):calcGeneratorVelocity(V,R,F));const K=Math.abs(H)<=o,q=Math.abs(f-F)<=c;_.done=K&&q}return _.value=_.done?f:F,_},toString:()=>{const R=Math.min(calcGeneratorDuration(I),maxGeneratorDuration),F=generateLinearEasing(H=>I.next(R*H).value,R,30);return R+"ms "+F},toTransition:()=>{}};return I}spring.applyToOptions=i=>{const n=createGeneratorEasing(i,100,spring);return i.ease=n.ease,i.duration=secondsToMilliseconds(n.duration),i.type="keyframes",i};function inertia({keyframes:i,velocity:n=0,power:s=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:m=500,modifyTarget:f,min:_,max:x,restDelta:d=.5,restSpeed:l}){const h=i[0],y={done:!1,value:h},v=K=>_!==void 0&&K<_||x!==void 0&&K>x,p=K=>_===void 0?x:x===void 0||Math.abs(_-K)<Math.abs(x-K)?_:x;let A=s*n;const P=h+A,E=f===void 0?P:f(P);E!==P&&(A=E-h);const M=K=>-A*Math.exp(-K/o),V=K=>E+M(K),I=K=>{const q=M(K),ee=V(K);y.done=Math.abs(q)<=d,y.value=y.done?E:ee};let R,F;const H=K=>{v(y.value)&&(R=K,F=spring({keyframes:[y.value,p(y.value)],velocity:calcGeneratorVelocity(V,K,y.value),damping:c,stiffness:m,restDelta:d,restSpeed:l}))};return H(0),{calculatedDuration:null,next:K=>{let q=!1;return!F&&R===void 0&&(q=!0,I(K),H(K)),R!==void 0&&K>=R?F.next(K-R):(!q&&I(K),y)}}}function createMixers(i,n,s){const o=[],c=s||MotionGlobalConfig.mix||mix,m=i.length-1;for(let f=0;f<m;f++){let _=c(i[f],i[f+1]);if(n){const x=Array.isArray(n)?n[f]||noop:n;_=pipe(x,_)}o.push(_)}return o}function interpolate(i,n,{clamp:s=!0,ease:o,mixer:c}={}){const m=i.length;if(invariant$1(m===n.length),m===1)return()=>n[0];if(m===2&&n[0]===n[1])return()=>n[1];const f=i[0]===i[1];i[0]>i[m-1]&&(i=[...i].reverse(),n=[...n].reverse());const _=createMixers(n,o,c),x=_.length,d=l=>{if(f&&l<i[0])return n[0];let h=0;if(x>1)for(;h<i.length-2&&!(l<i[h+1]);h++);const y=progress(i[h],i[h+1],l);return _[h](y)};return s?l=>d(clamp(i[0],i[m-1],l)):d}function fillOffset(i,n){const s=i[i.length-1];for(let o=1;o<=n;o++){const c=progress(0,n,o);i.push(mixNumber$1(s,1,c))}}function defaultOffset(i){const n=[0];return fillOffset(n,i.length-1),n}function convertOffsetToTimes(i,n){return i.map(s=>s*n)}function defaultEasing(i,n){return i.map(()=>n||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:n,times:s,ease:o="easeInOut"}){const c=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),m={done:!1,value:n[0]},f=convertOffsetToTimes(s&&s.length===n.length?s:defaultOffset(n),i),_=interpolate(f,n,{ease:Array.isArray(c)?c:defaultEasing(n,c)});return{calculatedDuration:i,next:x=>(m.value=_(x),m.done=x>=i,m)}}const isNotNull$1=i=>i!==null;function getFinalKeyframe$1(i,{repeat:n,repeatType:s="loop"},o,c=1){const m=i.filter(isNotNull$1),_=c<0||n&&s!=="loop"&&n%2===1?0:m.length-1;return!_||o===void 0?m[_]:o}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(i){typeof i.type=="string"&&(i.type=transitionTypeMap[i.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,s){return this.finished.then(n,s)}}const percentToProgress=i=>i/100;class JSAnimation extends WithPromise{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==time.now()&&this.tick(time.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;replaceTransitionType(n);const{type:s=keyframes,repeat:o=0,repeatDelay:c=0,repeatType:m,velocity:f=0}=n;let{keyframes:_}=n;const x=s||keyframes;x!==keyframes&&typeof _[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(_[0],_[1])),_=[0,100]);const d=x({...n,keyframes:_});m==="mirror"&&(this.mirroredGenerator=x({...n,keyframes:[..._].reverse(),velocity:-f})),d.calculatedDuration===null&&(d.calculatedDuration=calcGeneratorDuration(d));const{calculatedDuration:l}=d;this.calculatedDuration=l,this.resolvedDuration=l+c,this.totalDuration=this.resolvedDuration*(o+1)-c,this.generator=d}updateTime(n){const s=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(n,s=!1){const{generator:o,totalDuration:c,mixKeyframes:m,mirroredGenerator:f,resolvedDuration:_,calculatedDuration:x}=this;if(this.startTime===null)return o.next(0);const{delay:d=0,keyframes:l,repeat:h,repeatType:y,repeatDelay:v,type:p,onUpdate:A,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-c/this.speed,this.startTime)),s?this.currentTime=n:this.updateTime(n);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?E<0:E>c;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let V=this.currentTime,I=o;if(h){const K=Math.min(this.currentTime,c)/_;let q=Math.floor(K),ee=K%1;!ee&&K>=1&&(ee=1),ee===1&&q--,q=Math.min(q,h+1),!!(q%2)&&(y==="reverse"?(ee=1-ee,v&&(ee-=v/_)):y==="mirror"&&(I=f)),V=clamp(0,1,ee)*_}const R=M?{done:!1,value:l[0]}:I.next(V);m&&(R.value=m(R.value));let{done:F}=R;!M&&x!==null&&(F=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return H&&p!==inertia&&(R.value=getFinalKeyframe$1(l,this.options,P,this.speed)),A&&A(R.value),H&&this.finish(),R}then(n,s){return this.finished.then(n,s)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+millisecondsToSeconds(n)}get time(){return millisecondsToSeconds(this.currentTime)}set time(n){n=secondsToMilliseconds(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(time.now());const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=frameloopDriver,startTime:s}=this.options;this.driver||(this.driver=n(c=>this.tick(c))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function fillWildcards(i){for(let n=1;n<i.length;n++)i[n]??(i[n]=i[n-1])}const radToDeg=i=>i*180/Math.PI,rotate=i=>{const n=radToDeg(Math.atan2(i[1],i[0]));return rebaseAngle(n)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate,rotateZ:rotate,skewX:i=>radToDeg(Math.atan(i[1])),skewY:i=>radToDeg(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},rebaseAngle=i=>(i=i%360,i<0&&(i+=360),i),rotateZ=rotate,scaleX=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),scaleY=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:i=>(scaleX(i)+scaleY(i))/2,rotateX:i=>rebaseAngle(radToDeg(Math.atan2(i[6],i[5]))),rotateY:i=>rebaseAngle(radToDeg(Math.atan2(-i[2],i[0]))),rotateZ,rotate:rotateZ,skewX:i=>radToDeg(Math.atan(i[4])),skewY:i=>radToDeg(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function defaultTransformValue(i){return i.includes("scale")?1:0}function parseValueFromTransform(i,n){if(!i||i==="none")return defaultTransformValue(n);const s=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(s)o=matrix3dParsers,c=s;else{const _=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=matrix2dParsers,c=_}if(!c)return defaultTransformValue(n);const m=o[n],f=c[1].split(",").map(convertTransformToNumber);return typeof m=="function"?m(f):f[m]}const readTransformValue=(i,n)=>{const{transform:s="none"}=getComputedStyle(i);return parseValueFromTransform(s,n)};function convertTransformToNumber(i){return parseFloat(i.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=i=>i===number||i===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const n=[];return nonTranslationalTransformKeys.forEach(s=>{const o=i.getValue(s);o!==void 0&&(n.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),n}const positionalValues={width:({x:i},{paddingLeft:n="0",paddingRight:s="0"})=>i.max-i.min-parseFloat(n)-parseFloat(s),height:({y:i},{paddingTop:n="0",paddingBottom:s="0"})=>i.max-i.min-parseFloat(n)-parseFloat(s),top:(i,{top:n})=>parseFloat(n),left:(i,{left:n})=>parseFloat(n),bottom:({y:i},{top:n})=>parseFloat(n)+(i.max-i.min),right:({x:i},{left:n})=>parseFloat(n)+(i.max-i.min),x:(i,{transform:n})=>parseValueFromTransform(n,"x"),y:(i,{transform:n})=>parseValueFromTransform(n,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const i=Array.from(toResolve).filter(o=>o.needsMeasurement),n=new Set(i.map(o=>o.element)),s=new Map;n.forEach(o=>{const c=removeNonTranslationalTransform(o);c.length&&(s.set(o,c),o.render())}),i.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const c=s.get(o);c&&c.forEach(([m,f])=>{o.getValue(m)?.set(f)})}),i.forEach(o=>o.measureEndState()),i.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(n,s,o,c,m,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=o,this.motionValue=c,this.element=m,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:o,motionValue:c}=this;if(n[0]===null){const m=c?.get(),f=n[n.length-1];if(m!==void 0)n[0]=m;else if(o&&s){const _=o.readValue(s,f);_!=null&&(n[0]=_)}n[0]===void 0&&(n[0]=f),c&&m===void 0&&c.set(n[0])}fillWildcards(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=i=>i.startsWith("--");function setStyle(i,n,s){isCSSVar(n)?i.style.setProperty(n,s):i.style[n]=s}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(i,n){const s=memo(i);return()=>supportsFlags[n]??s()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([i,n,s,o])=>`cubic-bezier(${i}, ${n}, ${s}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i,n){if(i)return typeof i=="function"?supportsLinearEasing()?generateLinearEasing(i,n):"ease-out":isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(s=>mapEasingToNativeEasing(s,n)||supportedWaapiEasing.easeOut):supportedWaapiEasing[i]}function startWaapiAnimation(i,n,s,{delay:o=0,duration:c=300,repeat:m=0,repeatType:f="loop",ease:_="easeOut",times:x}={},d=void 0){const l={[n]:s};x&&(l.offset=x);const h=mapEasingToNativeEasing(_,c);Array.isArray(h)&&(l.easing=h);const y={delay:o,duration:c,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:m+1,direction:f==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),i.animate(l,y)}function isGenerator(i){return typeof i=="function"&&"applyToOptions"in i}function applyGeneratorOptions({type:i,...n}){return isGenerator(i)&&supportsLinearEasing()?i.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class NativeAnimation extends WithPromise{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:s,name:o,keyframes:c,pseudoElement:m,allowFlatten:f=!1,finalKeyframe:_,onComplete:x}=n;this.isPseudoElement=!!m,this.allowFlatten=f,this.options=n,invariant$1(typeof n.type!="string");const d=applyGeneratorOptions(n);this.animation=startWaapiAnimation(s,o,c,d,m),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!m){const l=getFinalKeyframe$1(c,this.options,_,this.speed);this.updateMotionValue?this.updateMotionValue(l):setStyle(s,o,l),this.animation.cancel()}x?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+millisecondsToSeconds(n)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&supportsScrollTimeline()?(this.animation.timeline=n,noop):s(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(i){return i in unsupportedEasingFunctions}function replaceStringEasing(i){typeof i.ease=="string"&&isUnsupportedEase(i.ease)&&(i.ease=unsupportedEasingFunctions[i.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(n){replaceStringEasing(n),replaceTransitionType(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:s,onUpdate:o,onComplete:c,element:m,...f}=this.options;if(!s)return;if(n!==void 0){s.set(n);return}const _=new JSAnimation({...f,autoplay:!1}),x=secondsToMilliseconds(this.finishedTime??this.time);s.setWithVelocity(_.sample(x-sampleDelta).value,_.sample(x).value,sampleDelta),_.stop()}}const isAnimatable=(i,n)=>n==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const n=i[0];if(i.length===1)return!0;for(let s=0;s<i.length;s++)if(i[s]!==n)return!0}function canAnimate(i,n,s,o){const c=i[0];if(c===null)return!1;if(n==="display"||n==="visibility")return!0;const m=i[i.length-1],f=isAnimatable(c,n),_=isAnimatable(m,n);return!f||!_?!1:hasKeyframesChanged(i)||(s==="spring"||isGenerator(s))&&o}function makeAnimationInstant(i){i.duration=0,i.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(i){const{motionValue:n,name:s,repeatDelay:o,repeatType:c,damping:m,type:f}=i;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:d}=n.owner.getProps();return supportsWaapi()&&s&&acceleratedValues.has(s)&&(s!=="transform"||!d)&&!x&&!o&&c!=="mirror"&&m!==0&&f!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:n=!0,delay:s=0,type:o="keyframes",repeat:c=0,repeatDelay:m=0,repeatType:f="loop",keyframes:_,name:x,motionValue:d,element:l,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time.now();const y={autoplay:n,delay:s,type:o,repeat:c,repeatDelay:m,repeatType:f,name:x,motionValue:d,element:l,...h},v=l?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new v(_,(p,A,P)=>this.onKeyframesResolved(p,A,y,!P),x,d,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,s,o,c){this.keyframeResolver=void 0;const{name:m,type:f,velocity:_,delay:x,isHandoff:d,onUpdate:l}=o;this.resolvedAt=time.now(),canAnimate(n,m,f,_)||((MotionGlobalConfig.instantAnimations||!x)&&l?.(getFinalKeyframe$1(n,o,s)),n[0]=n[n.length-1],makeAnimationInstant(o),o.repeat=0);const y={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:n},v=!d&&supportsBrowserAnimation(y)?new NativeAnimationExtended({...y,element:y.motionValue.owner.current}):new JSAnimation(y);v.finished.then(()=>this.notifyFinished()).catch(noop),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(n,s){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const n=splitCSSVariableRegex.exec(i);if(!n)return[,];const[,s,o,c]=n;return[`--${s??o}`,c]}function getVariableValue(i,n,s=1){const[o,c]=parseCSSVariable(i);if(!o)return;const m=window.getComputedStyle(n).getPropertyValue(o);if(m){const f=m.trim();return isNumericalString(f)?parseFloat(f):f}return isCSSVariableToken(c)?getVariableValue(c,n,s+1):c}function getValueTransition(i,n){return i?.[n]??i?.default??i}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:i=>i==="auto",parse:i=>i},testValueType=i=>n=>n.test(i),dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i));function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[n,s]=i.slice(0,-1).split("(");if(n==="drop-shadow")return i;const[o]=s.match(floatRegex)||[];if(!o)return i;const c=s.replace(o,"");let m=maxDefaults.has(n)?1:0;return o!==s&&(m*=100),n+"("+m+c+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:i=>{const n=i.match(functionRegex);return n?n.map(applyDefaultFilter).join(" "):i}},int={...number,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,n){let s=getDefaultValueType(i);return s!==filter&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(i,n,s){let o=0,c;for(;o<i.length&&!c;){const m=i[o];typeof m=="string"&&!invalidTemplates.has(m)&&analyseComplexValue(m).values.length&&(c=i[o]),o++}if(c&&s)for(const m of n)i[m]=getAnimatableNone(s,c)}class DOMKeyframesResolver extends KeyframeResolver{constructor(n,s,o,c,m){super(n,s,o,c,m,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let x=0;x<n.length;x++){let d=n[x];if(typeof d=="string"&&(d=d.trim(),isCSSVariableToken(d))){const l=getVariableValue(d,s.current);l!==void 0&&(n[x]=l),x===n.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||n.length!==2)return;const[c,m]=n,f=findDimensionValueType(c),_=findDimensionValueType(m);if(f!==_)if(isNumOrPxType(f)&&isNumOrPxType(_))for(let x=0;x<n.length;x++){const d=n[x];typeof d=="string"&&(n[x]=parseFloat(d))}else positionalValues[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,o=[];for(let c=0;c<n.length;c++)(n[c]===null||isNone(n[c]))&&o.push(c);o.length&&makeNoneKeyframesAnimatable(n,o,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const c=s[s.length-1];c!==void 0&&n.getValue(o,c).jump(c,!1)}measureEndState(){const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const c=n.getValue(s);c&&c.jump(this.measuredOrigin,!1);const m=o.length-1,f=o[m];o[m]=positionalValues[s](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([_,x])=>{n.getValue(_).set(x)}),this.resolveNoneKeyframes()}}function resolveElements(i,n,s){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let o=document;const c=s?.[i]??o.querySelectorAll(i);return c?Array.from(c):[]}return Array.from(i)}const getValueAsType=(i,n)=>n&&typeof i=="number"?n.transform(i):i;function isHTMLElement(i){return isObject(i)&&"offsetHeight"in i}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(n,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const c=time.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=time.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new SubscriptionManager);const o=this.events[n].add(s);return n==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,n){return new MotionValue(i,n)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(i){return i==="x"||i==="y"?isDragging[i]?null:(isDragging[i]=!0,()=>{isDragging[i]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(i,n){const s=resolveElements(i),o=new AbortController,c={passive:!0,...n,signal:o.signal};return[s,c,()=>o.abort()]}function isValidHover(i){return!(i.pointerType==="touch"||isDragActive())}function hover(i,n,s={}){const[o,c,m]=setupGesture(i,s),f=_=>{if(!isValidHover(_))return;const{target:x}=_,d=n(x,_);if(typeof d!="function"||!x)return;const l=h=>{isValidHover(h)&&(d(h),x.removeEventListener("pointerleave",l))};x.addEventListener("pointerleave",l,c)};return o.forEach(_=>{_.addEventListener("pointerenter",f,c)}),m}const isNodeOrChild=(i,n)=>n?i===n?!0:isNodeOrChild(i,n.parentElement):!1,isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(i){return focusableElements.has(i.tagName)||i.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(i){return n=>{n.key==="Enter"&&i(n)}}function firePointerEvent(i,n){i.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(i,n)=>{const s=i.currentTarget;if(!s)return;const o=filterEvents(()=>{if(isPressing.has(s))return;firePointerEvent(s,"down");const c=filterEvents(()=>{firePointerEvent(s,"up")}),m=()=>firePointerEvent(s,"cancel");s.addEventListener("keyup",c,n),s.addEventListener("blur",m,n)});s.addEventListener("keydown",o,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),n)};function isValidPressEvent(i){return isPrimaryPointer(i)&&!isDragActive()}function press(i,n,s={}){const[o,c,m]=setupGesture(i,s),f=_=>{const x=_.currentTarget;if(!isValidPressEvent(_))return;isPressing.add(x);const d=n(x,_),l=(v,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",y),isPressing.has(x)&&isPressing.delete(x),isValidPressEvent(v)&&typeof d=="function"&&d(v,{success:p})},h=v=>{l(v,x===window||x===document||s.useGlobalTarget||isNodeOrChild(x,v.target))},y=v=>{l(v,!1)};window.addEventListener("pointerup",h,c),window.addEventListener("pointercancel",y,c)};return o.forEach(_=>{(s.useGlobalTarget?window:_).addEventListener("pointerdown",f,c),isHTMLElement(_)&&(_.addEventListener("focus",d=>enableKeyboardPress(d,c)),!isElementKeyboardAccessible(_)&&!_.hasAttribute("tabindex")&&(_.tabIndex=0))}),m}function isSVGElement(i){return isObject(i)&&"ownerSVGElement"in i}function isSVGSVGElement(i){return isSVGElement(i)&&i.tagName==="svg"}const isMotionValue=i=>!!(i&&i.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function setRef(i,n){if(typeof i=="function")return i(n);i!=null&&(i.current=n)}function composeRefs(...i){return n=>{let s=!1;const o=i.map(c=>{const m=setRef(c,n);return!s&&typeof m=="function"&&(s=!0),m});if(s)return()=>{for(let c=0;c<o.length;c++){const m=o[c];typeof m=="function"?m():setRef(i[c],null)}}}}function useComposedRefs(...i){return reactExports.useCallback(composeRefs(...i),i)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const o=s.offsetParent,c=isHTMLElement(o)&&o.offsetWidth||0,m=this.props.sizeRef.current;m.height=s.offsetHeight||0,m.width=s.offsetWidth||0,m.top=s.offsetTop,m.left=s.offsetLeft,m.right=c-m.width-m.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:n,anchorX:s,root:o}){const c=reactExports.useId(),m=reactExports.useRef(null),f=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:_}=reactExports.useContext(MotionConfigContext),x=useComposedRefs(m,i?.ref);return reactExports.useInsertionEffect(()=>{const{width:d,height:l,top:h,left:y,right:v}=f.current;if(n||!m.current||!d||!l)return;const p=s==="left"?`left: ${y}`:`right: ${v}`;m.current.dataset.motionPopId=c;const A=document.createElement("style");_&&(A.nonce=_);const P=o??document.head;return P.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${h}px !important;
          }
        `),()=>{P.contains(A)&&P.removeChild(A)}},[n]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:n,childRef:m,sizeRef:f,children:reactExports.cloneElement(i,{ref:x})})}const PresenceChild=({children:i,initial:n,isPresent:s,onExitComplete:o,custom:c,presenceAffectsLayout:m,mode:f,anchorX:_,root:x})=>{const d=useConstant(newChildrenMap),l=reactExports.useId();let h=!0,y=reactExports.useMemo(()=>(h=!1,{id:l,initial:n,isPresent:s,custom:c,onExitComplete:v=>{d.set(v,!0);for(const p of d.values())if(!p)return;o&&o()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[s,d,o]);return m&&h&&(y={...y}),reactExports.useMemo(()=>{d.forEach((v,p)=>d.set(p,!1))},[s]),reactExports.useEffect(()=>{!s&&!d.size&&o&&o()},[s]),f==="popLayout"&&(i=jsxRuntimeExports.jsx(PopChild,{isPresent:s,anchorX:_,root:x,children:i})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:y,children:i})};function newChildrenMap(){return new Map}function usePresence(i=!0){const n=reactExports.useContext(PresenceContext);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:c}=n,m=reactExports.useId();reactExports.useEffect(()=>{if(i)return c(m)},[i]);const f=reactExports.useCallback(()=>i&&o&&o(m),[m,o,i]);return!s&&o?[!1,f]:[!0]}const getChildKey=i=>i.key||"";function onlyElements(i){const n=[];return reactExports.Children.forEach(i,s=>{reactExports.isValidElement(s)&&n.push(s)}),n}const AnimatePresence=({children:i,custom:n,initial:s=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:m="sync",propagate:f=!1,anchorX:_="left",root:x})=>{const[d,l]=usePresence(f),h=reactExports.useMemo(()=>onlyElements(i),[i]),y=f&&!d?[]:h.map(getChildKey),v=reactExports.useRef(!0),p=reactExports.useRef(h),A=useConstant(()=>new Map),[P,E]=reactExports.useState(h),[M,V]=reactExports.useState(h);useIsomorphicLayoutEffect(()=>{v.current=!1,p.current=h;for(let F=0;F<M.length;F++){const H=getChildKey(M[F]);y.includes(H)?A.delete(H):A.get(H)!==!0&&A.set(H,!1)}},[M,y.length,y.join("-")]);const I=[];if(h!==P){let F=[...h];for(let H=0;H<M.length;H++){const K=M[H],q=getChildKey(K);y.includes(q)||(F.splice(H,0,K),I.push(K))}return m==="wait"&&I.length&&(F=I),V(onlyElements(F)),E(h),null}const{forceRender:R}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:M.map(F=>{const H=getChildKey(F),K=f&&!d?!1:h===M||y.includes(H),q=()=>{if(A.has(H))A.set(H,!0);else return;let ee=!0;A.forEach(J=>{J||(ee=!1)}),ee&&(R?.(),V(p.current),f&&l?.(),o&&o())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:K,initial:!v.current||s?void 0:!1,custom:n,presenceAffectsLayout:c,mode:m,root:x,onExitComplete:K?void 0:q,anchorX:_,children:F},H)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:n=>featureProps[i].some(s=>!!n[s])};function loadFeatures(i){for(const n in i)featureDefinitions[n]={...featureDefinitions[n],...i[n]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){typeof i=="function"&&(shouldForward=n=>n.startsWith("on")?!isValidMotionProp(n):i(n))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,n,s){const o={};for(const c in i)c==="values"&&typeof i.values=="object"||(shouldForward(c)||s===!0&&isValidMotionProp(c)||!n&&!isValidMotionProp(c)||i.draggable&&c.startsWith("onDrag"))&&(o[c]=i[c]);return o}const MotionContext=reactExports.createContext({});function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(n=>isVariantLabel(i[n]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,n){if(isControllingVariants(i)){const{initial:s,animate:o}=i;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(o)?o:void 0}}return i.inherit!==!1?n:{}}function useCreateMotionContext(i){const{initial:n,animate:s}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:n,animate:s}),[variantLabelsAsDependency(n),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const scaleCorrectors={};function addScaleCorrector(i){for(const n in i)scaleCorrectors[n]=i[n],isCSSVariableName(n)&&(scaleCorrectors[n].isCSSVariable=!0)}function isForcedMotionValue(i,{layout:n,layoutId:s}){return transformProps.has(i)||i.startsWith("origin")||(n||s!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,n,s){let o="",c=!0;for(let m=0;m<numTransforms;m++){const f=transformPropOrder[m],_=i[f];if(_===void 0)continue;let x=!0;if(typeof _=="number"?x=_===(f.startsWith("scale")?1:0):x=parseFloat(_)===0,!x||s){const d=getValueAsType(_,numberValueTypes[f]);if(!x){c=!1;const l=translateAlias[f]||f;o+=`${l}(${d}) `}s&&(n[f]=d)}}return o=o.trim(),s?o=s(n,c?"":o):c&&(o="none"),o}function buildHTMLStyles(i,n,s){const{style:o,vars:c,transformOrigin:m}=i;let f=!1,_=!1;for(const x in n){const d=n[x];if(transformProps.has(x)){f=!0;continue}else if(isCSSVariableName(x)){c[x]=d;continue}else{const l=getValueAsType(d,numberValueTypes[x]);x.startsWith("origin")?(_=!0,m[x]=l):o[x]=l}}if(n.transform||(f||s?o.transform=buildTransform(n,i.transform,s):o.transform&&(o.transform="none")),_){const{originX:x="50%",originY:d="50%",originZ:l=0}=m;o.transformOrigin=`${x} ${d} ${l}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(i,n,s){for(const o in n)!isMotionValue(n[o])&&!isForcedMotionValue(o,s)&&(i[o]=n[o])}function useInitialMotionValues({transformTemplate:i},n){return reactExports.useMemo(()=>{const s=createHtmlRenderState();return buildHTMLStyles(s,n,i),Object.assign({},s.vars,s.style)},[n])}function useStyle(i,n){const s=i.style||{},o={};return copyRawValuesOnly(o,s,i),Object.assign(o,useInitialMotionValues(i,n)),o}function useHTMLProps(i,n){const s={},o=useStyle(i,n);return i.drag&&i.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(s.tabIndex=0),s.style=o,s}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,n,s=1,o=0,c=!0){i.pathLength=1;const m=c?dashKeys:camelKeys;i[m.offset]=px.transform(-o);const f=px.transform(n),_=px.transform(s);i[m.array]=`${f} ${_}`}function buildSVGAttrs(i,{attrX:n,attrY:s,attrScale:o,pathLength:c,pathSpacing:m=1,pathOffset:f=0,..._},x,d,l){if(buildHTMLStyles(i,_,d),x){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:h,style:y}=i;h.transform&&(y.transform=h.transform,delete h.transform),(y.transform||h.transformOrigin)&&(y.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),y.transform&&(y.transformBox=l?.transformBox??"fill-box",delete h.transformBox),n!==void 0&&(h.x=n),s!==void 0&&(h.y=s),o!==void 0&&(h.scale=o),c!==void 0&&buildSVGPath(h,c,m,f,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg";function useSVGProps(i,n,s,o){const c=reactExports.useMemo(()=>{const m=createSvgRenderState();return buildSVGAttrs(m,n,isSVGTag(o),i.transformTemplate,i.style),{...m.attrs,style:{...m.style}}},[n]);if(i.style){const m={};copyRawValuesOnly(m,i.style,i),c.style={...m,...c.style}}return c}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}function useRender(i,n,s,{latestValues:o},c,m=!1){const _=(isSVGComponent(i)?useSVGProps:useHTMLProps)(n,o,c,i),x=filterProps(n,typeof i=="string",m),d=i!==reactExports.Fragment?{...x,..._,ref:s}:{},{children:l}=n,h=reactExports.useMemo(()=>isMotionValue(l)?l.get():l,[l]);return reactExports.createElement(i,{...d,children:h})}function getValueState(i){const n=[{},{}];return i?.values.forEach((s,o)=>{n[0][o]=s.get(),n[1][o]=s.getVelocity()}),n}function resolveVariantFromProps(i,n,s,o){if(typeof n=="function"){const[c,m]=getValueState(o);n=n(s!==void 0?s:i.custom,c,m)}if(typeof n=="string"&&(n=i.variants&&i.variants[n]),typeof n=="function"){const[c,m]=getValueState(o);n=n(s!==void 0?s:i.custom,c,m)}return n}function resolveMotionValue(i){return isMotionValue(i)?i.get():i}function makeState({scrapeMotionValuesFromProps:i,createRenderState:n},s,o,c){return{latestValues:makeLatestValues(s,o,c,i),renderState:n()}}function makeLatestValues(i,n,s,o){const c={},m=o(i,{});for(const y in m)c[y]=resolveMotionValue(m[y]);let{initial:f,animate:_}=i;const x=isControllingVariants(i),d=isVariantNode(i);n&&d&&!x&&i.inherit!==!1&&(f===void 0&&(f=n.initial),_===void 0&&(_=n.animate));let l=s?s.initial===!1:!1;l=l||f===!1;const h=l?_:f;if(h&&typeof h!="boolean"&&!isAnimationControls(h)){const y=Array.isArray(h)?h:[h];for(let v=0;v<y.length;v++){const p=resolveVariantFromProps(i,y[v]);if(p){const{transitionEnd:A,transition:P,...E}=p;for(const M in E){let V=E[M];if(Array.isArray(V)){const I=l?V.length-1:0;V=V[I]}V!==null&&(c[M]=V)}for(const M in A)c[M]=A[M]}}}return c}const makeUseVisualState=i=>(n,s)=>{const o=reactExports.useContext(MotionContext),c=reactExports.useContext(PresenceContext),m=()=>makeState(i,n,o,c);return s?m():useConstant(m)};function scrapeMotionValuesFromProps$1(i,n,s){const{style:o}=i,c={};for(const m in o)(isMotionValue(o[m])||n.style&&isMotionValue(n.style[m])||isForcedMotionValue(m,i)||s?.getValue(m)?.liveStyle!==void 0)&&(c[m]=o[m]);return c}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(i,n,s){const o=scrapeMotionValuesFromProps$1(i,n,s);for(const c in i)if(isMotionValue(i[c])||isMotionValue(n[c])){const m=transformPropOrder.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[m]=i[c]}return o}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function useMotionRef(i,n,s){return reactExports.useCallback(o=>{o&&i.onMount&&i.onMount(o),n&&(o?n.mount(o):n.unmount()),s&&(typeof s=="function"?s(o):isRefObject(s)&&(s.current=o))},[n])}const camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(i,n,s,o,c){const{visualElement:m}=reactExports.useContext(MotionContext),f=reactExports.useContext(LazyContext),_=reactExports.useContext(PresenceContext),x=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef(null);o=o||f.renderer,!d.current&&o&&(d.current=o(i,{visualState:n,parent:m,props:s,presenceContext:_,blockInitialAnimation:_?_.initial===!1:!1,reducedMotionConfig:x}));const l=d.current,h=reactExports.useContext(SwitchLayoutGroupContext);l&&!l.projection&&c&&(l.type==="html"||l.type==="svg")&&createProjectionNode$1(d.current,s,c,h);const y=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{l&&y.current&&l.update(s,_)});const v=s[optimizedAppearDataAttribute],p=reactExports.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return useIsomorphicLayoutEffect(()=>{l&&(y.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),l.scheduleRenderMicrotask(),p.current&&l.animationState&&l.animationState.animateChanges())}),reactExports.useEffect(()=>{l&&(!p.current&&l.animationState&&l.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),p.current=!1),l.enteringChildren=void 0)}),l}function createProjectionNode$1(i,n,s,o){const{layoutId:c,layout:m,drag:f,dragConstraints:_,layoutScroll:x,layoutRoot:d,layoutCrossfade:l}=n;i.projection=new s(i.latestValues,n["data-framer-portal-id"]?void 0:getClosestProjectingNode(i.parent)),i.projection.setOptions({layoutId:c,layout:m,alwaysMeasureLayout:!!f||_&&isRefObject(_),visualElement:i,animationType:typeof m=="string"?m:"both",initialPromotionConfig:o,crossfade:l,layoutScroll:x,layoutRoot:d})}function getClosestProjectingNode(i){if(i)return i.options.allowProjection!==!1?i.projection:getClosestProjectingNode(i.parent)}function createMotionComponent(i,{forwardMotionProps:n=!1}={},s,o){s&&loadFeatures(s);const c=isSVGComponent(i)?useSVGVisualState:useHTMLVisualState;function m(_,x){let d;const l={...reactExports.useContext(MotionConfigContext),..._,layoutId:useLayoutId(_)},{isStatic:h}=l,y=useCreateMotionContext(_),v=c(_,h);if(!h&&isBrowser$1){useStrictMode();const p=getProjectionFunctionality(l);d=p.MeasureLayout,y.visualElement=useVisualElement(i,v,l,o,p.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:y,children:[d&&y.visualElement?jsxRuntimeExports.jsx(d,{visualElement:y.visualElement,...l}):null,useRender(i,_,useMotionRef(v,y.visualElement,x),v,h,n)]})}m.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const f=reactExports.forwardRef(m);return f[motionComponentSymbol]=i,f}function useLayoutId({layoutId:i}){const n=reactExports.useContext(LayoutGroupContext).id;return n&&i!==void 0?n+"-"+i:i}function useStrictMode(i,n){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(i){const{drag:n,layout:s}=featureDefinitions;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n?.isEnabled(i)||s?.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function createMotionProxy(i,n){if(typeof Proxy>"u")return createMotionComponent;const s=new Map,o=(m,f)=>createMotionComponent(m,f,i,n),c=(m,f)=>o(m,f);return new Proxy(c,{get:(m,f)=>f==="create"?o:(s.has(f)||s.set(f,createMotionComponent(f,void 0,i,n)),s.get(f))})}function convertBoundingBoxToBox({top:i,left:n,right:s,bottom:o}){return{x:{min:n,max:s},y:{min:i,max:o}}}function convertBoxToBoundingBox({x:i,y:n}){return{top:n.min,right:i.max,bottom:n.max,left:i.min}}function transformBoxPoints(i,n){if(!n)return i;const s=n({x:i.left,y:i.top}),o=n({x:i.right,y:i.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:n,scaleY:s}){return!isIdentityScale(i)||!isIdentityScale(n)||!isIdentityScale(s)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,n,s){const o=i-s,c=n*o;return s+c}function applyPointDelta(i,n,s,o,c){return c!==void 0&&(i=scalePoint(i,c,o)),scalePoint(i,s,o)+n}function applyAxisDelta(i,n=0,s=1,o,c){i.min=applyPointDelta(i.min,n,s,o,c),i.max=applyPointDelta(i.max,n,s,o,c)}function applyBoxDelta(i,{x:n,y:s}){applyAxisDelta(i.x,n.translate,n.scale,n.originPoint),applyAxisDelta(i.y,s.translate,s.scale,s.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(i,n,s,o=!1){const c=s.length;if(!c)return;n.x=n.y=1;let m,f;for(let _=0;_<c;_++){m=s[_],f=m.projectionDelta;const{visualElement:x}=m.options;x&&x.props.style&&x.props.style.display==="contents"||(o&&m.options.layoutScroll&&m.scroll&&m!==m.root&&transformBox(i,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),f&&(n.x*=f.x.scale,n.y*=f.y.scale,applyBoxDelta(i,f)),o&&hasTransform(m.latestValues)&&transformBox(i,m.latestValues))}n.x<TREE_SCALE_SNAP_MAX&&n.x>TREE_SCALE_SNAP_MIN&&(n.x=1),n.y<TREE_SCALE_SNAP_MAX&&n.y>TREE_SCALE_SNAP_MIN&&(n.y=1)}function translateAxis(i,n){i.min=i.min+n,i.max=i.max+n}function transformAxis(i,n,s,o,c=.5){const m=mixNumber$1(i.min,i.max,c);applyAxisDelta(i,n,s,m,o)}function transformBox(i,n){transformAxis(i.x,n.x,n.scaleX,n.scale,n.originX),transformAxis(i.y,n.y,n.scaleY,n.scale,n.originY)}function measureViewportBox(i,n){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),n))}function measurePageBox(i,n,s){const o=measureViewportBox(i,s),{scroll:c}=n;return c&&(translateAxis(o.x,c.offset.x),translateAxis(o.y,c.offset.y)),o}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),n=()=>prefersReducedMotion.current=i.matches;i.addEventListener("change",n),n()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(i,n,s){for(const o in n){const c=n[o],m=s[o];if(isMotionValue(c))i.addValue(o,c);else if(isMotionValue(m))i.addValue(o,motionValue(c,{owner:i}));else if(m!==c)if(i.hasValue(o)){const f=i.getValue(o);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=i.getStaticValue(o);i.addValue(o,motionValue(f!==void 0?f:c,{owner:i}))}}for(const o in s)n[o]===void 0&&i.removeValue(o);return n}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(n,s,o){return{}}constructor({parent:n,props:s,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:m,visualState:f},_={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=time.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,frame.render(this.render,!1,!0))};const{latestValues:x,renderState:d}=f;this.latestValues=x,this.baseTarget={...x},this.initialValues=s.initial?{...x}:{},this.renderState=d,this.parent=n,this.props=s,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=c,this.options=_,this.blockInitialAnimation=!!m,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:l,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in h){const v=h[y];x[y]!==void 0&&isMotionValue(v)&&v.set(x[y])}}mount(n){this.current=n,visualElementStore.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=transformProps.has(n);o&&this.onBindTransform&&this.onBindTransform();const c=s.on("change",f=>{this.latestValues[n]=f,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{c(),m&&m(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in featureDefinitions){const s=featureDefinitions[n];if(!s)continue;const{isEnabled:o,Feature:c}=s;if(!this.features[n]&&c&&o(this.props)&&(this.features[n]=new c(this)),this.features[n]){const m=this.features[n];m.isMounted?m.update():(m.mount(),m.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<propEventHandlers.length;o++){const c=propEventHandlers[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const m="on"+c,f=n[m];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const o=this.values.get(n);s!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&s!==void 0&&(o=motionValue(s===null?void 0:s,{owner:this}),this.addValue(n,o)),o}readValue(n,s){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(isNumericalString(o)||isZeroValueString(o))?o=parseFloat(o):!findValueType(o)&&complex.test(s)&&(o=getAnimatableNone(n,s)),this.setBaseTarget(n,isMotionValue(o)?o.get():o)),isMotionValue(o)?o.get():o}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const m=resolveVariantFromProps(this.props,s,this.presenceContext?.custom);m&&(o=m[n])}if(s&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new SubscriptionManager),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:o}){delete s[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;isMotionValue(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function renderHTML(i,{style:n,vars:s},o,c){const m=i.style;let f;for(f in n)m[f]=n[f];c?.applyProjectionStyles(m,o);for(f in s)m.setProperty(f,s[f])}function getComputedStyle$1(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(n,s){if(transformProps.has(s))return this.projection?.isProjecting?defaultTransformValue(s):readTransformValue(n,s);{const o=getComputedStyle$1(n),c=(isCSSVariableName(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:s}){return measureViewportBox(n,s)}build(n,s,o){buildHTMLStyles(n,s,o.transformTemplate)}scrapeMotionValuesFromProps(n,s,o){return scrapeMotionValuesFromProps$1(n,s,o)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,n,s,o){renderHTML(i,n,void 0,o);for(const c in n.attrs)i.setAttribute(camelCaseAttributes.has(c)?c:camelToDash(c),n.attrs[c])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,o){return scrapeMotionValuesFromProps(n,s,o)}build(n,s,o){buildSVGAttrs(n,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,s,o,c){renderSVG(n,s,o,c)}mount(n){this.isSVGTag=isSVGTag(n.tagName),super.mount(n)}}const createDomVisualElement=(i,n)=>isSVGComponent(i)?new SVGVisualElement(n):new HTMLVisualElement(n,{allowProjection:i!==reactExports.Fragment});function resolveVariant(i,n,s){const o=i.getProps();return resolveVariantFromProps(o,n,s!==void 0?s:o.custom,i)}const isKeyframesTarget=i=>Array.isArray(i);function setMotionValue(i,n,s){i.hasValue(n)?i.getValue(n).set(s):i.addValue(n,motionValue(s))}function resolveFinalValueInKeyframes(i){return isKeyframesTarget(i)?i[i.length-1]||0:i}function setTarget(i,n){const s=resolveVariant(i,n);let{transitionEnd:o={},transition:c={},...m}=s||{};m={...m,...o};for(const f in m){const _=resolveFinalValueInKeyframes(m[f]);setMotionValue(i,f,_)}}function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function addValueToWillChange(i,n){const s=i.getValue("willChange");if(isWillChangeMotionValue(s))return s.add(n);if(!s&&MotionGlobalConfig.WillChange){const o=new MotionGlobalConfig.WillChange("auto");i.addValue("willChange",o),o.add(n)}}function getOptimisedAppearId(i){return i.props[optimizedAppearDataAttribute]}const isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:n,repeatType:s="loop"},o){const c=i.filter(isNotNull),m=n&&s!=="loop"&&n%2===1?0:c.length-1;return c[m]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:n})=>n.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(n[1]):underDampedSpring:ease;function isTransitionDefined({when:i,delay:n,delayChildren:s,staggerChildren:o,staggerDirection:c,repeat:m,repeatType:f,repeatDelay:_,from:x,elapsed:d,...l}){return!!Object.keys(l).length}const animateMotionValue=(i,n,s,o={},c,m)=>f=>{const _=getValueTransition(o,i)||{},x=_.delay||o.delay||0;let{elapsed:d=0}=o;d=d-secondsToMilliseconds(x);const l={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),..._,delay:-d,onUpdate:y=>{n.set(y),_.onUpdate&&_.onUpdate(y)},onComplete:()=>{f(),_.onComplete&&_.onComplete()},name:i,motionValue:n,element:m?void 0:c};isTransitionDefined(_)||Object.assign(l,getDefaultTransition(i,l)),l.duration&&(l.duration=secondsToMilliseconds(l.duration)),l.repeatDelay&&(l.repeatDelay=secondsToMilliseconds(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let h=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(makeAnimationInstant(l),l.delay===0&&(h=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(h=!0,makeAnimationInstant(l),l.delay=0),l.allowFlatten=!_.type&&!_.ease,h&&!m&&n.get()!==void 0){const y=getFinalKeyframe(l.keyframes,_);if(y!==void 0){frame.update(()=>{l.onUpdate(y),l.onComplete()});return}}return _.isSync?new JSAnimation(l):new AsyncMotionValueAnimation(l)};function shouldBlockAnimation({protectedKeys:i,needsAnimating:n},s){const o=i.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,o}function animateTarget(i,n,{delay:s=0,transitionOverride:o,type:c}={}){let{transition:m=i.getDefaultTransition(),transitionEnd:f,..._}=n;o&&(m=o);const x=[],d=c&&i.animationState&&i.animationState.getState()[c];for(const l in _){const h=i.getValue(l,i.latestValues[l]??null),y=_[l];if(y===void 0||d&&shouldBlockAnimation(d,l))continue;const v={delay:s,...getValueTransition(m||{},l)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(y)&&y===p&&!v.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const E=getOptimisedAppearId(i);if(E){const M=window.MotionHandoffAnimation(E,l,frame);M!==null&&(v.startTime=M,A=!0)}}addValueToWillChange(i,l),h.start(animateMotionValue(l,h,y,i.shouldReduceMotion&&positionalKeys.has(l)?{type:!1}:v,i,A));const P=h.animation;P&&x.push(P)}return f&&Promise.all(x).then(()=>{frame.update(()=>{f&&setTarget(i,f)})}),x}function calcChildStagger(i,n,s,o=0,c=1){const m=Array.from(i).sort((d,l)=>d.sortNodePosition(l)).indexOf(n),f=i.size,_=(f-1)*o;return typeof s=="function"?s(m,f):c===1?m*o:_-m*o}function animateVariant(i,n,s={}){const o=resolveVariant(i,n,s.type==="exit"?i.presenceContext?.custom:void 0);let{transition:c=i.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const m=o?()=>Promise.all(animateTarget(i,o,s)):()=>Promise.resolve(),f=i.variantChildren&&i.variantChildren.size?(x=0)=>{const{delayChildren:d=0,staggerChildren:l,staggerDirection:h}=c;return animateChildren(i,n,x,d,l,h,s)}:()=>Promise.resolve(),{when:_}=c;if(_){const[x,d]=_==="beforeChildren"?[m,f]:[f,m];return x().then(()=>d())}else return Promise.all([m(),f(s.delay)])}function animateChildren(i,n,s=0,o=0,c=0,m=1,f){const _=[];for(const x of i.variantChildren)x.notify("AnimationStart",n),_.push(animateVariant(x,n,{...f,delay:s+(typeof o=="function"?0:o)+calcChildStagger(i.variantChildren,x,o,c,m)}).then(()=>x.notify("AnimationComplete",n)));return Promise.all(_)}function animateVisualElement(i,n,s={}){i.notify("AnimationStart",n);let o;if(Array.isArray(n)){const c=n.map(m=>animateVariant(i,m,s));o=Promise.all(c)}else if(typeof n=="string")o=animateVariant(i,n,s);else{const c=typeof n=="function"?resolveVariant(i,n,s.custom):n;o=Promise.all(animateTarget(i,c,s))}return o.then(()=>{i.notify("AnimationComplete",n)})}function shallowCompare(i,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==i.length)return!1;for(let o=0;o<s;o++)if(n[o]!==i[o])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(i){if(!i)return;if(!i.isControllingVariants){const s=i.parent?getVariantContext(i.parent)||{}:{};return i.props.initial!==void 0&&(s.initial=i.props.initial),s}const n={};for(let s=0;s<numVariantProps;s++){const o=variantProps[s],c=i.props[o];(isVariantLabel(c)||c===!1)&&(n[o]=c)}return n}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return n=>Promise.all(n.map(({animation:s,options:o})=>animateVisualElement(i,s,o)))}function createAnimationState(i){let n=animateList(i),s=createState(),o=!0;const c=x=>(d,l)=>{const h=resolveVariant(i,l,x==="exit"?i.presenceContext?.custom:void 0);if(h){const{transition:y,transitionEnd:v,...p}=h;d={...d,...p,...v}}return d};function m(x){n=x(i)}function f(x){const{props:d}=i,l=getVariantContext(i.parent)||{},h=[],y=new Set;let v={},p=1/0;for(let P=0;P<numAnimationTypes;P++){const E=reversePriorityOrder[P],M=s[E],V=d[E]!==void 0?d[E]:l[E],I=isVariantLabel(V),R=E===x?M.isActive:null;R===!1&&(p=P);let F=V===l[E]&&V!==d[E]&&I;if(F&&o&&i.manuallyAnimateOnMount&&(F=!1),M.protectedKeys={...v},!M.isActive&&R===null||!V&&!M.prevProp||isAnimationControls(V)||typeof V=="boolean")continue;const H=checkVariantsDidChange(M.prevProp,V);let K=H||E===x&&M.isActive&&!F&&I||P>p&&I,q=!1;const ee=Array.isArray(V)?V:[V];let J=ee.reduce(c(E),{});R===!1&&(J={});const{prevResolvedValues:me={}}=M,he={...me,...J},fe=W=>{K=!0,y.has(W)&&(q=!0,y.delete(W)),M.needsAnimating[W]=!0;const k=i.getValue(W);k&&(k.liveStyle=!1)};for(const W in he){const k=J[W],C=me[W];if(v.hasOwnProperty(W))continue;let T=!1;isKeyframesTarget(k)&&isKeyframesTarget(C)?T=!shallowCompare(k,C):T=k!==C,T?k!=null?fe(W):y.add(W):k!==void 0&&y.has(W)?fe(W):M.protectedKeys[W]=!0}M.prevProp=V,M.prevResolvedValues=J,M.isActive&&(v={...v,...J}),o&&i.blockInitialAnimation&&(K=!1);const ve=F&&H;K&&(!ve||q)&&h.push(...ee.map(W=>{const k={type:E};if(typeof W=="string"&&o&&!ve&&i.manuallyAnimateOnMount&&i.parent){const{parent:C}=i,T=resolveVariant(C,W);if(C.enteringChildren&&T){const{delayChildren:w}=T.transition||{};k.delay=calcChildStagger(C.enteringChildren,i,w)}}return{animation:W,options:k}}))}if(y.size){const P={};if(typeof d.initial!="boolean"){const E=resolveVariant(i,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(P.transition=E.transition)}y.forEach(E=>{const M=i.getBaseTarget(E),V=i.getValue(E);V&&(V.liveStyle=!0),P[E]=M??null}),h.push({animation:P})}let A=!!h.length;return o&&(d.initial===!1||d.initial===d.animate)&&!i.manuallyAnimateOnMount&&(A=!1),o=!1,A?n(h):Promise.resolve()}function _(x,d){if(s[x].isActive===d)return Promise.resolve();i.variantChildren?.forEach(h=>h.animationState?.setActive(x,d)),s[x].isActive=d;const l=f(x);for(const h in s)s[h].protectedKeys={};return l}return{animateChanges:f,setActive:_,setAnimateFunction:m,getState:()=>s,reset:()=>{s=createState()}}}function checkVariantsDidChange(i,n){return typeof n=="string"?n!==i:Array.isArray(n)?!shallowCompare(n,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(n){this.isMounted=!1,this.node=n}update(){}}class AnimationFeature extends Feature{constructor(n){super(n),n.animationState||(n.animationState=createAnimationState(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();isAnimationControls(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const c=this.node.animationState.setActive("exit",!n);s&&!n&&c.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(i,n,s,o={passive:!0}){return i.addEventListener(n,s,o),()=>i.removeEventListener(n,s)}function extractEventInfo(i){return{point:{x:i.pageX,y:i.pageY}}}const addPointerInfo=i=>n=>isPrimaryPointer(n)&&i(n,extractEventInfo(n));function addPointerEvent(i,n,s,o){return addDomEvent(i,n,addPointerInfo(s),o)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(i){return i.max-i.min}function isNear(i,n,s){return Math.abs(i-n)<=s}function calcAxisDelta(i,n,s,o=.5){i.origin=o,i.originPoint=mixNumber$1(n.min,n.max,i.origin),i.scale=calcLength(s)/calcLength(n),i.translate=mixNumber$1(s.min,s.max,i.origin)-i.originPoint,(i.scale>=SCALE_MIN&&i.scale<=SCALE_MAX||isNaN(i.scale))&&(i.scale=1),(i.translate>=TRANSLATE_MIN&&i.translate<=TRANSLATE_MAX||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,n,s,o){calcAxisDelta(i.x,n.x,s.x,o?o.originX:void 0),calcAxisDelta(i.y,n.y,s.y,o?o.originY:void 0)}function calcRelativeAxis(i,n,s){i.min=s.min+n.min,i.max=i.min+calcLength(n)}function calcRelativeBox(i,n,s){calcRelativeAxis(i.x,n.x,s.x),calcRelativeAxis(i.y,n.y,s.y)}function calcRelativeAxisPosition(i,n,s){i.min=n.min-s.min,i.max=i.min+calcLength(n)}function calcRelativePosition(i,n,s){calcRelativeAxisPosition(i.x,n.x,s.x),calcRelativeAxisPosition(i.y,n.y,s.y)}function eachAxis(i){return[i("x"),i("y")]}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,distance=(i,n)=>Math.abs(i-n);function distance2D(i,n){const s=distance(i.x,n.x),o=distance(i.y,n.y);return Math.sqrt(s**2+o**2)}class PanSession{constructor(n,s,{transformPagePoint:o,contextWindow:c=window,dragSnapToOrigin:m=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=getPanInfo(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,p=distance2D(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!p)return;const{point:A}=y,{timestamp:P}=frameData;this.history.push({...A,timestamp:P});const{onStart:E,onMove:M}=this.handlers;v||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=transformPoint(v,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:p,onSessionEnd:A,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=getPanInfo(y.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(v,this.transformPagePoint),this.history);this.startEvent&&p&&p(y,E),A&&A(y,E)},!isPrimaryPointer(n))return;this.dragSnapToOrigin=m,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=f,this.contextWindow=c||window;const _=extractEventInfo(n),x=transformPoint(_,this.transformPagePoint),{point:d}=x,{timestamp:l}=frameData;this.history=[{...d,timestamp:l}];const{onSessionStart:h}=s;h&&h(n,getPanInfo(x,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,n){return n?{point:n(i.point)}:i}function subtractPoint(i,n){return{x:i.x-n.x,y:i.y-n.y}}function getPanInfo({point:i},n){return{point:i,delta:subtractPoint(i,lastDevicePoint(n)),offset:subtractPoint(i,startDevicePoint(n)),velocity:getVelocity(n,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,n){if(i.length<2)return{x:0,y:0};let s=i.length-1,o=null;const c=lastDevicePoint(i);for(;s>=0&&(o=i[s],!(c.timestamp-o.timestamp>secondsToMilliseconds(n)));)s--;if(!o)return{x:0,y:0};const m=millisecondsToSeconds(c.timestamp-o.timestamp);if(m===0)return{x:0,y:0};const f={x:(c.x-o.x)/m,y:(c.y-o.y)/m};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function applyConstraints(i,{min:n,max:s},o){return n!==void 0&&i<n?i=o?mixNumber$1(n,i,o.min):Math.max(i,n):s!==void 0&&i>s&&(i=o?mixNumber$1(s,i,o.max):Math.min(i,s)),i}function calcRelativeAxisConstraints(i,n,s){return{min:n!==void 0?i.min+n:void 0,max:s!==void 0?i.max+s-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:n,left:s,bottom:o,right:c}){return{x:calcRelativeAxisConstraints(i.x,s,c),y:calcRelativeAxisConstraints(i.y,n,o)}}function calcViewportAxisConstraints(i,n){let s=n.min-i.min,o=n.max-i.max;return n.max-n.min<i.max-i.min&&([s,o]=[o,s]),{min:s,max:o}}function calcViewportConstraints(i,n){return{x:calcViewportAxisConstraints(i.x,n.x),y:calcViewportAxisConstraints(i.y,n.y)}}function calcOrigin(i,n){let s=.5;const o=calcLength(i),c=calcLength(n);return c>o?s=progress(n.min,n.max-o,i.min):o>c&&(s=progress(i.min,i.max-c,n.min)),clamp(0,1,s)}function rebaseAxisConstraints(i,n){const s={};return n.min!==void 0&&(s.min=n.min-i.min),n.max!==void 0&&(s.max=n.max-i.min),s}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,n,s){return{min:resolvePointElastic(i,n),max:resolvePointElastic(i,s)}}function resolvePointElastic(i,n){return typeof i=="number"?i:i[n]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const m=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(h).point)},f=(h,y)=>{const{drag:v,dragPropagation:p,onDragStart:A}=this.getProps();if(v&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(E=>{let M=this.getAxisMotionValue(E).get()||0;if(percent.test(M)){const{projection:V}=this.visualElement;if(V&&V.layout){const I=V.layout.layoutBox[E];I&&(M=calcLength(I)*(parseFloat(M)/100))}}this.originPoint[E]=M}),A&&frame.postRender(()=>A(h,y)),addValueToWillChange(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},_=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:p,onDirectionLock:A,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=y;if(p&&this.currentDirection===null){this.currentDirection=getCurrentDirection(E),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),P&&P(h,y)},x=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y,this.stop(h,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>eachAxis(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new PanSession(n,{onSessionStart:m,onStart:f,onMove:_,onSessionEnd:x,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:o,contextWindow:getContextWindow(this.visualElement)})}stop(n,s){const o=n||this.latestPointerEvent,c=s||this.latestPanInfo,m=this.isDragging;if(this.cancel(),!m||!c||!o)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:_}=this.getProps();_&&frame.postRender(()=>_(o,c))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,o){const{drag:c}=this.getProps();if(!o||!shouldDrag(n,c,this.currentDirection))return;const m=this.getAxisMotionValue(n);let f=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(f=applyConstraints(f,this.constraints[n],this.elastic[n])),m.set(f)}resolveConstraints(){const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;n&&isRefObject(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=calcRelativeConstraints(o.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(s),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=rebaseAxisConstraints(o.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!isRefObject(n))return!1;const o=n.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const m=measurePageBox(o,c.root,this.visualElement.getTransformPagePoint());let f=calcViewportConstraints(c.layout.layoutBox,m);if(s){const _=s(convertBoxToBoundingBox(f));this.hasMutatedConstraints=!!_,_&&(f=convertBoundingBoxToBox(_))}return f}startAnimation(n){const{drag:s,dragMomentum:o,dragElastic:c,dragTransition:m,dragSnapToOrigin:f,onDragTransitionEnd:_}=this.getProps(),x=this.constraints||{},d=eachAxis(l=>{if(!shouldDrag(l,s,this.currentDirection))return;let h=x&&x[l]||{};f&&(h={min:0,max:0});const y=c?200:1e6,v=c?40:1e7,p={type:"inertia",velocity:o?n[l]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...m,...h};return this.startAxisValueAnimation(l,p)});return Promise.all(d).then(_)}startAxisValueAnimation(n,s){const o=this.getAxisMotionValue(n);return addValueToWillChange(this.visualElement,n),o.start(animateMotionValue(n,o,0,s,this.visualElement,!1))}stopAnimation(){eachAxis(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){eachAxis(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),c=o[s];return c||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){eachAxis(s=>{const{drag:o}=this.getProps();if(!shouldDrag(s,o,this.currentDirection))return;const{projection:c}=this.visualElement,m=this.getAxisMotionValue(s);if(c&&c.layout){const{min:f,max:_}=c.layout.layoutBox[s];m.set(n[s]-mixNumber$1(f,_,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(s)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};eachAxis(f=>{const _=this.getAxisMotionValue(f);if(_&&this.constraints!==!1){const x=_.get();c[f]=calcOrigin({min:x,max:x},this.constraints[f])}});const{transformTemplate:m}=this.visualElement.getProps();this.visualElement.current.style.transform=m?m({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(f=>{if(!shouldDrag(f,n,null))return;const _=this.getAxisMotionValue(f),{min:x,max:d}=this.constraints[f];_.set(mixNumber$1(x,d,c[f]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const n=this.visualElement.current,s=addPointerEvent(n,"pointerdown",x=>{const{drag:d,dragListener:l=!0}=this.getProps();d&&l&&this.start(x)}),o=()=>{const{dragConstraints:x}=this.getProps();isRefObject(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,m=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),frame.read(o);const f=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),_=c.addEventListener("didUpdate",(({delta:x,hasLayoutChanged:d})=>{this.isDragging&&d&&(eachAxis(l=>{const h=this.getAxisMotionValue(l);h&&(this.originPoint[l]+=x[l].translate,h.set(h.get()+x[l].translate))}),this.visualElement.render())}));return()=>{f(),s(),m(),_&&_()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:m=!1,dragElastic:f=defaultElastic,dragMomentum:_=!0}=n;return{...n,drag:s,dragDirectionLock:o,dragPropagation:c,dragConstraints:m,dragElastic:f,dragMomentum:_}}}function shouldDrag(i,n,s){return(n===!0||n===i)&&(s===null||s===i)}function getCurrentDirection(i,n=10){let s=null;return Math.abs(i.y)>n?s="y":Math.abs(i.x)>n&&(s="x"),s}class DragGesture extends Feature{constructor(n){super(n),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(n,s)=>{i&&frame.postRender(()=>i(n,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(n){this.session=new PanSession(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:asyncHandler(n),onStart:asyncHandler(s),onMove:o,onEnd:(m,f)=>{delete this.session,c&&frame.postRender(()=>c(m,f))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,n){return n.max===n.min?0:i/(n.max-n.min)*100}const correctBorderRadius={correct:(i,n)=>{if(!n.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const s=pixelsToPercent(i,n.target.x),o=pixelsToPercent(i,n.target.y);return`${s}% ${o}%`}},correctBoxShadow={correct:(i,{treeScale:n,projectionDelta:s})=>{const o=i,c=complex.parse(i);if(c.length>5)return o;const m=complex.createTransformer(i),f=typeof c[0]!="number"?1:0,_=s.x.scale*n.x,x=s.y.scale*n.y;c[0+f]/=_,c[1+f]/=x;const d=mixNumber$1(_,x,.5);return typeof c[2+f]=="number"&&(c[2+f]/=d),typeof c[3+f]=="number"&&(c[3+f]/=d),m(c)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o,layoutId:c}=this.props,{projection:m}=n;addScaleCorrector(defaultScaleCorrectors),m&&(s.group&&s.group.add(m),o&&o.register&&c&&o.register(m),hasTakenAnySnapshot&&m.root.didUpdate(),m.addEventListener("animationComplete",()=>{this.safeToRemove()}),m.setOptions({...m.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:o,drag:c,isPresent:m}=this.props,{projection:f}=o;return f&&(f.isPresent=m,hasTakenAnySnapshot=!0,c||n.layoutDependency!==s||s===void 0||n.isPresent!==m?f.willUpdate():this.safeToRemove(),n.isPresent!==m&&(m?f.promote():f.relegate()||frame.postRender(()=>{const _=f.getStack();(!_||!_.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),microtask.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:c}=n;hasTakenAnySnapshot=!0,c&&(c.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function MeasureLayout(i){const[n,s]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...i,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:n,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(i,n,s){const o=isMotionValue(i)?i:motionValue(i);return o.start(animateMotionValue("",o,n,s)),o.animation}const compareByDepth=(i,n)=>i.depth-n.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(n){addUniqueItem(this.children,n),this.isDirty=!0}remove(n){removeItem(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(n)}}function delay(i,n){const s=time.now(),o=({timestamp:c})=>{const m=c-s;m>=n&&(cancelFrame(o),i(m-n))};return frame.setup(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,n,s,o,c,m){c?(i.opacity=mixNumber$1(0,s.opacity??1,easeCrossfadeIn(o)),i.opacityExit=mixNumber$1(n.opacity??1,0,easeCrossfadeOut(o))):m&&(i.opacity=mixNumber$1(n.opacity??1,s.opacity??1,o));for(let f=0;f<numBorders;f++){const _=`border${borders[f]}Radius`;let x=getRadius(n,_),d=getRadius(s,_);if(x===void 0&&d===void 0)continue;x||(x=0),d||(d=0),x===0||d===0||isPx(x)===isPx(d)?(i[_]=Math.max(mixNumber$1(asNumber(x),asNumber(d),o),0),(percent.test(d)||percent.test(x))&&(i[_]+="%")):i[_]=d}(n.rotate||s.rotate)&&(i.rotate=mixNumber$1(n.rotate||0,s.rotate||0,o))}function getRadius(i,n){return i[n]!==void 0?i[n]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(i,n,s){return o=>o<i?0:o>n?1:s(progress(i,n,o))}function copyAxisInto(i,n){i.min=n.min,i.max=n.max}function copyBoxInto(i,n){copyAxisInto(i.x,n.x),copyAxisInto(i.y,n.y)}function copyAxisDeltaInto(i,n){i.translate=n.translate,i.scale=n.scale,i.originPoint=n.originPoint,i.origin=n.origin}function removePointDelta(i,n,s,o,c){return i-=n,i=scalePoint(i,1/s,o),c!==void 0&&(i=scalePoint(i,1/c,o)),i}function removeAxisDelta(i,n=0,s=1,o=.5,c,m=i,f=i){if(percent.test(n)&&(n=parseFloat(n),n=mixNumber$1(f.min,f.max,n/100)-f.min),typeof n!="number")return;let _=mixNumber$1(m.min,m.max,o);i===m&&(_-=n),i.min=removePointDelta(i.min,n,s,_,c),i.max=removePointDelta(i.max,n,s,_,c)}function removeAxisTransforms(i,n,[s,o,c],m,f){removeAxisDelta(i,n[s],n[o],n[c],n.scale,m,f)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,n,s,o){removeAxisTransforms(i.x,n,xKeys,s?s.x:void 0,o?o.x:void 0),removeAxisTransforms(i.y,n,yKeys,s?s.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function axisEquals(i,n){return i.min===n.min&&i.max===n.max}function boxEquals(i,n){return axisEquals(i.x,n.x)&&axisEquals(i.y,n.y)}function axisEqualsRounded(i,n){return Math.round(i.min)===Math.round(n.min)&&Math.round(i.max)===Math.round(n.max)}function boxEqualsRounded(i,n){return axisEqualsRounded(i.x,n.x)&&axisEqualsRounded(i.y,n.y)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}function axisDeltaEquals(i,n){return i.translate===n.translate&&i.scale===n.scale&&i.originPoint===n.originPoint}class NodeStack{constructor(){this.members=[]}add(n){addUniqueItem(this.members,n),n.scheduleRender()}remove(n){if(removeItem(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(c=>n===c);if(s===0)return!1;let o;for(let c=s;c>=0;c--){const m=this.members[c];if(m.isPresent!==!1){o=m;break}}return o?(this.promote(o),!0):!1}promote(n,s){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,s&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:c}=n.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:o}=n;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,n,s){let o="";const c=i.x.translate/n.x,m=i.y.translate/n.y,f=s?.z||0;if((c||m||f)&&(o=`translate3d(${c}px, ${m}px, ${f}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:d,rotate:l,rotateX:h,rotateY:y,skewX:v,skewY:p}=s;d&&(o=`perspective(${d}px) ${o}`),l&&(o+=`rotate(${l}deg) `),h&&(o+=`rotateX(${h}deg) `),y&&(o+=`rotateY(${y}deg) `),v&&(o+=`skewX(${v}deg) `),p&&(o+=`skewY(${p}deg) `)}const _=i.x.scale*n.x,x=i.y.scale*n.y;return(_!==1||x!==1)&&(o+=`scale(${_}, ${x})`),o||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(i,n,s,o){const{latestValues:c}=n;c[i]&&(s[i]=c[i],n.setStaticValue(i,0),o&&(o[i]=0))}function cancelTreeOptimisedTransformAnimations(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:n}=i.options;if(!n)return;const s=getOptimisedAppearId(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:c,layoutId:m}=i.options;window.MotionCancelOptimisedAnimation(s,"transform",frame,!(c||m))}const{parent:o}=i;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:i,defaultParent:n,measureScroll:s,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(f={},_=n?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=_?_.root||_:this,this.path=_?[..._.path,_]:[],this.parent=_,this.depth=_?_.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(f,_){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new SubscriptionManager),this.eventHandlers.get(f).add(_)}notifyListeners(f,..._){const x=this.eventHandlers.get(f);x&&x.notify(..._)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=isSVGElement(f)&&!isSVGSVGElement(f),this.instance=f;const{layoutId:_,layout:x,visualElement:d}=this.options;if(d&&!d.current&&d.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(x||_)&&(this.isLayoutDirty=!0),i){let l,h=0;const y=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{h=window.innerWidth}),i(f,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,l&&l(),l=delay(y,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}_&&this.root.registerSharedNode(_,this),this.options.animate!==!1&&d&&(_||x)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:A,onLayoutAnimationComplete:P}=d.getProps(),E=!this.targetLayout||!boxEqualsRounded(this.targetLayout,v),M=!h&&y;if(this.options.layoutRoot||this.resumeFrom||M||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...getValueTransition(p,"layout"),onPlay:A,onComplete:P};(d.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(l,M)}else h||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const h=this.path[l];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:_,layout:x}=this.options;if(_===void 0&&!x)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const _=time.now();frameData.delta=clamp(0,1e3/60,_-frameData.timestamp),frameData.timestamp=_,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:_}=this.options;_&&_.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let _=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(_=!1),_&&this.instance){const x=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:x,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,_=this.projectionDelta&&!isDeltaZero(this.projectionDelta),x=this.getTransformTemplate(),d=x?x(this.latestValues,""):void 0,l=d!==this.prevTransformTemplateValue;f&&this.instance&&(_||hasTransform(this.latestValues)||l)&&(c(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const _=this.measurePageBox();let x=this.removeElementScroll(_);return f&&(x=this.removeTransform(x)),roundBox(x),{animationId:this.root.animationId,measuredBox:_,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return createBox();const _=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:d}=this.root;d&&(translateAxis(_.x,d.offset.x),translateAxis(_.y,d.offset.y))}return _}removeElementScroll(f){const _=createBox();if(copyBoxInto(_,f),this.scroll?.wasRoot)return _;for(let x=0;x<this.path.length;x++){const d=this.path[x],{scroll:l,options:h}=d;d!==this.root&&l&&h.layoutScroll&&(l.wasRoot&&copyBoxInto(_,f),translateAxis(_.x,l.offset.x),translateAxis(_.y,l.offset.y))}return _}applyTransform(f,_=!1){const x=createBox();copyBoxInto(x,f);for(let d=0;d<this.path.length;d++){const l=this.path[d];!_&&l.options.layoutScroll&&l.scroll&&l!==l.root&&transformBox(x,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),hasTransform(l.latestValues)&&transformBox(x,l.latestValues)}return hasTransform(this.latestValues)&&transformBox(x,this.latestValues),x}removeTransform(f){const _=createBox();copyBoxInto(_,f);for(let x=0;x<this.path.length;x++){const d=this.path[x];if(!d.instance||!hasTransform(d.latestValues))continue;hasScale(d.latestValues)&&d.updateSnapshot();const l=createBox(),h=d.measurePageBox();copyBoxInto(l,h),removeBoxTransforms(_,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,l)}return hasTransform(this.latestValues)&&removeBoxTransforms(_,this.latestValues),_}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const _=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=_.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=_.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=_.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==_;if(!(f||x&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:h}=this.options;if(!(!this.layout||!(l||h))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,y.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),_=!!this.resumingFrom||this!==f;let x=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(x=!1),_&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(x=!1),x)return;const{layout:d,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||l))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,_),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=createBox());const{target:v}=f;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const _=this.getStack();_&&_.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(f,_=!1){const x=this.snapshot,d=x?x.latestValues:{},l={...this.latestValues},h=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!_;const y=createBox(),v=x?x.source:void 0,p=this.layout?this.layout.source:void 0,A=v!==p,P=this.getStack(),E=!P||P.members.length<=1,M=!!(A&&!E&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let V;this.mixTargetDelta=I=>{const R=I/1e3;mixAxisDelta(h.x,f.x,R),mixAxisDelta(h.y,f.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,y,R),V&&boxEquals(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=createBox()),copyBoxInto(V,this.relativeTarget)),A&&(this.animationValues=l,mixValues(l,d,this.latestValues,R,M,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:_=>{this.mixTargetDelta(_),f.onUpdate&&f.onUpdate(_)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:_,target:x,layout:d,latestValues:l}=f;if(!(!_||!x||!d)){if(this!==f&&this.layout&&d&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,d.layoutBox)){x=this.target||createBox();const h=calcLength(this.layout.layoutBox.x);x.x.min=f.target.x.min,x.x.max=x.x.min+h;const y=calcLength(this.layout.layoutBox.y);x.y.min=f.target.y.min,x.y.max=x.y.min+y}copyBoxInto(_,x),transformBox(_,l),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,_,l)}}registerSharedNode(f,_){this.sharedNodes.has(f)||this.sharedNodes.set(f,new NodeStack),this.sharedNodes.get(f).add(_);const d=_.options.initialPromotionConfig;_.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(_):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:_,preserveFollowOpacity:x}={}){const d=this.getStack();d&&d.promote(this,x),f&&(this.projectionDelta=void 0,this.needsReset=!0),_&&this.setOptions({transition:_})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let _=!1;const{latestValues:x}=f;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(_=!0),!_)return;const d={};x.z&&resetDistortingTransform("z",f,d,this.animationValues);for(let l=0;l<transformAxes.length;l++)resetDistortingTransform(`rotate${transformAxes[l]}`,f,d,this.animationValues),resetDistortingTransform(`skew${transformAxes[l]}`,f,d,this.animationValues);f.render();for(const l in d)f.setStaticValue(l,d[l]),this.animationValues&&(this.animationValues[l]=d[l]);f.scheduleRender()}applyProjectionStyles(f,_){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const x=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=resolveMotionValue(_?.pointerEvents)||"",f.transform=x?x(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=resolveMotionValue(_?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(f.transform=x?x({},""):"none",this.hasProjected=!1);return}f.visibility="";const l=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,l);x&&(h=x(l,h)),f.transform=h;const{x:y,y:v}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?f.opacity=d===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:f.opacity=d===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const p in scaleCorrectors){if(l[p]===void 0)continue;const{correct:A,applyTo:P,isCSSVariable:E}=scaleCorrectors[p],M=h==="none"?l[p]:A(l[p],d);if(P){const V=P.length;for(let I=0;I<V;I++)f[P[I]]=M}else E?this.options.visualElement.renderState.vars[p]=M:f[p]=M}this.options.layoutId&&(f.pointerEvents=d===this?resolveMotionValue(_?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){const n=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&n&&i.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=i.layout,{animationType:c}=i.options,m=n.source!==i.layout.source;c==="size"?eachAxis(l=>{const h=m?n.measuredBox[l]:n.layoutBox[l],y=calcLength(h);h.min=s[l].min,h.max=h.min+y}):shouldAnimatePositionOnly(c,n.layoutBox,s)&&eachAxis(l=>{const h=m?n.measuredBox[l]:n.layoutBox[l],y=calcLength(s[l]);h.max=h.min+y,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[l].max=i.relativeTarget[l].min+y)});const f=createDelta();calcBoxDelta(f,s,n.layoutBox);const _=createDelta();m?calcBoxDelta(_,i.applyTransform(o,!0),n.measuredBox):calcBoxDelta(_,s,n.layoutBox);const x=!isDeltaZero(f);let d=!1;if(!i.resumeFrom){const l=i.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:h,layout:y}=l;if(h&&y){const v=createBox();calcRelativePosition(v,n.layoutBox,h.layoutBox);const p=createBox();calcRelativePosition(p,s,y.layoutBox),boxEqualsRounded(v,p)||(d=!0),l.options.layoutRoot&&(i.relativeTarget=p,i.relativeTargetOrigin=v,i.relativeParent=l)}}}i.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:_,layoutDelta:f,hasLayoutChanged:x,hasRelativeLayoutChanged:d})}else if(i.isLead()){const{onExitComplete:s}=i.options;s&&s()}i.options.transition=void 0}function propagateDirtyNodes(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:n}=i.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetSkewAndRotation(i){i.resetSkewAndRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,n,s){i.translate=mixNumber$1(n.translate,0,s),i.scale=mixNumber$1(n.scale,1,s),i.origin=n.origin,i.originPoint=n.originPoint}function mixAxis(i,n,s,o){i.min=mixNumber$1(n.min,s.min,o),i.max=mixNumber$1(n.max,s.max,o)}function mixBox(i,n,s,o){mixAxis(i.x,n.x,s.x,o),mixAxis(i.y,n.y,s.y,o)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,n,s){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(n),aspectRatio(s),.2)}function checkNodeWasScrollRoot(i){return i!==i.root&&i.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(i,n)=>addDomEvent(i,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,n)=>{i.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(i,n,s){const{props:o}=i;i.animationState&&o.whileHover&&i.animationState.setActive("whileHover",s==="Start");const c="onHover"+s,m=o[c];m&&frame.postRender(()=>m(n,extractEventInfo(n)))}class HoverGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=hover(n,(s,o)=>(handleHoverEvent(this.node,o,"Start"),c=>handleHoverEvent(this.node,c,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(i,n,s){const{props:o}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&o.whileTap&&i.animationState.setActive("whileTap",s==="Start");const c="onTap"+(s==="End"?"":s),m=o[c];m&&frame.postRender(()=>m(n,extractEventInfo(n)))}class PressGesture extends Feature{mount(){const{current:n}=this.node;n&&(this.unmount=press(n,(s,o)=>(handlePressEvent(this.node,o,"Start"),(c,{success:m})=>handlePressEvent(this.node,c,m?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const n=observerCallbacks.get(i.target);n&&n(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...n}){const s=i||document;observers.has(s)||observers.set(s,{});const o=observers.get(s),c=JSON.stringify(n);return o[c]||(o[c]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...n})),o[c]}function observeIntersection(i,n,s){const o=initIntersectionObserver(n);return observerCallbacks.set(i,s),o.observe(i),()=>{observerCallbacks.delete(i),o.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:o,amount:c="some",once:m}=n,f={root:s?s.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:thresholdNames[c]},_=x=>{const{isIntersecting:d}=x;if(this.isInView===d||(this.isInView=d,m&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),y=d?l:h;y&&y(x)};return observeIntersection(this.node.current,f,_)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(n,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:n={}}={}){return s=>i[s]!==n[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(n,s){module.exports=n.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.RenderingIntentFlag=n.PromiseCapability=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.MAX_IMAGE_SIZE_TO_CACHE=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.BASELINE_FACTOR=n.AnnotationType=n.AnnotationReplyType=n.AnnotationPrefix=n.AnnotationMode=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.assert=C,n.bytesToString=$,n.createValidAbsoluteUrl=w,n.getModificationDate=Qe,n.getUuid=$t,n.getVerbosityLevel=ve,n.info=ae,n.isArrayBuffer=je,n.isArrayEqual=at,n.isNodeJS=void 0,n.normalizeUnicode=Vt,n.objectFromMap=ne,n.objectSize=ye,n.setVerbosityLevel=fe,n.shadow=j,n.string32=se,n.stringToBytes=Q,n.stringToPDFString=De,n.stringToUTF8String=Ie,n.unreachable=k,n.utf8StringToString=Ne,n.warn=W;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=s;const o=[1,0,0,1,0,0];n.IDENTITY_MATRIX=o;const c=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=c;const m=1e7;n.MAX_IMAGE_SIZE_TO_CACHE=m;const f=1.35;n.LINE_FACTOR=f;const _=.35;n.LINE_DESCENT_FACTOR=_;const x=_/f;n.BASELINE_FACTOR=x;const d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=d;const l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=l;const h="pdfjs_internal_editor_";n.AnnotationEditorPrefix=h;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};n.AnnotationEditorType=y;const v={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};n.AnnotationEditorParamsType=v;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=p;const A={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=A;const P={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=P;const E={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=E;const M={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=M;const V={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=V;const I={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=I;const R={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=R;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=F;const H={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=H;const K={O:"PageOpen",C:"PageClose"};n.PageActionEventType=K;const q={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=q;const ee={NONE:0,BINARY:1};n.CMapCompressionType=ee;const J={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=J;const me={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=me;let he=q.WARNINGS;function fe(xe){Number.isInteger(xe)&&(he=xe)}function ve(){return he}function ae(xe){he>=q.INFOS&&console.log(`Info: ${xe}`)}function W(xe){he>=q.WARNINGS&&console.log(`Warning: ${xe}`)}function k(xe){throw new Error(xe)}function C(xe,le){xe||k(le)}function T(xe){switch(xe?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function w(xe,le=null,ie=null){if(!xe)return null;try{if(ie&&typeof xe=="string"&&(ie.addDefaultProtocol&&xe.startsWith("www.")&&xe.match(/\./g)?.length>=2&&(xe=`http://${xe}`),ie.tryConvertEncoding))try{xe=Ie(xe)}catch{}const we=le?new URL(xe,le):new URL(xe);if(T(we))return we}catch{}return null}function j(xe,le,ie,we=!1){return Object.defineProperty(xe,le,{value:ie,enumerable:!we,configurable:!0,writable:!1}),ie}const z=(function(){function le(ie,we){this.constructor===le&&k("Cannot initialize BaseException."),this.message=ie,this.name=we}return le.prototype=new Error,le.constructor=le,le})();n.BaseException=z;class G extends z{constructor(le,ie){super(le,"PasswordException"),this.code=ie}}n.PasswordException=G;class U extends z{constructor(le,ie){super(le,"UnknownErrorException"),this.details=ie}}n.UnknownErrorException=U;class b extends z{constructor(le){super(le,"InvalidPDFException")}}n.InvalidPDFException=b;class D extends z{constructor(le){super(le,"MissingPDFException")}}n.MissingPDFException=D;class O extends z{constructor(le,ie){super(le,"UnexpectedResponseException"),this.status=ie}}n.UnexpectedResponseException=O;class L extends z{constructor(le){super(le,"FormatError")}}n.FormatError=L;class B extends z{constructor(le){super(le,"AbortException")}}n.AbortException=B;function $(xe){(typeof xe!="object"||xe?.length===void 0)&&k("Invalid argument for bytesToString");const le=xe.length,ie=8192;if(le<ie)return String.fromCharCode.apply(null,xe);const we=[];for(let Ve=0;Ve<le;Ve+=ie){const Je=Math.min(Ve+ie,le),Ze=xe.subarray(Ve,Je);we.push(String.fromCharCode.apply(null,Ze))}return we.join("")}function Q(xe){typeof xe!="string"&&k("Invalid argument for stringToBytes");const le=xe.length,ie=new Uint8Array(le);for(let we=0;we<le;++we)ie[we]=xe.charCodeAt(we)&255;return ie}function se(xe){return String.fromCharCode(xe>>24&255,xe>>16&255,xe>>8&255,xe&255)}function ye(xe){return Object.keys(xe).length}function ne(xe){const le=Object.create(null);for(const[ie,we]of xe)le[ie]=we;return le}function re(){const xe=new Uint8Array(4);return xe[0]=1,new Uint32Array(xe.buffer,0,1)[0]===1}function ue(){try{return new Function(""),!0}catch{return!1}}class pe{static get isLittleEndian(){return j(this,"isLittleEndian",re())}static get isEvalSupported(){return j(this,"isEvalSupported",ue())}static get isOffscreenCanvasSupported(){return j(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?j(this,"platform",{isWin:!1,isMac:!1}):j(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return j(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}n.FeatureTest=pe;const ge=[...Array(256).keys()].map(xe=>xe.toString(16).padStart(2,"0"));class be{static makeHexColor(le,ie,we){return`#${ge[le]}${ge[ie]}${ge[we]}`}static scaleMinMax(le,ie){let we;le[0]?(le[0]<0&&(we=ie[0],ie[0]=ie[1],ie[1]=we),ie[0]*=le[0],ie[1]*=le[0],le[3]<0&&(we=ie[2],ie[2]=ie[3],ie[3]=we),ie[2]*=le[3],ie[3]*=le[3]):(we=ie[0],ie[0]=ie[2],ie[2]=we,we=ie[1],ie[1]=ie[3],ie[3]=we,le[1]<0&&(we=ie[2],ie[2]=ie[3],ie[3]=we),ie[2]*=le[1],ie[3]*=le[1],le[2]<0&&(we=ie[0],ie[0]=ie[1],ie[1]=we),ie[0]*=le[2],ie[1]*=le[2]),ie[0]+=le[4],ie[1]+=le[4],ie[2]+=le[5],ie[3]+=le[5]}static transform(le,ie){return[le[0]*ie[0]+le[2]*ie[1],le[1]*ie[0]+le[3]*ie[1],le[0]*ie[2]+le[2]*ie[3],le[1]*ie[2]+le[3]*ie[3],le[0]*ie[4]+le[2]*ie[5]+le[4],le[1]*ie[4]+le[3]*ie[5]+le[5]]}static applyTransform(le,ie){const we=le[0]*ie[0]+le[1]*ie[2]+ie[4],Ve=le[0]*ie[1]+le[1]*ie[3]+ie[5];return[we,Ve]}static applyInverseTransform(le,ie){const we=ie[0]*ie[3]-ie[1]*ie[2],Ve=(le[0]*ie[3]-le[1]*ie[2]+ie[2]*ie[5]-ie[4]*ie[3])/we,Je=(-le[0]*ie[1]+le[1]*ie[0]+ie[4]*ie[1]-ie[5]*ie[0])/we;return[Ve,Je]}static getAxialAlignedBoundingBox(le,ie){const we=this.applyTransform(le,ie),Ve=this.applyTransform(le.slice(2,4),ie),Je=this.applyTransform([le[0],le[3]],ie),Ze=this.applyTransform([le[2],le[1]],ie);return[Math.min(we[0],Ve[0],Je[0],Ze[0]),Math.min(we[1],Ve[1],Je[1],Ze[1]),Math.max(we[0],Ve[0],Je[0],Ze[0]),Math.max(we[1],Ve[1],Je[1],Ze[1])]}static inverseTransform(le){const ie=le[0]*le[3]-le[1]*le[2];return[le[3]/ie,-le[1]/ie,-le[2]/ie,le[0]/ie,(le[2]*le[5]-le[4]*le[3])/ie,(le[4]*le[1]-le[5]*le[0])/ie]}static singularValueDecompose2dScale(le){const ie=[le[0],le[2],le[1],le[3]],we=le[0]*ie[0]+le[1]*ie[2],Ve=le[0]*ie[1]+le[1]*ie[3],Je=le[2]*ie[0]+le[3]*ie[2],Ze=le[2]*ie[1]+le[3]*ie[3],Pt=(we+Ze)/2,Ct=Math.sqrt((we+Ze)**2-4*(we*Ze-Je*Ve))/2,Kt=Pt+Ct||1,ht=Pt-Ct||1;return[Math.sqrt(Kt),Math.sqrt(ht)]}static normalizeRect(le){const ie=le.slice(0);return le[0]>le[2]&&(ie[0]=le[2],ie[2]=le[0]),le[1]>le[3]&&(ie[1]=le[3],ie[3]=le[1]),ie}static intersect(le,ie){const we=Math.max(Math.min(le[0],le[2]),Math.min(ie[0],ie[2])),Ve=Math.min(Math.max(le[0],le[2]),Math.max(ie[0],ie[2]));if(we>Ve)return null;const Je=Math.max(Math.min(le[1],le[3]),Math.min(ie[1],ie[3])),Ze=Math.min(Math.max(le[1],le[3]),Math.max(ie[1],ie[3]));return Je>Ze?null:[we,Je,Ve,Ze]}static bezierBoundingBox(le,ie,we,Ve,Je,Ze,Pt,Ct){const Kt=[],ht=[[],[]];let rn,Bt,In,Ke,On,Yt,Nn,sn;for(let mn=0;mn<2;++mn){if(mn===0?(Bt=6*le-12*we+6*Je,rn=-3*le+9*we-9*Je+3*Pt,In=3*we-3*le):(Bt=6*ie-12*Ve+6*Ze,rn=-3*ie+9*Ve-9*Ze+3*Ct,In=3*Ve-3*ie),Math.abs(rn)<1e-12){if(Math.abs(Bt)<1e-12)continue;Ke=-In/Bt,0<Ke&&Ke<1&&Kt.push(Ke);continue}Nn=Bt*Bt-4*In*rn,sn=Math.sqrt(Nn),!(Nn<0)&&(On=(-Bt+sn)/(2*rn),0<On&&On<1&&Kt.push(On),Yt=(-Bt-sn)/(2*rn),0<Yt&&Yt<1&&Kt.push(Yt))}let jn=Kt.length,it;const Qt=jn;for(;jn--;)Ke=Kt[jn],it=1-Ke,ht[0][jn]=it*it*it*le+3*it*it*Ke*we+3*it*Ke*Ke*Je+Ke*Ke*Ke*Pt,ht[1][jn]=it*it*it*ie+3*it*it*Ke*Ve+3*it*Ke*Ke*Ze+Ke*Ke*Ke*Ct;return ht[0][Qt]=le,ht[1][Qt]=ie,ht[0][Qt+1]=Pt,ht[1][Qt+1]=Ct,ht[0].length=ht[1].length=Qt+2,[Math.min(...ht[0]),Math.min(...ht[1]),Math.max(...ht[0]),Math.max(...ht[1])]}}n.Util=be;const Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function De(xe){if(xe[0]>=""){let ie;if(xe[0]===""&&xe[1]===""?ie="utf-16be":xe[0]===""&&xe[1]===""?ie="utf-16le":xe[0]===""&&xe[1]===""&&xe[2]===""&&(ie="utf-8"),ie)try{const we=new TextDecoder(ie,{fatal:!0}),Ve=Q(xe);return we.decode(Ve)}catch(we){W(`stringToPDFString: "${we}".`)}}const le=[];for(let ie=0,we=xe.length;ie<we;ie++){const Ve=Pe[xe.charCodeAt(ie)];le.push(Ve?String.fromCharCode(Ve):xe.charAt(ie))}return le.join("")}function Ie(xe){return decodeURIComponent(escape(xe))}function Ne(xe){return unescape(encodeURIComponent(xe))}function je(xe){return typeof xe=="object"&&xe?.byteLength!==void 0}function at(xe,le){if(xe.length!==le.length)return!1;for(let ie=0,we=xe.length;ie<we;ie++)if(xe[ie]!==le[ie])return!1;return!0}function Qe(xe=new Date){return[xe.getUTCFullYear().toString(),(xe.getUTCMonth()+1).toString().padStart(2,"0"),xe.getUTCDate().toString().padStart(2,"0"),xe.getUTCHours().toString().padStart(2,"0"),xe.getUTCMinutes().toString().padStart(2,"0"),xe.getUTCSeconds().toString().padStart(2,"0")].join("")}class Tt{#e=!1;constructor(){this.promise=new Promise((le,ie)=>{this.resolve=we=>{this.#e=!0,le(we)},this.reject=we=>{this.#e=!0,ie(we)}})}get settled(){return this.#e}}n.PromiseCapability=Tt;let nt=null,dt=null;function Vt(xe){return nt||(nt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,dt=new Map([["","t"]])),xe.replaceAll(nt,(le,ie,we)=>ie?ie.normalize("NFKC"):dt.get(we))}function $t(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const xe=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(xe);else for(let le=0;le<32;le++)xe[le]=Math.floor(Math.random()*255);return $(xe)}const pn="pdfjs_internal_id_";n.AnnotationPrefix=pn}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(i){if(typeof i=="string"||i instanceof URL?i={url:i}:(0,_util.isArrayBuffer)(i)&&(i={data:i}),typeof i!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!i.url&&!i.data&&!i.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const n=new PDFDocumentLoadingTask,{docId:s}=n,o=i.url?getUrlProp(i.url):null,c=i.data?getDataProp(i.data):null,m=i.httpHeaders||null,f=i.withCredentials===!0,_=i.password??null,x=i.range instanceof PDFDataRangeTransport?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let l=i.worker instanceof PDFWorker?i.worker:null;const h=i.verbosity,y=typeof i.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(i.docBaseUrl)?i.docBaseUrl:null,v=typeof i.cMapUrl=="string"?i.cMapUrl:null,p=i.cMapPacked!==!1,A=i.CMapReaderFactory||DefaultCMapReaderFactory,P=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,E=i.StandardFontDataFactory||DefaultStandardFontDataFactory,M=i.stopAtErrors!==!0,V=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,I=i.isEvalSupported!==!1,R=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!_util.isNodeJS,F=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,H=typeof i.disableFontFace=="boolean"?i.disableFontFace:_util.isNodeJS,K=i.fontExtraProperties===!0,q=i.enableXfa===!0,ee=i.ownerDocument||globalThis.document,J=i.disableRange===!0,me=i.disableStream===!0,he=i.disableAutoFetch===!0,fe=i.pdfBug===!0,ve=x?x.length:i.length??NaN,ae=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!_util.isNodeJS&&!H,W=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:A===_display_utils.DOMCMapReaderFactory&&E===_display_utils.DOMStandardFontDataFactory&&v&&P&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(P,document.baseURI),k=i.canvasFactory||new DefaultCanvasFactory({ownerDocument:ee}),C=i.filterFactory||new DefaultFilterFactory({docId:s,ownerDocument:ee}),T=null;(0,_util.setVerbosityLevel)(h);const w={canvasFactory:k,filterFactory:C};if(W||(w.cMapReaderFactory=new A({baseUrl:v,isCompressed:p}),w.standardFontDataFactory=new E({baseUrl:P})),!l){const G={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};l=G.port?PDFWorker.fromPort(G):new PDFWorker(G),n._worker=l}const j={docId:s,apiVersion:"3.11.174",data:c,password:_,disableAutoFetch:he,rangeChunkSize:d,length:ve,docBaseUrl:y,enableXfa:q,evaluatorOptions:{maxImageSize:V,disableFontFace:H,ignoreErrors:M,isEvalSupported:I,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:K,useSystemFonts:ae,cMapUrl:W?v:null,standardFontDataUrl:W?P:null}},z={ignoreErrors:M,isEvalSupported:I,disableFontFace:H,fontExtraProperties:K,enableXfa:q,ownerDocument:ee,disableAutoFetch:he,pdfBug:fe,styleElement:T};return l.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");const G=_fetchDocument(l,j),U=new Promise(function(b){let D;x?D=new _transport_stream.PDFDataTransportStream({length:ve,initialData:x.initialData,progressiveDone:x.progressiveDone,contentDispositionFilename:x.contentDispositionFilename,disableRange:J,disableStream:me},x):c||(D=(L=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(L):(0,_display_utils.isValidFetchUrl)(L.url)?new _displayFetch_stream.PDFFetchStream(L):new _displayNetwork.PDFNetworkStream(L))({url:o,length:ve,httpHeaders:m,withCredentials:f,rangeChunkSize:d,disableRange:J,disableStream:me})),b(D)});return Promise.all([G,U]).then(function([b,D]){if(n.destroyed)throw new Error("Loading aborted");const O=new _message_handler.MessageHandler(s,b,l.port),L=new WorkerTransport(O,n,D,z,w);n._transport=L,O.send("Ready",null)})}).catch(n._capability.reject),n}async function _fetchDocument(i,n){if(i.destroyed)throw new Error("Worker was destroyed");const s=await i.messageHandler.sendWithPromise("GetDocRequest",n,n.data?[n.data.buffer]:null);if(i.destroyed)throw new Error("Worker was destroyed");return s}function getUrlProp(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(_util.isNodeJS&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(i){if(_util.isNodeJS&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return(0,_util.stringToBytes)(i);if(typeof i=="object"&&!isNaN(i?.length)||(0,_util.isArrayBuffer)(i))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(n){throw this._worker?.port&&delete this._worker._pendingDestroy,n}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(n,s,o=!1,c=null){this.length=n,this.initialData=s,this.progressiveDone=o,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,s){for(const o of this._rangeListeners)o(n,s)}onDataProgress(n,s){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(n,s)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,s){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(n,s){this._pdfInfo=n,this._transport=s,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(o=>{if(!o)return o;const c=[];for(const m in o)c.push(...o[m]);return c}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(n=!1){return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(n,s,o,c=!1){this._pageIndex=n,this._pageInfo=s,this._transport=o,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:n,rotation:s=this.rotate,offsetX:o=0,offsetY:c=0,dontFlip:m=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:s,offsetX:o,offsetY:c,dontFlip:m})}getAnnotations({intent:n="display"}={}){const s=this._transport.getRenderingIntent(n);return this._transport.getAnnotations(this._pageIndex,s.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:n,viewport:s,intent:o="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:m=null,background:f=null,optionalContentConfigPromise:_=null,annotationCanvasMap:x=null,pageColors:d=null,printAnnotationStorage:l=null}){this._stats?.time("Overall");const h=this._transport.getRenderingIntent(o,c,l);this.#t=!1,this.#r(),_||(_=this._transport.getOptionalContentConfig());let y=this._intentStates.get(h.cacheKey);y||(y=Object.create(null),this._intentStates.set(h.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const p=E=>{y.renderTasks.delete(A),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),E?(A.capability.reject(E),this._abortOperatorList({intentState:y,reason:E instanceof Error?E:new Error(E)})):A.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},A=new InternalRenderTask({callback:p,params:{canvasContext:n,viewport:s,transform:m,background:f},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:x,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:d});(y.renderTasks||=new Set).add(A);const P=A.task;return Promise.all([y.displayReadyCapability.promise,_]).then(([E,M])=>{if(this.destroyed){p();return}this._stats?.time("Rendering"),A.initializeGraphics({transparency:E,optionalContentConfig:M}),A.operatorListChanged()}).catch(p),P}getOperatorList({intent:n="display",annotationMode:s=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){function c(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(_))}const m=this._transport.getRenderingIntent(n,s,o,!0);let f=this._intentStates.get(m.cacheKey);f||(f=Object.create(null),this._intentStates.set(m.cacheKey,f));let _;return f.opListReadCapability||(_=Object.create(null),_.operatorListChanged=c,f.opListReadCapability=new _util.PromiseCapability,(f.renderTasks||=new Set).add(_),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m)),f.opListReadCapability.promise}streamTextContent({includeMarkedContent:n=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:n===!0,disableNormalization:s===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(n={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const s=this.streamTextContent(n);return new Promise(function(o,c){function m(){f.read().then(function({value:x,done:d}){if(d){o(_);return}Object.assign(_.styles,x.styles),_.items.push(...x.items),m()},c)}const f=s.getReader(),_={items:[],styles:Object.create(null)};m()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const n=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const o of s.renderTasks)n.push(o.completed),o.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(n)}cleanup(n=!1){this.#t=!0;const s=this.#n(!1);return n&&s&&(this._stats&&=new _display_utils.StatTimer),s}#n(n=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(n)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:s,operatorList:o}of this._intentStates.values())if(s.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(n,s){const o=this._intentStates.get(s);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(n))}_renderPageChunk(n,s){for(let o=0,c=n.length;o<c;o++)s.operatorList.fnArray.push(n.fnArray[o]),s.operatorList.argsArray.push(n.argsArray[o]);s.operatorList.lastChunk=n.lastChunk,s.operatorList.separateAnnots=n.separateAnnots;for(const o of s.renderTasks)o.operatorListChanged();n.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:n,cacheKey:s,annotationStorageSerializable:o}){const{map:c,transfers:m}=o,_=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:s,annotationStorage:c},m).getReader(),x=this._intentStates.get(s);x.streamReader=_;const d=()=>{_.read().then(({value:l,done:h})=>{if(h){x.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,x),d())},l=>{if(x.streamReader=null,!this._transport.destroyed){if(x.operatorList){x.operatorList.lastChunk=!0;for(const h of x.renderTasks)h.operatorListChanged();this.#n(!0)}if(x.displayReadyCapability)x.displayReadyCapability.reject(l);else if(x.opListReadCapability)x.opListReadCapability.reject(l);else throw l}})};d()}_abortOperatorList({intentState:n,reason:s,force:o=!1}){if(n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!o){if(n.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException){let c=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(c+=s.extraDelay),n.streamReaderCancelTimeout=setTimeout(()=>{n.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:n,reason:s,force:!0})},c);return}}if(n.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),n.streamReader=null,!this._transport.destroyed){for(const[c,m]of this._intentStates)if(m===n){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(n,s){const o={data:structuredClone(n,s?{transfer:s}:null)};this.#t.then(()=>{for(const c of this.#e)c.call(this,o)})}addEventListener(n,s){this.#e.add(s)}removeEventListener(n,s){this.#e.delete(s)}terminate(){this.#e.clear()}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const i=document?.currentScript?.src;i&&(PDFWorkerUtil.fallbackWorkerSrc=i.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(i,n){let s;try{if(s=new URL(i),!s.origin||s.origin==="null")return!1}catch{return!1}const o=new URL(n,s);return s.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(i){const n=`importScripts("${i}");`;return URL.createObjectURL(new Blob([n]))}}class PDFWorker{static#workerPorts;constructor({name:i=null,port:n=null,verbosity:s=(0,_util.getVerbosityLevel)()}={}){if(this.name=i,this.destroyed=!1,this.verbosity=s,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,n){if(PDFWorker.#workerPorts?.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:i}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,i)||(i=PDFWorkerUtil.createCDNWrapper(new URL(i,window.location).href));const n=new Worker(i),s=new _message_handler.MessageHandler("main","worker",n),o=()=>{n.removeEventListener("error",c),s.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||o()};n.addEventListener("error",c),s.on("test",f=>{if(n.removeEventListener("error",c),this.destroyed){o();return}f?(this._messageHandler=s,this._port=n,this._webWorker=n,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),n.terminate())}),s.on("ready",f=>{if(n.removeEventListener("error",c),this.destroyed){o();return}try{m()}catch{this._setupFakeWorker()}});const m=()=>{const f=new Uint8Array;s.send("test",f,[f.buffer])};m();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(i=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new LoopbackPort;this._port=n;const s=`fake${PDFWorkerUtil.fakeWorkerId++}`,o=new _message_handler.MessageHandler(s+"_worker",s,n);i.setup(o,n);const c=new _message_handler.MessageHandler(s,s+"_worker",n);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){if(!i?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=this.#workerPorts?.get(i.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new PDFWorker(i)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports$1.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(n,s,o,c,m){this.messageHandler=n,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,this.canvasFactory=m.canvasFactory,this.filterFactory=m.filterFactory,this.cMapReaderFactory=m.cMapReaderFactory,this.standardFontDataFactory=m.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(n,s=null){const o=this.#e.get(n);if(o)return o;const c=this.messageHandler.sendWithPromise(n,s);return this.#e.set(n,c),c}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(n,s=_util.AnnotationMode.ENABLE,o=null,c=!1){let m=_util.RenderingIntentFlag.DISPLAY,f=_annotation_storage.SerializableEmpty;switch(n){case"any":m=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":m=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${n}`)}switch(s){case _util.AnnotationMode.DISABLE:m+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:m+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:m+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=(m&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${s}`)}return c&&(m+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:m,cacheKey:`${m}_${f.hash}`,annotationStorageSerializable:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const o of this.#t.values())n.push(o._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return n.push(s),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:s}=this;n.on("GetReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=m=>{this._lastProgress={loaded:m.loaded,total:m.total}},c.onPull=()=>{this._fullReader.read().then(function({value:m,done:f}){if(f){c.close();return}(0,_util.assert)(m instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(m),1,[m])}).catch(m=>{c.error(m)})},c.onCancel=m=>{this._fullReader.cancel(m),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),n.on("ReaderHeadersReady",o=>{const c=new _util.PromiseCapability,m=this._fullReader;return m.headersReady.then(()=>{(!m.isStreamingSupported||!m.isRangeSupported)&&(this._lastProgress&&s.onProgress?.(this._lastProgress),m.onProgress=f=>{s.onProgress?.({loaded:f.loaded,total:f.total})}),c.resolve({isStreamingSupported:m.isStreamingSupported,isRangeSupported:m.isRangeSupported,contentLength:m.contentLength})},c.reject),c.promise}),n.on("GetRangeReader",(o,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const m=this._networkStream.getRangeReader(o.begin,o.end);if(!m){c.close();return}c.onPull=()=>{m.read().then(function({value:f,done:_}){if(_){c.close();return}(0,_util.assert)(f instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{c.error(f)})},c.onCancel=f=>{m.cancel(f),c.ready.catch(_=>{if(!this.destroyed)throw _})}}),n.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(o,this))}),n.on("DocException",function(o){let c;switch(o.name){case"PasswordException":c=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":c=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}s._capability.reject(c)}),n.on("PasswordRequest",o=>{if(this.#r=new _util.PromiseCapability,s.onPassword){const c=m=>{m instanceof Error?this.#r.reject(m):this.#r.resolve({password:m})};try{s.onPassword(c,o.code)}catch(m){this.#r.reject(m)}}else this.#r.reject(new _util.PasswordException(o.message,o.code));return this.#r.promise}),n.on("DataLoaded",o=>{s.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),n.on("StartRenderPage",o=>{if(this.destroyed)return;this.#t.get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),n.on("commonobj",([o,c,m])=>{if(!this.destroyed&&!this.commonObjs.has(o))switch(c){case"Font":const f=this._params;if("error"in m){const d=m.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(o,d);break}const _=f.pdfBug&&globalThis.FontInspector?.enabled?(d,l)=>globalThis.FontInspector.fontAdded(d,l):null,x=new _font_loader.FontFaceObject(m,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,inspectFont:_});this.fontLoader.bind(x).catch(d=>n.sendWithPromise("FontFallback",{id:o})).finally(()=>{!f.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(o,x)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,m);break;default:throw new Error(`Got unknown common object type ${c}`)}}),n.on("obj",([o,c,m,f])=>{if(this.destroyed)return;const _=this.#t.get(c);if(!_.objs.has(o))switch(m){case"Image":if(_.objs.resolve(o,f),f){let x;if(f.bitmap){const{width:d,height:l}=f;x=d*l*4}else x=f.data?.length||0;x>_util.MAX_IMAGE_SIZE_TO_CACHE&&(_._maybeCleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(o,f);break;default:throw new Error(`Got unknown object type ${m}`)}}),n.on("DocProgress",o=>{this.destroyed||s.onProgress?.({loaded:o.loaded,total:o.total})}),n.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),n.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfers:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:this._fullReader?.filename??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=n-1,o=this.#n.get(s);if(o)return o;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(m=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(s,m,this,this._params.pdfBug);return this.#t.set(s,f),f});return this.#n.set(s,c),c}getPageIndex(n){return typeof n!="object"||n===null||!Number.isInteger(n.num)||n.num<0||!Number.isInteger(n.gen)||n.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen})}getAnnotations(n,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:s})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return typeof n!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(n=>new _optional_content_config.OptionalContentConfig(n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const n="GetMetadata",s=this.#e.get(n);if(s)return s;const o=this.messageHandler.sendWithPromise(n,null).then(c=>({info:c[0],metadata:c[1]?new _metadata.Metadata(c[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(n,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(n=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of this.#t.values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),n||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:n,enableXfa:s}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n,enableXfa:s})}}class PDFObjects{#e=Object.create(null);#t(n){return this.#e[n]||={capability:new _util.PromiseCapability,data:null}}get(n,s=null){if(s){const c=this.#t(n);return c.capability.promise.then(()=>s(c.data)),null}const o=this.#e[n];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${n}.`);return o.data}has(n){return this.#e[n]?.capability.settled||!1}resolve(n,s=null){const o=this.#t(n);o.data=s,o.capability.resolve()}clear(){for(const n in this.#e){const{data:s}=this.#e[n];s?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(n){this.#e=n,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(n=0){this.#e.cancel(null,n)}get separateAnnots(){const{separateAnnots:n}=this.#e.operatorList;if(!n)return!1;const{annotationCanvasMap:s}=this.#e;return n.form||n.canvas&&s?.size>0}}exports$1.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:n,params:s,objs:o,commonObjs:c,annotationCanvasMap:m,operatorList:f,pageIndex:_,canvasFactory:x,filterFactory:d,useRequestAnimationFrame:l=!1,pdfBug:h=!1,pageColors:y=null}){this.callback=n,this.params=s,this.objs=o,this.commonObjs=c,this.annotationCanvasMap=m,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=_,this.canvasFactory=x,this.filterFactory=d,this._pdfBug=h,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:n=!1,optionalContentConfig:s}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:c,transform:m,background:f}=this.params;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:m,viewport:c,transparency:n,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(n=null,s=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SerializableEmpty=n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var o=s(1),c=s(4),m=s(8);const f=Object.freeze({map:null,hash:"",transfers:void 0});n.SerializableEmpty=f;class _{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(l,h){const y=this.#t.get(l);return y===void 0?h:Object.assign(h,y)}getRawValue(l){return this.#t.get(l)}remove(l){if(this.#t.delete(l),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const h of this.#t.values())if(h instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(l,h){const y=this.#t.get(l);let v=!1;if(y!==void 0)for(const[p,A]of Object.entries(h))y[p]!==A&&(v=!0,y[p]=A);else v=!0,this.#t.set(l,h);v&&this.#n(),h instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(h.constructor._type)}has(l){return this.#t.has(l)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(l){for(const[h,y]of Object.entries(l))this.setValue(h,y)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new x(this)}get serializable(){if(this.#t.size===0)return f;const l=new Map,h=new m.MurmurHash3_64,y=[],v=Object.create(null);let p=!1;for(const[A,P]of this.#t){const E=P instanceof c.AnnotationEditor?P.serialize(!1,v):P;E&&(l.set(A,E),h.update(`${A}:${JSON.stringify(E)}`),p||=!!E.bitmap)}if(p)for(const A of l.values())A.bitmap&&y.push(A.bitmap);return l.size>0?{map:l,hash:h.hexdigest(),transfers:y}:f}}n.AnnotationStorage=_;class x extends _{#e;constructor(l){super();const{map:h,hash:y,transfers:v}=l.serializable,p=structuredClone(h,v?{transfer:v}:null);this.#e={map:p,hash:y,transfers:v}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}n.PrintAnnotationStorage=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var o=s(5),c=s(1),m=s(6);class f{#e="";#t=!1;#n=null;#r=null;#a=null;#o=!1;#s=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=f._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(d){this.constructor===f&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null,this._uiManager=d.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=d.isCentered,this._structTreeParentId=null;const{rotation:l,rawDims:{pageWidth:h,pageHeight:y,pageX:v,pageY:p}}=this.parent.viewport;this.rotation=l,this.pageRotation=(360+l-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[h,y],this.pageTranslation=[v,p];const[A,P]=this.parentDimensions;this.x=d.x/A,this.y=d.y/P,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(d){const l=new _({id:d.parent.getNextId(),parent:d.parent,uiManager:d._uiManager});l.annotationElementId=d.annotationElementId,l.deleted=!0,l._uiManager.addToAnnotationStorage(l)}static initialize(d,l=null){if(f._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(y=>[y,d.get(y)])),l?.strings)for(const y of l.strings)f._l10nPromise.set(y,d.get(y));if(f._borderLineWidth!==-1)return;const h=getComputedStyle(document.documentElement);f._borderLineWidth=parseFloat(h.getPropertyValue("--outline-width"))||0}static updateDefaultParams(d,l){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(d){return!1}static paste(d,l){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(d){this.#h=d,this.div?.classList.toggle("draggable",d)}center(){const[d,l]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*l/(d*2),this.y+=this.width*d/(l*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*l/(d*2),this.y-=this.width*d/(l*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(d){this._uiManager.addCommands(d)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(d){d!==null&&(this.pageIndex=d.pageIndex,this.pageDimensions=d.pageDimensions),this.parent=d}focusin(d){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(d){!this._focusEventsAllowed||!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(d,l,h,y){const[v,p]=this.parentDimensions;[h,y]=this.screenToPageTranslation(h,y),this.x=(d+h)/v,this.y=(l+y)/p,this.fixAndSetPosition()}#y([d,l],h,y){[h,y]=this.screenToPageTranslation(h,y),this.x+=h/d,this.y+=y/l,this.fixAndSetPosition()}translate(d,l){this.#y(this.parentDimensions,d,l)}translateInPage(d,l){this.#y(this.pageDimensions,d,l),this.div.scrollIntoView({block:"nearest"})}drag(d,l){const[h,y]=this.parentDimensions;if(this.x+=d/h,this.y+=l/y,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:E,y:M}=this.div.getBoundingClientRect();this.parent.findNewParent(this,E,M)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:v,y:p}=this;const[A,P]=this.#g();v+=A,p+=P,this.div.style.left=`${(100*v).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[d,l]=this.parentDimensions,{_borderLineWidth:h}=f,y=h/d,v=h/l;switch(this.rotation){case 90:return[-y,v];case 180:return[y,v];case 270:return[y,-v];default:return[-y,-v]}}fixAndSetPosition(){const[d,l]=this.pageDimensions;let{x:h,y,width:v,height:p}=this;switch(v*=d,p*=l,h*=d,y*=l,this.rotation){case 0:h=Math.max(0,Math.min(d-v,h)),y=Math.max(0,Math.min(l-p,y));break;case 90:h=Math.max(0,Math.min(d-p,h)),y=Math.min(l,Math.max(v,y));break;case 180:h=Math.min(d,Math.max(v,h)),y=Math.min(l,Math.max(p,y));break;case 270:h=Math.min(d,Math.max(p,h)),y=Math.max(0,Math.min(l-v,y));break}this.x=h/=d,this.y=y/=l;const[A,P]=this.#g();h+=A,y+=P;const{style:E}=this.div;E.left=`${(100*h).toFixed(2)}%`,E.top=`${(100*y).toFixed(2)}%`,this.moveInDOM()}static#m(d,l,h){switch(h){case 90:return[l,-d];case 180:return[-d,-l];case 270:return[-l,d];default:return[d,l]}}screenToPageTranslation(d,l){return f.#m(d,l,this.parentRotation)}pageTranslationToScreen(d,l){return f.#m(d,l,360-this.parentRotation)}#u(d){switch(d){case 90:{const[l,h]=this.pageDimensions;return[0,-l/h,h/l,0]}case 180:return[-1,0,0,-1];case 270:{const[l,h]=this.pageDimensions;return[0,l/h,-h/l,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:d,pageDimensions:[l,h]}=this,y=l*d,v=h*d;return c.FeatureTest.isCSSRoundSupported?[Math.round(y),Math.round(v)]:[y,v]}setDims(d,l){const[h,y]=this.parentDimensions;this.div.style.width=`${(100*d/h).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*l/y).toFixed(2)}%`),this.#n?.classList.toggle("small",d<f.SMALL_EDITOR_SIZE||l<f.SMALL_EDITOR_SIZE)}fixDims(){const{style:d}=this.div,{height:l,width:h}=d,y=h.endsWith("%"),v=!this.#o&&l.endsWith("%");if(y&&v)return;const[p,A]=this.parentDimensions;y||(d.width=`${(100*parseFloat(h)/p).toFixed(2)}%`),!this.#o&&!v&&(d.height=`${(100*parseFloat(l)/A).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const d=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||d.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const l of d){const h=document.createElement("div");this.#s.append(h),h.classList.add("resizer",l),h.addEventListener("pointerdown",this.#A.bind(this,l)),h.addEventListener("contextmenu",m.noContextMenu)}this.div.prepend(this.#s)}#A(d,l){l.preventDefault();const{isMac:h}=c.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&h)return;const y=this.#S.bind(this,d),v=this._isDraggable;this._isDraggable=!1;const p={passive:!0,capture:!0};window.addEventListener("pointermove",y,p);const A=this.x,P=this.y,E=this.width,M=this.height,V=this.parent.div.style.cursor,I=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(l.target).cursor;const R=()=>{this._isDraggable=v,window.removeEventListener("pointerup",R),window.removeEventListener("blur",R),window.removeEventListener("pointermove",y,p),this.parent.div.style.cursor=V,this.div.style.cursor=I;const F=this.x,H=this.y,K=this.width,q=this.height;F===A&&H===P&&K===E&&q===M||this.addCommands({cmd:()=>{this.width=K,this.height=q,this.x=F,this.y=H;const[ee,J]=this.parentDimensions;this.setDims(ee*K,J*q),this.fixAndSetPosition()},undo:()=>{this.width=E,this.height=M,this.x=A,this.y=P;const[ee,J]=this.parentDimensions;this.setDims(ee*E,J*M),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",R),window.addEventListener("blur",R)}#S(d,l){const[h,y]=this.parentDimensions,v=this.x,p=this.y,A=this.width,P=this.height,E=f.MIN_SIZE/h,M=f.MIN_SIZE/y,V=U=>Math.round(U*1e4)/1e4,I=this.#u(this.rotation),R=(U,b)=>[I[0]*U+I[2]*b,I[1]*U+I[3]*b],F=this.#u(360-this.rotation),H=(U,b)=>[F[0]*U+F[2]*b,F[1]*U+F[3]*b];let K,q,ee=!1,J=!1;switch(d){case"topLeft":ee=!0,K=(U,b)=>[0,0],q=(U,b)=>[U,b];break;case"topMiddle":K=(U,b)=>[U/2,0],q=(U,b)=>[U/2,b];break;case"topRight":ee=!0,K=(U,b)=>[U,0],q=(U,b)=>[0,b];break;case"middleRight":J=!0,K=(U,b)=>[U,b/2],q=(U,b)=>[0,b/2];break;case"bottomRight":ee=!0,K=(U,b)=>[U,b],q=(U,b)=>[0,0];break;case"bottomMiddle":K=(U,b)=>[U/2,b],q=(U,b)=>[U/2,0];break;case"bottomLeft":ee=!0,K=(U,b)=>[0,b],q=(U,b)=>[U,0];break;case"middleLeft":J=!0,K=(U,b)=>[0,b/2],q=(U,b)=>[U,b/2];break}const me=K(A,P),he=q(A,P);let fe=R(...he);const ve=V(v+fe[0]),ae=V(p+fe[1]);let W=1,k=1,[C,T]=this.screenToPageTranslation(l.movementX,l.movementY);if([C,T]=H(C/h,T/y),ee){const U=Math.hypot(A,P);W=k=Math.max(Math.min(Math.hypot(he[0]-me[0]-C,he[1]-me[1]-T)/U,1/A,1/P),E/A,M/P)}else J?W=Math.max(E,Math.min(1,Math.abs(he[0]-me[0]-C)))/A:k=Math.max(M,Math.min(1,Math.abs(he[1]-me[1]-T)))/P;const w=V(A*W),j=V(P*k);fe=R(...q(w,j));const z=ve-fe[0],G=ae-fe[1];this.width=w,this.height=j,this.x=z,this.y=G,this.setDims(h*w,y*j),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const d=this.#n=document.createElement("button");d.className="altText";const l=await f._l10nPromise.get("editor_alt_text_button_label");d.textContent=l,d.setAttribute("aria-label",l),d.tabIndex="0",d.addEventListener("contextmenu",m.noContextMenu),d.addEventListener("pointerdown",h=>h.stopPropagation()),d.addEventListener("click",h=>{h.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),d.addEventListener("keydown",h=>{h.target===d&&h.key==="Enter"&&(h.preventDefault(),this._uiManager.editAltText(this))}),this.#T(),this.div.append(d),f.SMALL_EDITOR_SIZE||(f.SMALL_EDITOR_SIZE=Math.min(128,Math.round(d.getBoundingClientRect().width*1.4)))}async#T(){const d=this.#n;if(!d)return;if(!this.#e&&!this.#t){d.classList.remove("done"),this.#r?.remove();return}f._l10nPromise.get("editor_alt_text_edit_button_label").then(h=>{d.setAttribute("aria-label",h)});let l=this.#r;if(!l){this.#r=l=document.createElement("span"),l.className="tooltip",l.setAttribute("role","tooltip");const h=l.id=`alt-text-tooltip-${this.id}`;d.setAttribute("aria-describedby",h);const y=100;d.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},y)}),d.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#r?.classList.remove("show")})}d.classList.add("done"),l.innerText=this.#t?await f._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,l.parentNode||d.append(l)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:d,decorative:l}){this.#e===d&&this.#t===l||(this.#e=d,this.#t=l,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[d,l]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*l/d).toFixed(2)}%`,this.div.style.maxHeight=`${(100*d/l).toFixed(2)}%`);const[h,y]=this.getInitialTranslation();return this.translate(h,y),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(d){const{isMac:l}=c.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&l){d.preventDefault();return}this.#i=!0,this.#C(d)}#C(d){if(!this._isDraggable)return;const l=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let h,y;l&&(h={passive:!0,capture:!0},y=p=>{const[A,P]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(A,P)},window.addEventListener("pointermove",y,h));const v=()=>{if(window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),l&&window.removeEventListener("pointermove",y,h),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:p}=c.FeatureTest.platform;d.ctrlKey&&!p||d.shiftKey||d.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",v),window.addEventListener("blur",v)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(d,l,h){d.changeParent(this),this.x=l,this.y=h,this.fixAndSetPosition()}getRect(d,l){const h=this.parentScale,[y,v]=this.pageDimensions,[p,A]=this.pageTranslation,P=d/h,E=l/h,M=this.x*y,V=this.y*v,I=this.width*y,R=this.height*v;switch(this.rotation){case 0:return[M+P+p,v-V-E-R+A,M+P+I+p,v-V-E+A];case 90:return[M+E+p,v-V+P+A,M+E+R+p,v-V+P+I+A];case 180:return[M-P-I+p,v-V+E+A,M-P+p,v-V+E+R+A];case 270:return[M-E-R+p,v-V-P-I+A,M-E+p,v-V-P+A];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,l){const[h,y,v,p]=d,A=v-h,P=p-y;switch(this.rotation){case 0:return[h,l-p,A,P];case 90:return[h,l-y,P,A];case 180:return[v,l-y,A,P];case 270:return[v,l-p,P,A];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(d=!1,l=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(d,l,h){const y=new this.prototype.constructor({parent:l,id:l.getNextId(),uiManager:h});y.rotation=d.rotation;const[v,p]=y.pageDimensions,[A,P,E,M]=y.getRectInCurrentCoords(d.rect,p);return y.x=A/v,y.y=P/p,y.width=E/v,y.height=M/p,y}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(d,l){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(d){this.#f=d,this.parent&&(d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(d,l){this.#o=!0;const h=d/l,{style:y}=this.div;y.aspectRatio=h,y.height="auto"}static get MIN_SIZE(){return 16}}n.AnnotationEditor=f;class _ extends f{constructor(d){super(d),this.annotationElementId=d.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=m,n.opacityToHex=f;var o=s(1),c=s(6);function m(v,p,A){for(const P of A)p.addEventListener(P,v[P].bind(v))}function f(v){return Math.round(Math.min(255,Math.max(1,255*v))).toString(16).padStart(2,"0")}class _{#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class x{#e=(0,o.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const p='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',P=new OffscreenCanvas(1,3).getContext("2d"),E=new Image;E.src=p;const M=E.decode().then(()=>(P.drawImage(E,0,0,1,1,0,0,1,3),new Uint32Array(P.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",M)}async#r(p,A){this.#n||=new Map;let P=this.#n.get(p);if(P===null)return null;if(P?.bitmap)return P.refCounter+=1,P;try{P||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let E;if(typeof A=="string"){P.url=A;const M=await fetch(A);if(!M.ok)throw new Error(M.statusText);E=await M.blob()}else E=P.file=A;if(E.type==="image/svg+xml"){const M=x._isSVGFittingCanvas,V=new FileReader,I=new Image,R=new Promise((F,H)=>{I.onload=()=>{P.bitmap=I,P.isSvg=!0,F()},V.onload=async()=>{const K=P.svgUrl=V.result;I.src=await M?`${K}#svgView(preserveAspectRatio(none))`:K},I.onerror=V.onerror=H});V.readAsDataURL(E),await R}else P.bitmap=await createImageBitmap(E);P.refCounter=1}catch(E){console.error(E),P=null}return this.#n.set(p,P),P&&this.#n.set(P.id,P),P}async getFromFile(p){const{lastModified:A,name:P,size:E,type:M}=p;return this.#r(`${A}_${P}_${E}_${M}`,p)}async getFromUrl(p){return this.#r(p,p)}async getFromId(p){this.#n||=new Map;const A=this.#n.get(p);return A?A.bitmap?(A.refCounter+=1,A):A.file?this.getFromFile(A.file):this.getFromUrl(A.url):null}getSvgUrl(p){const A=this.#n.get(p);return A?.isSvg?A.svgUrl:null}deleteId(p){this.#n||=new Map;const A=this.#n.get(p);A&&(A.refCounter-=1,A.refCounter===0&&(A.bitmap=null))}isValidId(p){return p.startsWith(`image_${this.#e}_`)}}class d{#e=[];#t=!1;#n;#r=-1;constructor(p=128){this.#n=p}add({cmd:p,undo:A,mustExec:P,type:E=NaN,overwriteIfSameType:M=!1,keepUndo:V=!1}){if(P&&p(),this.#t)return;const I={cmd:p,undo:A,type:E};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(I);return}if(M&&this.#e[this.#r].type===E){V&&(I.undo=this.#e[this.#r].undo),this.#e[this.#r]=I;return}const R=this.#r+1;R===this.#n?this.#e.splice(0,1):(this.#r=R,R<this.#e.length&&this.#e.splice(R)),this.#e.push(I)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}n.CommandManager=d;class l{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:A}=o.FeatureTest.platform;for(const[P,E,M={}]of p)for(const V of P){const I=V.startsWith("mac+");A&&I?(this.callbacks.set(V.slice(4),{callback:E,options:M}),this.allKeys.add(V.split("+").at(-1))):!A&&!I&&(this.callbacks.set(V,{callback:E,options:M}),this.allKeys.add(V.split("+").at(-1)))}}#e(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);const A=this.buffer.join("+");return this.buffer.length=0,A}exec(p,A){if(!this.allKeys.has(A.key))return;const P=this.callbacks.get(this.#e(A));if(!P)return;const{callback:E,options:{bubbles:M=!1,args:V=[],checker:I=null}}=P;I&&!I(p,A)||(E.bind(p,...V)(),M||(A.stopPropagation(),A.preventDefault()))}}n.KeyboardManager=l;class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const p=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(p),(0,o.shadow)(this,"_colors",p)}convert(p){const A=(0,c.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return A;for(const[P,E]of this._colors)if(E.every((M,V)=>M===A[V]))return h._colorsMapping.get(P);return A}getHexCode(p){const A=this._colors.get(p);return A?o.Util.makeHexColor(...A):p}}n.ColorManager=h;class y{#e=null;#t=new Map;#n=new Map;#r=null;#a=null;#o=new d;#s=0;#l=new Set;#c=null;#i=null;#f=new Set;#d=null;#h=new _;#p=!1;#y=!1;#g=null;#m=o.AnnotationEditorType.NONE;#u=new Set;#v=null;#A=this.blur.bind(this);#S=this.focus.bind(this);#T=this.copy.bind(this);#C=this.cut.bind(this);#L=this.paste.bind(this);#I=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#x=this.onPageChanging.bind(this);#F=this.onScaleChanging.bind(this);#R=this.onRotationChanging.bind(this);#k={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#E=[0,0];#P=null;#b=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const p=y.prototype,A=M=>{const{activeElement:V}=document;return V&&M.#b.contains(V)&&M.hasSomethingToControl()},P=this.TRANSLATE_SMALL,E=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new l([[["ctrl+a","mac+meta+a"],p.selectAll],[["ctrl+z","mac+meta+z"],p.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],p.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],p.delete],[["Escape","mac+Escape"],p.unselectAll],[["ArrowLeft","mac+ArrowLeft"],p.translateSelectedEditors,{args:[-P,0],checker:A}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],p.translateSelectedEditors,{args:[-E,0],checker:A}],[["ArrowRight","mac+ArrowRight"],p.translateSelectedEditors,{args:[P,0],checker:A}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],p.translateSelectedEditors,{args:[E,0],checker:A}],[["ArrowUp","mac+ArrowUp"],p.translateSelectedEditors,{args:[0,-P],checker:A}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],p.translateSelectedEditors,{args:[0,-E],checker:A}],[["ArrowDown","mac+ArrowDown"],p.translateSelectedEditors,{args:[0,P],checker:A}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],p.translateSelectedEditors,{args:[0,E],checker:A}]]))}constructor(p,A,P,E,M,V){this.#b=p,this.#N=A,this.#r=P,this._eventBus=E,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#x),this._eventBus._on("scalechanging",this.#F),this._eventBus._on("rotationchanging",this.#R),this.#a=M.annotationStorage,this.#d=M.filterFactory,this.#v=V,this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#V(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#x),this._eventBus._off("scalechanging",this.#F),this._eventBus._off("rotationchanging",this.#R);for(const p of this.#n.values())p.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#o.destroy(),this.#r.destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#v?this.#d.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#b).direction)}editAltText(p){this.#r?.editAltText(this,p)}onPageChanging({pageNumber:p}){this.#s=p-1}focusMainContainer(){this.#b.focus()}findParent(p,A){for(const P of this.#n.values()){const{x:E,y:M,width:V,height:I}=P.div.getBoundingClientRect();if(p>=E&&p<=E+V&&A>=M&&A<=M+I)return P}return null}disableUserSelect(p=!1){this.#N.classList.toggle("noUserSelect",p)}addShouldRescale(p){this.#f.add(p)}removeShouldRescale(p){this.#f.delete(p)}onScaleChanging({scale:p}){this.commitOrRemove(),this.viewParameters.realScale=p*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const A of this.#f)A.onScaleChanging()}onRotationChanging({pagesRotation:p}){this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(p){!p.isEmpty()&&this.#a&&!this.#a.has(p.id)&&this.#a.setValue(p.id,p)}#j(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#A)}#V(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;const{activeElement:p}=document;for(const A of this.#u)if(A.div.contains(p)){this.#g=[A,p],A._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[p,A]=this.#g;this.#g=null,A.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),A.focus()}#B(){window.addEventListener("keydown",this.#I,{capture:!0})}#M(){window.removeEventListener("keydown",this.#I,{capture:!0})}#D(){document.addEventListener("copy",this.#T),document.addEventListener("cut",this.#C),document.addEventListener("paste",this.#L)}#w(){document.removeEventListener("copy",this.#T),document.removeEventListener("cut",this.#C),document.removeEventListener("paste",this.#L)}addEditListeners(){this.#B(),this.#D()}removeEditListeners(){this.#M(),this.#w()}copy(p){if(p.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const A=[];for(const P of this.#u){const E=P.serialize(!0);E&&A.push(E)}A.length!==0&&p.clipboardData.setData("application/pdfjs",JSON.stringify(A))}cut(p){this.copy(p),this.delete()}paste(p){p.preventDefault();const{clipboardData:A}=p;for(const M of A.items)for(const V of this.#i)if(V.isHandlingMimeForPasting(M.type)){V.paste(M,this.currentLayer);return}let P=A.getData("application/pdfjs");if(!P)return;try{P=JSON.parse(P)}catch(M){(0,o.warn)(`paste: "${M.message}".`);return}if(!Array.isArray(P))return;this.unselectAll();const E=this.currentLayer;try{const M=[];for(const R of P){const F=E.deserialize(R);if(!F)return;M.push(F)}const V=()=>{for(const R of M)this.#W(R);this.#H(M)},I=()=>{for(const R of M)R.remove()};this.addCommands({cmd:V,undo:I,mustExec:!0})}catch(M){(0,o.warn)(`paste: "${M.message}".`)}}keydown(p){this.getActive()?.shouldGetKeyboardEvents()||y._keyboardManager.exec(this,p)}onEditingAction(p){["undo","redo","delete","selectAll"].includes(p.name)&&this[p.name]()}#_(p){Object.entries(p).some(([P,E])=>this.#k[P]!==E)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#k,p)})}#U(p){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:p})}setEditingState(p){p?(this.#j(),this.#B(),this.#D(),this.#_({isEditing:this.#m!==o.AnnotationEditorType.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#V(),this.#M(),this.#w(),this.#_({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(p){if(!this.#i){this.#i=p;for(const A of this.#i)this.#U(A.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(p){return this.#n.get(p)}get currentPageIndex(){return this.#s}addLayer(p){this.#n.set(p.pageIndex,p),this.#p?p.enable():p.disable()}removeLayer(p){this.#n.delete(p.pageIndex)}updateMode(p,A=null){if(this.#m!==p){if(this.#m=p,p===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#q();return}this.setEditingState(!0),this.#G(),this.unselectAll();for(const P of this.#n.values())P.updateMode(p);if(A){for(const P of this.#t.values())if(P.annotationElementId===A){this.setSelected(P),P.enterInEditMode();break}}}}updateToolbar(p){p!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:p})}updateParams(p,A){if(this.#i){if(p===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(p);return}for(const P of this.#u)P.updateParams(p,A);for(const P of this.#i)P.updateDefaultParams(p,A)}}enableWaiting(p=!1){if(this.#y!==p){this.#y=p;for(const A of this.#n.values())p?A.disableClick():A.enableClick(),A.div.classList.toggle("waiting",p)}}#G(){if(!this.#p){this.#p=!0;for(const p of this.#n.values())p.enable()}}#q(){if(this.unselectAll(),this.#p){this.#p=!1;for(const p of this.#n.values())p.disable()}}getEditors(p){const A=[];for(const P of this.#t.values())P.pageIndex===p&&A.push(P);return A}getEditor(p){return this.#t.get(p)}addEditor(p){this.#t.set(p.id,p)}removeEditor(p){this.#t.delete(p.id),this.unselect(p),(!p.annotationElementId||!this.#l.has(p.annotationElementId))&&this.#a?.remove(p.id)}addDeletedAnnotationElement(p){this.#l.add(p.annotationElementId),p.deleted=!0}isDeletedAnnotationElement(p){return this.#l.has(p)}removeDeletedAnnotationElement(p){this.#l.delete(p.annotationElementId),p.deleted=!1}#W(p){const A=this.#n.get(p.pageIndex);A?A.addOrRebuild(p):this.addEditor(p)}setActiveEditor(p){this.#e!==p&&(this.#e=p,p&&this.#U(p.propertiesToUpdate))}toggleSelected(p){if(this.#u.has(p)){this.#u.delete(p),p.unselect(),this.#_({hasSelectedEditor:this.hasSelection});return}this.#u.add(p),p.select(),this.#U(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}setSelected(p){for(const A of this.#u)A!==p&&A.unselect();this.#u.clear(),this.#u.add(p),p.select(),this.#U(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}isSelected(p){return this.#u.has(p)}unselect(p){p.unselect(),this.#u.delete(p),this.#_({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#o.undo(),this.#_({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#o.redo(),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(p){this.#o.add(p),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const p of this.#t.values())return p.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const p=[...this.#u],A=()=>{for(const E of p)E.remove()},P=()=>{for(const E of p)this.#W(E)};this.addCommands({cmd:A,undo:P,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#H(p){this.#u.clear();for(const A of p)A.isEmpty()||(this.#u.add(A),A.select());this.#_({hasSelectedEditor:!0})}selectAll(){for(const p of this.#u)p.commit();this.#H(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const p of this.#u)p.unselect();this.#u.clear(),this.#_({hasSelectedEditor:!1})}}translateSelectedEditors(p,A,P=!1){if(P||this.commitOrRemove(),!this.hasSelection)return;this.#E[0]+=p,this.#E[1]+=A;const[E,M]=this.#E,V=[...this.#u],I=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#E[0]=this.#E[1]=0,this.addCommands({cmd:()=>{for(const R of V)this.#t.has(R.id)&&R.translateInPage(E,M)},undo:()=>{for(const R of V)this.#t.has(R.id)&&R.translateInPage(-E,-M)},mustExec:!1})},I);for(const R of V)R.translateInPage(p,A)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const p of this.#u)this.#c.set(p,{savedX:p.x,savedY:p.y,savedPageIndex:p.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const p=this.#c;this.#c=null;let A=!1;for(const[{x:E,y:M,pageIndex:V},I]of p)I.newX=E,I.newY=M,I.newPageIndex=V,A||=E!==I.savedX||M!==I.savedY||V!==I.savedPageIndex;if(!A)return!1;const P=(E,M,V,I)=>{if(this.#t.has(E.id)){const R=this.#n.get(I);R?E._setParentAndPosition(R,M,V):(E.pageIndex=I,E.x=M,E.y=V)}};return this.addCommands({cmd:()=>{for(const[E,{newX:M,newY:V,newPageIndex:I}]of p)P(E,M,V,I)},undo:()=>{for(const[E,{savedX:M,savedY:V,savedPageIndex:I}]of p)P(E,M,V,I)},mustExec:!0}),!0}dragSelectedEditors(p,A){if(this.#c)for(const P of this.#c.keys())P.drag(p,A)}rebuild(p){if(p.parent===null){const A=this.getLayer(p.pageIndex);A?(A.changeParent(p),A.addOrRebuild(p)):(this.addEditor(p),this.addToAnnotationStorage(p),p.rebuild())}else p.parent.addOrRebuild(p)}isActive(p){return this.#e===p}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,o.shadow)(this,"imageManager",new x)}}n.AnnotationEditorUIManager=y}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMFilterFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.deprecated=H,n.getColorValues=me,n.getCurrentTransform=he,n.getCurrentTransformInverse=fe,n.getFilenameFromUrl=E,n.getPdfFilenameFromUrl=M,n.getRGB=J,n.getXfaPageViewport=ee,n.isDataScheme=A,n.isPdfFile=P,n.isValidFetchUrl=I,n.loadScript=F,n.noContextMenu=R,n.setLayerDimensions=ve;var o=s(7),c=s(1);const m="http://www.w3.org/2000/svg";class f{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}n.PixelsPerInch=f;class _ extends o.BaseFilterFactory{#e;#t;#n;#r;#a;#o;#s;#l;#c;#i;#f=0;constructor({docId:W,ownerDocument:k=globalThis.document}={}){super(),this.#n=W,this.#r=k}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const W=this.#r.createElement("div"),{style:k}=W;k.visibility="hidden",k.contain="strict",k.width=k.height=0,k.position="absolute",k.top=k.left=0,k.zIndex=-1;const C=this.#r.createElementNS(m,"svg");C.setAttribute("width",0),C.setAttribute("height",0),this.#t=this.#r.createElementNS(m,"defs"),W.append(C),C.append(this.#t),this.#r.body.append(W)}return this.#t}addFilter(W){if(!W)return"none";let k=this.#d.get(W);if(k)return k;let C,T,w,j;if(W.length===1){const b=W[0],D=new Array(256);for(let O=0;O<256;O++)D[O]=b[O]/255;j=C=T=w=D.join(",")}else{const[b,D,O]=W,L=new Array(256),B=new Array(256),$=new Array(256);for(let Q=0;Q<256;Q++)L[Q]=b[Q]/255,B[Q]=D[Q]/255,$[Q]=O[Q]/255;C=L.join(","),T=B.join(","),w=$.join(","),j=`${C}${T}${w}`}if(k=this.#d.get(j),k)return this.#d.set(W,k),k;const z=`g_${this.#n}_transfer_map_${this.#f++}`,G=`url(#${z})`;this.#d.set(W,G),this.#d.set(j,G);const U=this.#y(z);return this.#m(C,T,w,U),G}addHCMFilter(W,k){const C=`${W}-${k}`;if(this.#o===C)return this.#s;if(this.#o=C,this.#s="none",this.#a?.remove(),!W||!k)return this.#s;const T=this.#u(W);W=c.Util.makeHexColor(...T);const w=this.#u(k);if(k=c.Util.makeHexColor(...w),this.#h.style.color="",W==="#000000"&&k==="#ffffff"||W===k)return this.#s;const j=new Array(256);for(let D=0;D<=255;D++){const O=D/255;j[D]=O<=.03928?O/12.92:((O+.055)/1.055)**2.4}const z=j.join(","),G=`g_${this.#n}_hcm_filter`,U=this.#l=this.#y(G);this.#m(z,z,z,U),this.#p(U);const b=(D,O)=>{const L=T[D]/255,B=w[D]/255,$=new Array(O+1);for(let Q=0;Q<=O;Q++)$[Q]=L+Q/O*(B-L);return $.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),U),this.#s=`url(#${G})`,this.#s}addHighlightHCMFilter(W,k,C,T){const w=`${W}-${k}-${C}-${T}`;if(this.#c===w)return this.#i;if(this.#c=w,this.#i="none",this.#l?.remove(),!W||!k)return this.#i;const[j,z]=[W,k].map(this.#u.bind(this));let G=Math.round(.2126*j[0]+.7152*j[1]+.0722*j[2]),U=Math.round(.2126*z[0]+.7152*z[1]+.0722*z[2]),[b,D]=[C,T].map(this.#u.bind(this));U<G&&([G,U,b,D]=[U,G,D,b]),this.#h.style.color="";const O=($,Q,se)=>{const ye=new Array(256),ne=(U-G)/se,re=$/255,ue=(Q-$)/(255*se);let pe=0;for(let ge=0;ge<=se;ge++){const be=Math.round(G+ge*ne),Pe=re+ge*ue;for(let De=pe;De<=be;De++)ye[De]=Pe;pe=be+1}for(let ge=pe;ge<256;ge++)ye[ge]=ye[pe-1];return ye.join(",")},L=`g_${this.#n}_hcm_highlight_filter`,B=this.#l=this.#y(L);return this.#p(B),this.#m(O(b[0],D[0],5),O(b[1],D[1],5),O(b[2],D[2],5),B),this.#i=`url(#${L})`,this.#i}destroy(W=!1){W&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(W){const k=this.#r.createElementNS(m,"feColorMatrix");k.setAttribute("type","matrix"),k.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),W.append(k)}#y(W){const k=this.#r.createElementNS(m,"filter");return k.setAttribute("color-interpolation-filters","sRGB"),k.setAttribute("id",W),this.#h.append(k),k}#g(W,k,C){const T=this.#r.createElementNS(m,k);T.setAttribute("type","discrete"),T.setAttribute("tableValues",C),W.append(T)}#m(W,k,C,T){const w=this.#r.createElementNS(m,"feComponentTransfer");T.append(w),this.#g(w,"feFuncR",W),this.#g(w,"feFuncG",k),this.#g(w,"feFuncB",C)}#u(W){return this.#h.style.color=W,J(getComputedStyle(this.#h).getPropertyValue("color"))}}n.DOMFilterFactory=_;class x extends o.BaseCanvasFactory{constructor({ownerDocument:W=globalThis.document}={}){super(),this._document=W}_createCanvas(W,k){const C=this._document.createElement("canvas");return C.width=W,C.height=k,C}}n.DOMCanvasFactory=x;async function d(ae,W=!1){if(I(ae,document.baseURI)){const k=await fetch(ae);if(!k.ok)throw new Error(k.statusText);return W?new Uint8Array(await k.arrayBuffer()):(0,c.stringToBytes)(await k.text())}return new Promise((k,C)=>{const T=new XMLHttpRequest;T.open("GET",ae,!0),W&&(T.responseType="arraybuffer"),T.onreadystatechange=()=>{if(T.readyState===XMLHttpRequest.DONE){if(T.status===200||T.status===0){let w;if(W&&T.response?w=new Uint8Array(T.response):!W&&T.responseText&&(w=(0,c.stringToBytes)(T.responseText)),w){k(w);return}}C(new Error(T.statusText))}},T.send(null)})}class l extends o.BaseCMapReaderFactory{_fetchData(W,k){return d(W,this.isCompressed).then(C=>({cMapData:C,compressionType:k}))}}n.DOMCMapReaderFactory=l;class h extends o.BaseStandardFontDataFactory{_fetchData(W){return d(W,!0)}}n.DOMStandardFontDataFactory=h;class y extends o.BaseSVGFactory{_createSVG(W){return document.createElementNS(m,W)}}n.DOMSVGFactory=y;class v{constructor({viewBox:W,scale:k,rotation:C,offsetX:T=0,offsetY:w=0,dontFlip:j=!1}){this.viewBox=W,this.scale=k,this.rotation=C,this.offsetX=T,this.offsetY=w;const z=(W[2]+W[0])/2,G=(W[3]+W[1])/2;let U,b,D,O;switch(C%=360,C<0&&(C+=360),C){case 180:U=-1,b=0,D=0,O=1;break;case 90:U=0,b=1,D=1,O=0;break;case 270:U=0,b=-1,D=-1,O=0;break;case 0:U=1,b=0,D=0,O=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}j&&(D=-D,O=-O);let L,B,$,Q;U===0?(L=Math.abs(G-W[1])*k+T,B=Math.abs(z-W[0])*k+w,$=(W[3]-W[1])*k,Q=(W[2]-W[0])*k):(L=Math.abs(z-W[0])*k+T,B=Math.abs(G-W[1])*k+w,$=(W[2]-W[0])*k,Q=(W[3]-W[1])*k),this.transform=[U*k,b*k,D*k,O*k,L-U*k*z-D*k*G,B-b*k*z-O*k*G],this.width=$,this.height=Q}get rawDims(){const{viewBox:W}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:W[2]-W[0],pageHeight:W[3]-W[1],pageX:W[0],pageY:W[1]})}clone({scale:W=this.scale,rotation:k=this.rotation,offsetX:C=this.offsetX,offsetY:T=this.offsetY,dontFlip:w=!1}={}){return new v({viewBox:this.viewBox.slice(),scale:W,rotation:k,offsetX:C,offsetY:T,dontFlip:w})}convertToViewportPoint(W,k){return c.Util.applyTransform([W,k],this.transform)}convertToViewportRectangle(W){const k=c.Util.applyTransform([W[0],W[1]],this.transform),C=c.Util.applyTransform([W[2],W[3]],this.transform);return[k[0],k[1],C[0],C[1]]}convertToPdfPoint(W,k){return c.Util.applyInverseTransform([W,k],this.transform)}}n.PageViewport=v;class p extends c.BaseException{constructor(W,k=0){super(W,"RenderingCancelledException"),this.extraDelay=k}}n.RenderingCancelledException=p;function A(ae){const W=ae.length;let k=0;for(;k<W&&ae[k].trim()==="";)k++;return ae.substring(k,k+5).toLowerCase()==="data:"}function P(ae){return typeof ae=="string"&&/\.pdf$/i.test(ae)}function E(ae,W=!1){return W||([ae]=ae.split(/[#?]/,1)),ae.substring(ae.lastIndexOf("/")+1)}function M(ae,W="document.pdf"){if(typeof ae!="string")return W;if(A(ae))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),W;const k=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,C=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,T=k.exec(ae);let w=C.exec(T[1])||C.exec(T[2])||C.exec(T[3]);if(w&&(w=w[0],w.includes("%")))try{w=C.exec(decodeURIComponent(w))[0]}catch{}return w||W}class V{started=Object.create(null);times=[];time(W){W in this.started&&(0,c.warn)(`Timer is already running for ${W}`),this.started[W]=Date.now()}timeEnd(W){W in this.started||(0,c.warn)(`Timer has not been started for ${W}`),this.times.push({name:W,start:this.started[W],end:Date.now()}),delete this.started[W]}toString(){const W=[];let k=0;for(const{name:C}of this.times)k=Math.max(C.length,k);for(const{name:C,start:T,end:w}of this.times)W.push(`${C.padEnd(k)} ${w-T}ms
`);return W.join("")}}n.StatTimer=V;function I(ae,W){try{const{protocol:k}=W?new URL(ae,W):new URL(ae);return k==="http:"||k==="https:"}catch{return!1}}function R(ae){ae.preventDefault()}function F(ae,W=!1){return new Promise((k,C)=>{const T=document.createElement("script");T.src=ae,T.onload=function(w){W&&T.remove(),k(w)},T.onerror=function(){C(new Error(`Cannot load script at: ${T.src}`))},(document.head||document.documentElement).append(T)})}function H(ae){console.log("Deprecated API usage: "+ae)}let K;class q{static toDateObject(W){if(!W||typeof W!="string")return null;K||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const k=K.exec(W);if(!k)return null;const C=parseInt(k[1],10);let T=parseInt(k[2],10);T=T>=1&&T<=12?T-1:0;let w=parseInt(k[3],10);w=w>=1&&w<=31?w:1;let j=parseInt(k[4],10);j=j>=0&&j<=23?j:0;let z=parseInt(k[5],10);z=z>=0&&z<=59?z:0;let G=parseInt(k[6],10);G=G>=0&&G<=59?G:0;const U=k[7]||"Z";let b=parseInt(k[8],10);b=b>=0&&b<=23?b:0;let D=parseInt(k[9],10)||0;return D=D>=0&&D<=59?D:0,U==="-"?(j+=b,z+=D):U==="+"&&(j-=b,z-=D),new Date(Date.UTC(C,T,w,j,z,G))}}n.PDFDateString=q;function ee(ae,{scale:W=1,rotation:k=0}){const{width:C,height:T}=ae.attributes.style,w=[0,0,parseInt(C),parseInt(T)];return new v({viewBox:w,scale:W,rotation:k})}function J(ae){if(ae.startsWith("#")){const W=parseInt(ae.slice(1),16);return[(W&16711680)>>16,(W&65280)>>8,W&255]}return ae.startsWith("rgb(")?ae.slice(4,-1).split(",").map(W=>parseInt(W)):ae.startsWith("rgba(")?ae.slice(5,-1).split(",").map(W=>parseInt(W)).slice(0,3):((0,c.warn)(`Not a valid color format: "${ae}"`),[0,0,0])}function me(ae){const W=document.createElement("span");W.style.visibility="hidden",document.body.append(W);for(const k of ae.keys()){W.style.color=k;const C=window.getComputedStyle(W).color;ae.set(k,J(C))}W.remove()}function he(ae){const{a:W,b:k,c:C,d:T,e:w,f:j}=ae.getTransform();return[W,k,C,T,w,j]}function fe(ae){const{a:W,b:k,c:C,d:T,e:w,f:j}=ae.getTransform().invertSelf();return[W,k,C,T,w,j]}function ve(ae,W,k=!1,C=!0){if(W instanceof v){const{pageWidth:T,pageHeight:w}=W.rawDims,{style:j}=ae,z=c.FeatureTest.isCSSRoundSupported,G=`var(--scale-factor) * ${T}px`,U=`var(--scale-factor) * ${w}px`,b=z?`round(${G}, 1px)`:`calc(${G})`,D=z?`round(${U}, 1px)`:`calc(${U})`;!k||W.rotation%180===0?(j.width=b,j.height=D):(j.width=D,j.height=b)}C&&ae.setAttribute("data-main-rotation",W.rotation)}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseFilterFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var o=s(1);class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(l){return"none"}addHCMFilter(l,h){return"none"}addHighlightHCMFilter(l,h,y,v){return"none"}destroy(l=!1){}}n.BaseFilterFactory=c;class m{constructor(){this.constructor===m&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(l,h){if(l<=0||h<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(l,h);return{canvas:y,context:y.getContext("2d")}}reset(l,h,y){if(!l.canvas)throw new Error("Canvas is not specified");if(h<=0||y<=0)throw new Error("Invalid canvas size");l.canvas.width=h,l.canvas.height=y}destroy(l){if(!l.canvas)throw new Error("Canvas is not specified");l.canvas.width=0,l.canvas.height=0,l.canvas=null,l.context=null}_createCanvas(l,h){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=m;class f{constructor({baseUrl:l=null,isCompressed:h=!0}){this.constructor===f&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=h}async fetch({name:l}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const h=this.baseUrl+l+(this.isCompressed?".bcmap":""),y=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(h,y).catch(v=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${h}`)})}_fetchData(l,h){(0,o.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=f;class _{constructor({baseUrl:l=null}){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch({filename:l}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const h=`${this.baseUrl}${l}`;return this._fetchData(h).catch(y=>{throw new Error(`Unable to load font data at: ${h}`)})}_fetchData(l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=_;class x{constructor(){this.constructor===x&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(l,h,y=!1){if(l<=0||h<=0)throw new Error("Invalid SVG dimensions");const v=this._createSVG("svg:svg");return v.setAttribute("version","1.1"),y||(v.setAttribute("width",`${l}px`),v.setAttribute("height",`${h}px`)),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("viewBox",`0 0 ${l} ${h}`),v}createElement(l){if(typeof l!="string")throw new Error("Invalid SVG element type");return this._createSVG(l)}_createSVG(l){(0,o.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var o=s(1);const c=3285377520,m=4294901760,f=65535;class _{constructor(d){this.h1=d?d&4294967295:c,this.h2=d?d&4294967295:c}update(d){let l,h;if(typeof d=="string"){l=new Uint8Array(d.length*2),h=0;for(let H=0,K=d.length;H<K;H++){const q=d.charCodeAt(H);q<=255?l[h++]=q:(l[h++]=q>>>8,l[h++]=q&255)}}else if((0,o.isArrayBuffer)(d))l=d.slice(),h=l.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=h>>2,v=h-y*4,p=new Uint32Array(l.buffer,0,y);let A=0,P=0,E=this.h1,M=this.h2;const V=3432918353,I=461845907,R=V&f,F=I&f;for(let H=0;H<y;H++)H&1?(A=p[H],A=A*V&m|A*R&f,A=A<<15|A>>>17,A=A*I&m|A*F&f,E^=A,E=E<<13|E>>>19,E=E*5+3864292196):(P=p[H],P=P*V&m|P*R&f,P=P<<15|P>>>17,P=P*I&m|P*F&f,M^=P,M=M<<13|M>>>19,M=M*5+3864292196);switch(A=0,v){case 3:A^=l[y*4+2]<<16;case 2:A^=l[y*4+1]<<8;case 1:A^=l[y*4],A=A*V&m|A*R&f,A=A<<15|A>>>17,A=A*I&m|A*F&f,y&1?E^=A:M^=A}this.h1=E,this.h2=M}hexdigest(){let d=this.h1,l=this.h2;return d^=l>>>1,d=d*3981806797&m|d*36045&f,l=l*4283543511&m|((l<<16|d>>>16)*2950163797&m)>>>16,d^=l>>>1,d=d*444984403&m|d*60499&f,l=l*3301882366&m|((l<<16|d>>>16)*3120437893&m)>>>16,d^=l>>>1,(d>>>0).toString(16).padStart(8,"0")+(l>>>0).toString(16).padStart(8,"0")}}n.MurmurHash3_64=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var o=s(1);class c{#e=new Set;constructor({ownerDocument:_=globalThis.document,styleElement:x=null}){this._document=_,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_){this.nativeFontFaces.add(_),this._document.fonts.add(_)}removeNativeFontFace(_){this.nativeFontFaces.delete(_),this._document.fonts.delete(_)}insertRule(_){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const x=this.styleElement.sheet;x.insertRule(_,x.cssRules.length)}clear(){for(const _ of this.nativeFontFaces)this._document.fonts.delete(_);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_){if(!(!_||this.#e.has(_.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:x,src:d,style:l}=_,h=new FontFace(x,d,l);this.addNativeFontFace(h);try{await h.load(),this.#e.add(x)}catch{(0,o.warn)(`Cannot load system font: ${_.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_){if(_.attached||_.missingFile&&!_.systemFontInfo)return;if(_.attached=!0,_.systemFontInfo){await this.loadSystemFont(_.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=_.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(l){throw(0,o.warn)(`Failed to load font '${d.family}': '${l}'.`),_.disableFontFace=!0,l}}return}const x=_.createFontFaceRule();if(x){if(this.insertRule(x),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const l=this._queueLoadingCallback(d);this._prepareFontLoadEvent(_,l)})}}get isFontLoadingAPISupported(){const _=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",_)}get isSyncFontLoadingSupported(){let _=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",_)}_queueLoadingCallback(_){function x(){for((0,o.assert)(!l.done,"completeRequest() cannot be called twice."),l.done=!0;d.length>0&&d[0].done;){const h=d.shift();setTimeout(h.callback,0)}}const{loadingRequests:d}=this,l={done:!1,complete:x,callback:_};return d.push(l),l}get _loadTestFont(){const _=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",_)}_prepareFontLoadEvent(_,x){function d(ee,J){return ee.charCodeAt(J)<<24|ee.charCodeAt(J+1)<<16|ee.charCodeAt(J+2)<<8|ee.charCodeAt(J+3)&255}function l(ee,J,me,he){const fe=ee.substring(0,J),ve=ee.substring(J+me);return fe+he+ve}let h,y;const v=this._document.createElement("canvas");v.width=1,v.height=1;const p=v.getContext("2d");let A=0;function P(ee,J){if(++A>30){(0,o.warn)("Load test font never loaded."),J();return}if(p.font="30px "+ee,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){J();return}setTimeout(P.bind(null,ee,J))}const E=`lt${Date.now()}${this.loadTestFontId++}`;let M=this._loadTestFont;M=l(M,976,E.length,E);const I=16,R=1482184792;let F=d(M,I);for(h=0,y=E.length-3;h<y;h+=4)F=F-R+d(E,h)|0;h<E.length&&(F=F-R+d(E+"XXX",h)|0),M=l(M,I,4,(0,o.string32)(F));const H=`url(data:font/opentype;base64,${btoa(M)});`,K=`@font-face {font-family:"${E}";src:${H}}`;this.insertRule(K);const q=this._document.createElement("div");q.style.visibility="hidden",q.style.width=q.style.height="10px",q.style.position="absolute",q.style.top=q.style.left="0px";for(const ee of[_.loadedName,E]){const J=this._document.createElement("span");J.textContent="Hi",J.style.fontFamily=ee,q.append(J)}this._document.body.append(q),P(E,()=>{q.remove(),x.complete()})}}n.FontLoader=c;class m{constructor(_,{isEvalSupported:x=!0,disableFontFace:d=!1,ignoreErrors:l=!1,inspectFont:h=null}){this.compiledGlyphs=Object.create(null);for(const y in _)this[y]=_[y];this.isEvalSupported=x!==!1,this.disableFontFace=d===!0,this.ignoreErrors=l===!0,this._inspectFont=h}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let _;if(!this.cssFontInfo)_=new FontFace(this.loadedName,this.data,{});else{const x={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(x.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_=new FontFace(this.cssFontInfo.fontFamily,this.data,x)}return this._inspectFont?.(this),_}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const _=(0,o.bytesToString)(this.data),x=`url(data:${this.mimetype};base64,${btoa(_)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${x}}`;else{let l=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(l+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${l}src:${x}}`}return this._inspectFont?.(this,x),d}getPathGenerator(_,x){if(this.compiledGlyphs[x]!==void 0)return this.compiledGlyphs[x];let d;try{d=_.get(this.loadedName+"_path_"+x)}catch(l){if(!this.ignoreErrors)throw l;return(0,o.warn)(`getPathGenerator - ignoring character: "${l}".`),this.compiledGlyphs[x]=function(h,y){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const l=[];for(const h of d){const y=h.args!==void 0?h.args.join(","):"";l.push("c.",h.cmd,"(",y,`);
`)}return this.compiledGlyphs[x]=new Function("c","size",l.join(""))}return this.compiledGlyphs[x]=function(l,h){for(const y of d)y.cmd==="scale"&&(y.args=[h,-h]),l[y.cmd].apply(l,y.args)}}}n.FontFaceObject=m}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeFilterFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var o=s(7);s(1);const c=function(d){return new Promise((l,h)=>{require$$5.readFile(d,(v,p)=>{if(v||!p){h(new Error(v));return}l(new Uint8Array(p))})})};class m extends o.BaseFilterFactory{}n.NodeFilterFactory=m;class f extends o.BaseCanvasFactory{_createCanvas(l,h){return require$$5.createCanvas(l,h)}}n.NodeCanvasFactory=f;class _ extends o.BaseCMapReaderFactory{_fetchData(l,h){return c(l).then(y=>({cMapData:y,compressionType:h}))}}n.NodeCMapReaderFactory=_;class x extends o.BaseStandardFontDataFactory{_fetchData(l){return c(l)}}n.NodeStandardFontDataFactory=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var o=s(1),c=s(6),m=s(12),f=s(13);const _=16,x=100,d=4096,l=15,h=10,y=1e3,v=16;function p(k,C){if(k._removeMirroring)throw new Error("Context is already forwarding operations.");k.__originalSave=k.save,k.__originalRestore=k.restore,k.__originalRotate=k.rotate,k.__originalScale=k.scale,k.__originalTranslate=k.translate,k.__originalTransform=k.transform,k.__originalSetTransform=k.setTransform,k.__originalResetTransform=k.resetTransform,k.__originalClip=k.clip,k.__originalMoveTo=k.moveTo,k.__originalLineTo=k.lineTo,k.__originalBezierCurveTo=k.bezierCurveTo,k.__originalRect=k.rect,k.__originalClosePath=k.closePath,k.__originalBeginPath=k.beginPath,k._removeMirroring=()=>{k.save=k.__originalSave,k.restore=k.__originalRestore,k.rotate=k.__originalRotate,k.scale=k.__originalScale,k.translate=k.__originalTranslate,k.transform=k.__originalTransform,k.setTransform=k.__originalSetTransform,k.resetTransform=k.__originalResetTransform,k.clip=k.__originalClip,k.moveTo=k.__originalMoveTo,k.lineTo=k.__originalLineTo,k.bezierCurveTo=k.__originalBezierCurveTo,k.rect=k.__originalRect,k.closePath=k.__originalClosePath,k.beginPath=k.__originalBeginPath,delete k._removeMirroring},k.save=function(){C.save(),this.__originalSave()},k.restore=function(){C.restore(),this.__originalRestore()},k.translate=function(w,j){C.translate(w,j),this.__originalTranslate(w,j)},k.scale=function(w,j){C.scale(w,j),this.__originalScale(w,j)},k.transform=function(w,j,z,G,U,b){C.transform(w,j,z,G,U,b),this.__originalTransform(w,j,z,G,U,b)},k.setTransform=function(w,j,z,G,U,b){C.setTransform(w,j,z,G,U,b),this.__originalSetTransform(w,j,z,G,U,b)},k.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},k.rotate=function(w){C.rotate(w),this.__originalRotate(w)},k.clip=function(w){C.clip(w),this.__originalClip(w)},k.moveTo=function(T,w){C.moveTo(T,w),this.__originalMoveTo(T,w)},k.lineTo=function(T,w){C.lineTo(T,w),this.__originalLineTo(T,w)},k.bezierCurveTo=function(T,w,j,z,G,U){C.bezierCurveTo(T,w,j,z,G,U),this.__originalBezierCurveTo(T,w,j,z,G,U)},k.rect=function(T,w,j,z){C.rect(T,w,j,z),this.__originalRect(T,w,j,z)},k.closePath=function(){C.closePath(),this.__originalClosePath()},k.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class A{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,T,w){let j;return this.cache[C]!==void 0?(j=this.cache[C],this.canvasFactory.reset(j,T,w)):(j=this.canvasFactory.create(T,w),this.cache[C]=j),j}delete(C){delete this.cache[C]}clear(){for(const C in this.cache){const T=this.cache[C];this.canvasFactory.destroy(T),delete this.cache[C]}}}function P(k,C,T,w,j,z,G,U,b,D){const[O,L,B,$,Q,se]=(0,c.getCurrentTransform)(k);if(L===0&&B===0){const re=G*O+Q,ue=Math.round(re),pe=U*$+se,ge=Math.round(pe),be=(G+b)*O+Q,Pe=Math.abs(Math.round(be)-ue)||1,De=(U+D)*$+se,Ie=Math.abs(Math.round(De)-ge)||1;return k.setTransform(Math.sign(O),0,0,Math.sign($),ue,ge),k.drawImage(C,T,w,j,z,0,0,Pe,Ie),k.setTransform(O,L,B,$,Q,se),[Pe,Ie]}if(O===0&&$===0){const re=U*B+Q,ue=Math.round(re),pe=G*L+se,ge=Math.round(pe),be=(U+D)*B+Q,Pe=Math.abs(Math.round(be)-ue)||1,De=(G+b)*L+se,Ie=Math.abs(Math.round(De)-ge)||1;return k.setTransform(0,Math.sign(L),Math.sign(B),0,ue,ge),k.drawImage(C,T,w,j,z,0,0,Ie,Pe),k.setTransform(O,L,B,$,Q,se),[Ie,Pe]}k.drawImage(C,T,w,j,z,G,U,b,D);const ye=Math.hypot(O,L),ne=Math.hypot(B,$);return[ye*b,ne*D]}function E(k){const{width:C,height:T}=k;if(C>y||T>y)return null;const w=1e3,j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),z=C+1;let G=new Uint8Array(z*(T+1)),U,b,D;const O=C+7&-8;let L=new Uint8Array(O*T),B=0;for(const ne of k.data){let re=128;for(;re>0;)L[B++]=ne&re?0:255,re>>=1}let $=0;for(B=0,L[B]!==0&&(G[0]=1,++$),b=1;b<C;b++)L[B]!==L[B+1]&&(G[b]=L[B]?2:1,++$),B++;for(L[B]!==0&&(G[b]=2,++$),U=1;U<T;U++){B=U*O,D=U*z,L[B-O]!==L[B]&&(G[D]=L[B]?1:8,++$);let ne=(L[B]?4:0)+(L[B-O]?8:0);for(b=1;b<C;b++)ne=(ne>>2)+(L[B+1]?4:0)+(L[B-O+1]?8:0),j[ne]&&(G[D+b]=j[ne],++$),B++;if(L[B-O]!==L[B]&&(G[D+b]=L[B]?2:4,++$),$>w)return null}for(B=O*(T-1),D=U*z,L[B]!==0&&(G[D]=8,++$),b=1;b<C;b++)L[B]!==L[B+1]&&(G[D+b]=L[B]?4:8,++$),B++;if(L[B]!==0&&(G[D+b]=4,++$),$>w)return null;const Q=new Int32Array([0,z,-1,0,-z,0,0,0,1]),se=new Path2D;for(U=0;$&&U<=T;U++){let ne=U*z;const re=ne+C;for(;ne<re&&!G[ne];)ne++;if(ne===re)continue;se.moveTo(ne%z,U);const ue=ne;let pe=G[ne];do{const ge=Q[pe];do ne+=ge;while(!G[ne]);const be=G[ne];be!==5&&be!==10?(pe=be,G[ne]=0):(pe=be&51*pe>>4,G[ne]&=pe>>2|pe<<2),se.lineTo(ne%z,ne/z|0),G[ne]||--$}while(ue!==ne);--U}return L=null,G=null,function(ne){ne.save(),ne.scale(1/C,-1/T),ne.translate(0,-T),ne.fill(se),ne.beginPath(),ne.restore()}}class M{constructor(C,T){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,C,T])}clone(){const C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,T){this.x=C,this.y=T}updatePathMinMax(C,T,w){[T,w]=o.Util.applyTransform([T,w],C),this.minX=Math.min(this.minX,T),this.minY=Math.min(this.minY,w),this.maxX=Math.max(this.maxX,T),this.maxY=Math.max(this.maxY,w)}updateRectMinMax(C,T){const w=o.Util.applyTransform(T,C),j=o.Util.applyTransform(T.slice(2),C);this.minX=Math.min(this.minX,w[0],j[0]),this.minY=Math.min(this.minY,w[1],j[1]),this.maxX=Math.max(this.maxX,w[0],j[0]),this.maxY=Math.max(this.maxY,w[1],j[1])}updateScalingPathMinMax(C,T){o.Util.scaleMinMax(C,T),this.minX=Math.min(this.minX,T[0]),this.maxX=Math.max(this.maxX,T[1]),this.minY=Math.min(this.minY,T[2]),this.maxY=Math.max(this.maxY,T[3])}updateCurvePathMinMax(C,T,w,j,z,G,U,b,D,O){const L=o.Util.bezierBoundingBox(T,w,j,z,G,U,b,D);if(O){O[0]=Math.min(O[0],L[0],L[2]),O[1]=Math.max(O[1],L[0],L[2]),O[2]=Math.min(O[2],L[1],L[3]),O[3]=Math.max(O[3],L[1],L[3]);return}this.updateRectMinMax(C,L)}getPathBoundingBox(C=m.PathType.FILL,T=null){const w=[this.minX,this.minY,this.maxX,this.maxY];if(C===m.PathType.STROKE){T||(0,o.unreachable)("Stroke bounding box must include transform.");const j=o.Util.singularValueDecompose2dScale(T),z=j[0]*this.lineWidth/2,G=j[1]*this.lineWidth/2;w[0]-=z,w[1]-=G,w[2]+=z,w[3]+=G}return w}updateClipFromPath(){const C=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=m.PathType.FILL,T=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(C,T))}}function V(k,C){if(typeof ImageData<"u"&&C instanceof ImageData){k.putImageData(C,0,0);return}const T=C.height,w=C.width,j=T%v,z=(T-j)/v,G=j===0?z:z+1,U=k.createImageData(w,v);let b=0,D;const O=C.data,L=U.data;let B,$,Q,se;if(C.kind===o.ImageKind.GRAYSCALE_1BPP){const ye=O.byteLength,ne=new Uint32Array(L.buffer,0,L.byteLength>>2),re=ne.length,ue=w+7>>3,pe=4294967295,ge=o.FeatureTest.isLittleEndian?4278190080:255;for(B=0;B<G;B++){for(Q=B<z?v:j,D=0,$=0;$<Q;$++){const be=ye-b;let Pe=0;const De=be>ue?w:be*8-7,Ie=De&-8;let Ne=0,je=0;for(;Pe<Ie;Pe+=8)je=O[b++],ne[D++]=je&128?pe:ge,ne[D++]=je&64?pe:ge,ne[D++]=je&32?pe:ge,ne[D++]=je&16?pe:ge,ne[D++]=je&8?pe:ge,ne[D++]=je&4?pe:ge,ne[D++]=je&2?pe:ge,ne[D++]=je&1?pe:ge;for(;Pe<De;Pe++)Ne===0&&(je=O[b++],Ne=128),ne[D++]=je&Ne?pe:ge,Ne>>=1}for(;D<re;)ne[D++]=0;k.putImageData(U,0,B*v)}}else if(C.kind===o.ImageKind.RGBA_32BPP){for($=0,se=w*v*4,B=0;B<z;B++)L.set(O.subarray(b,b+se)),b+=se,k.putImageData(U,0,$),$+=v;B<G&&(se=w*j*4,L.set(O.subarray(b,b+se)),k.putImageData(U,0,$))}else if(C.kind===o.ImageKind.RGB_24BPP)for(Q=v,se=w*Q,B=0;B<G;B++){for(B>=z&&(Q=j,se=w*Q),D=0,$=se;$--;)L[D++]=O[b++],L[D++]=O[b++],L[D++]=O[b++],L[D++]=255;k.putImageData(U,0,B*v)}else throw new Error(`bad image kind: ${C.kind}`)}function I(k,C){if(C.bitmap){k.drawImage(C.bitmap,0,0);return}const T=C.height,w=C.width,j=T%v,z=(T-j)/v,G=j===0?z:z+1,U=k.createImageData(w,v);let b=0;const D=C.data,O=U.data;for(let L=0;L<G;L++){const B=L<z?v:j;({srcPos:b}=(0,f.convertBlackAndWhiteToRGBA)({src:D,srcPos:b,dest:O,width:w,height:B,nonBlackColor:0})),k.putImageData(U,0,L*v)}}function R(k,C){const T=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const w of T)k[w]!==void 0&&(C[w]=k[w]);k.setLineDash!==void 0&&(C.setLineDash(k.getLineDash()),C.lineDashOffset=k.lineDashOffset)}function F(k){if(k.strokeStyle=k.fillStyle="#000000",k.fillRule="nonzero",k.globalAlpha=1,k.lineWidth=1,k.lineCap="butt",k.lineJoin="miter",k.miterLimit=10,k.globalCompositeOperation="source-over",k.font="10px sans-serif",k.setLineDash!==void 0&&(k.setLineDash([]),k.lineDashOffset=0),!o.isNodeJS){const{filter:C}=k;C!=="none"&&C!==""&&(k.filter="none")}}function H(k,C,T,w){const j=k.length;for(let z=3;z<j;z+=4){const G=k[z];if(G===0)k[z-3]=C,k[z-2]=T,k[z-1]=w;else if(G<255){const U=255-G;k[z-3]=k[z-3]*G+C*U>>8,k[z-2]=k[z-2]*G+T*U>>8,k[z-1]=k[z-1]*G+w*U>>8}}}function K(k,C,T){const w=k.length,j=1/255;for(let z=3;z<w;z+=4){const G=T?T[k[z]]:k[z];C[z]=C[z]*G*j|0}}function q(k,C,T){const w=k.length;for(let j=3;j<w;j+=4){const z=k[j-3]*77+k[j-2]*152+k[j-1]*28;C[j]=T?C[j]*T[z>>8]>>8:C[j]*z>>16}}function ee(k,C,T,w,j,z,G,U,b,D,O){const L=!!z,B=L?z[0]:0,$=L?z[1]:0,Q=L?z[2]:0,se=j==="Luminosity"?q:K,ne=Math.min(w,Math.ceil(1048576/T));for(let re=0;re<w;re+=ne){const ue=Math.min(ne,w-re),pe=k.getImageData(U-D,re+(b-O),T,ue),ge=C.getImageData(U,re+b,T,ue);L&&H(pe.data,B,$,Q),se(pe.data,ge.data,G),C.putImageData(ge,U,re+b)}}function J(k,C,T,w){const j=w[0],z=w[1],G=w[2]-j,U=w[3]-z;G===0||U===0||(ee(C.context,T,G,U,C.subtype,C.backdrop,C.transferMap,j,z,C.offsetX,C.offsetY),k.save(),k.globalAlpha=1,k.globalCompositeOperation="source-over",k.setTransform(1,0,0,1,0,0),k.drawImage(T.canvas,0,0),k.restore())}function me(k,C){const T=o.Util.singularValueDecompose2dScale(k);T[0]=Math.fround(T[0]),T[1]=Math.fround(T[1]);const w=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:T[0]<=w||T[1]<=w}const he=["butt","round","square"],fe=["miter","round","bevel"],ve={},ae={};class W{constructor(C,T,w,j,z,{optionalContentConfig:G,markedContentStack:U=null},b,D){this.ctx=C,this.current=new M(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=T,this.objs=w,this.canvasFactory=j,this.filterFactory=z,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=U||[],this.optionalContentConfig=G,this.cachedCanvases=new A(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=b,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=D,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,T=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):T}beginDrawing({transform:C,viewport:T,transparency:w=!1,background:j=null}){const z=this.ctx.canvas.width,G=this.ctx.canvas.height,U=this.ctx.fillStyle;if(this.ctx.fillStyle=j||"#ffffff",this.ctx.fillRect(0,0,z,G),this.ctx.fillStyle=U,w){const b=this.cachedCanvases.getCanvas("transparent",z,G);this.compositeCtx=this.ctx,this.transparentCanvas=b.canvas,this.ctx=b.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),F(this.ctx),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...T.transform),this.viewportScale=T.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(C,T,w,j){const z=C.argsArray,G=C.fnArray;let U=T||0;const b=z.length;if(b===U)return U;const D=b-U>h&&typeof w=="function",O=D?Date.now()+l:0;let L=0;const B=this.commonObjs,$=this.objs;let Q;for(;;){if(j!==void 0&&U===j.nextBreakPoint)return j.breakIt(U,w),U;if(Q=G[U],Q!==o.OPS.dependency)this[Q].apply(this,z[U]);else for(const se of z[U]){const ye=se.startsWith("g_")?B:$;if(!ye.has(se))return ye.get(se,w),U}if(U++,U===b)return U;if(D&&++L>h){if(Date.now()>O)return w(),U;L=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const C of this._cachedBitmapsMap.values()){for(const T of C.values())typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement&&(T.width=T.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const C=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(C!=="none"){const T=this.ctx.filter;this.ctx.filter=C,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=T}}}_scaleImage(C,T){const w=C.width,j=C.height;let z=Math.max(Math.hypot(T[0],T[1]),1),G=Math.max(Math.hypot(T[2],T[3]),1),U=w,b=j,D="prescale1",O,L;for(;z>2&&U>1||G>2&&b>1;){let B=U,$=b;z>2&&U>1&&(B=U>=16384?Math.floor(U/2)-1||1:Math.ceil(U/2),z/=U/B),G>2&&b>1&&($=b>=16384?Math.floor(b/2)-1||1:Math.ceil(b)/2,G/=b/$),O=this.cachedCanvases.getCanvas(D,B,$),L=O.context,L.clearRect(0,0,B,$),L.drawImage(C,0,0,U,b,0,0,B,$),C=O.canvas,U=B,b=$,D=D==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:U,paintHeight:b}}_createMaskCanvas(C){const T=this.ctx,{width:w,height:j}=C,z=this.current.fillColor,G=this.current.patternFill,U=(0,c.getCurrentTransform)(T);let b,D,O,L;if((C.bitmap||C.data)&&C.count>1){const Pe=C.bitmap||C.data.buffer;D=JSON.stringify(G?U:[U.slice(0,4),z]),b=this._cachedBitmapsMap.get(Pe),b||(b=new Map,this._cachedBitmapsMap.set(Pe,b));const De=b.get(D);if(De&&!G){const Ie=Math.round(Math.min(U[0],U[2])+U[4]),Ne=Math.round(Math.min(U[1],U[3])+U[5]);return{canvas:De,offsetX:Ie,offsetY:Ne}}O=De}O||(L=this.cachedCanvases.getCanvas("maskCanvas",w,j),I(L.context,C));let B=o.Util.transform(U,[1/w,0,0,-1/j,0,0]);B=o.Util.transform(B,[1,0,0,1,0,-j]);const $=o.Util.applyTransform([0,0],B),Q=o.Util.applyTransform([w,j],B),se=o.Util.normalizeRect([$[0],$[1],Q[0],Q[1]]),ye=Math.round(se[2]-se[0])||1,ne=Math.round(se[3]-se[1])||1,re=this.cachedCanvases.getCanvas("fillCanvas",ye,ne),ue=re.context,pe=Math.min($[0],Q[0]),ge=Math.min($[1],Q[1]);ue.translate(-pe,-ge),ue.transform(...B),O||(O=this._scaleImage(L.canvas,(0,c.getCurrentTransformInverse)(ue)),O=O.img,b&&G&&b.set(D,O)),ue.imageSmoothingEnabled=me((0,c.getCurrentTransform)(ue),C.interpolate),P(ue,O,0,0,O.width,O.height,0,0,w,j),ue.globalCompositeOperation="source-in";const be=o.Util.transform((0,c.getCurrentTransformInverse)(ue),[1,0,0,1,-pe,-ge]);return ue.fillStyle=G?z.getPattern(T,this,be,m.PathType.FILL):z,ue.fillRect(0,0,w,j),b&&!G&&(this.cachedCanvases.delete("fillCanvas"),b.set(D,re.canvas)),{canvas:re.canvas,offsetX:Math.round(pe),offsetY:Math.round(ge)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=he[C]}setLineJoin(C){this.ctx.lineJoin=fe[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,T){const w=this.ctx;w.setLineDash!==void 0&&(w.setLineDash(C),w.lineDashOffset=T)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(const[T,w]of C)switch(T){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=w;break;case"ca":this.current.fillAlpha=w,this.ctx.globalAlpha=w;break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(w);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const C=this.ctx.canvas.width,T=this.ctx.canvas.height,w="smaskGroupAt"+this.groupLevel,j=this.cachedCanvases.getCanvas(w,C,T);this.suspendedCtx=this.ctx,this.ctx=j.context;const z=this.ctx;z.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),R(this.suspendedCtx,z),p(z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),R(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const T=this.current.activeSMask,w=this.suspendedCtx;J(w,T,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(R(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),R(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(C,T,w,j,z,G){this.ctx.transform(C,T,w,j,z,G),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(C,T,w){const j=this.ctx,z=this.current;let G=z.x,U=z.y,b,D;const O=(0,c.getCurrentTransform)(j),L=O[0]===0&&O[3]===0||O[1]===0&&O[2]===0,B=L?w.slice(0):null;for(let $=0,Q=0,se=C.length;$<se;$++)switch(C[$]|0){case o.OPS.rectangle:G=T[Q++],U=T[Q++];const ye=T[Q++],ne=T[Q++],re=G+ye,ue=U+ne;j.moveTo(G,U),ye===0||ne===0?j.lineTo(re,ue):(j.lineTo(re,U),j.lineTo(re,ue),j.lineTo(G,ue)),L||z.updateRectMinMax(O,[G,U,re,ue]),j.closePath();break;case o.OPS.moveTo:G=T[Q++],U=T[Q++],j.moveTo(G,U),L||z.updatePathMinMax(O,G,U);break;case o.OPS.lineTo:G=T[Q++],U=T[Q++],j.lineTo(G,U),L||z.updatePathMinMax(O,G,U);break;case o.OPS.curveTo:b=G,D=U,G=T[Q+4],U=T[Q+5],j.bezierCurveTo(T[Q],T[Q+1],T[Q+2],T[Q+3],G,U),z.updateCurvePathMinMax(O,b,D,T[Q],T[Q+1],T[Q+2],T[Q+3],G,U,B),Q+=6;break;case o.OPS.curveTo2:b=G,D=U,j.bezierCurveTo(G,U,T[Q],T[Q+1],T[Q+2],T[Q+3]),z.updateCurvePathMinMax(O,b,D,G,U,T[Q],T[Q+1],T[Q+2],T[Q+3],B),G=T[Q+2],U=T[Q+3],Q+=4;break;case o.OPS.curveTo3:b=G,D=U,G=T[Q+2],U=T[Q+3],j.bezierCurveTo(T[Q],T[Q+1],G,U,G,U),z.updateCurvePathMinMax(O,b,D,T[Q],T[Q+1],G,U,G,U,B),Q+=4;break;case o.OPS.closePath:j.closePath();break}L&&z.updateScalingPathMinMax(O,B),z.setCurrentPoint(G,U)}closePath(){this.ctx.closePath()}stroke(C=!0){const T=this.ctx,w=this.current.strokeColor;T.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof w=="object"&&w?.getPattern?(T.save(),T.strokeStyle=w.getPattern(T,this,(0,c.getCurrentTransformInverse)(T),m.PathType.STROKE),this.rescaleAndStroke(!1),T.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),T.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C=!0){const T=this.ctx,w=this.current.fillColor,j=this.current.patternFill;let z=!1;j&&(T.save(),T.fillStyle=w.getPattern(T,this,(0,c.getCurrentTransformInverse)(T),m.PathType.FILL),z=!0);const G=this.current.getClippedPathBoundingBox();this.contentVisible&&G!==null&&(this.pendingEOFill?(T.fill("evenodd"),this.pendingEOFill=!1):T.fill()),z&&T.restore(),C&&this.consumePath(G)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ve}eoClip(){this.pendingClip=ae}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const C=this.pendingTextPaths,T=this.ctx;if(C===void 0){T.beginPath();return}T.save(),T.beginPath();for(const w of C)T.setTransform(...w.transform),T.translate(w.x,w.y),w.addToPath(T,w.fontSize);T.restore(),T.clip(),T.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,T){const w=this.commonObjs.get(C),j=this.current;if(!w)throw new Error(`Can't find font for ${C}`);if(j.fontMatrix=w.fontMatrix||o.FONT_IDENTITY_MATRIX,(j.fontMatrix[0]===0||j.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+C),T<0?(T=-T,j.fontDirection=-1):j.fontDirection=1,this.current.font=w,this.current.fontSize=T,w.isType3Font)return;const z=w.loadedName||"sans-serif",G=w.systemFontInfo?.css||`"${z}", ${w.fallbackName}`;let U="normal";w.black?U="900":w.bold&&(U="bold");const b=w.italic?"italic":"normal";let D=T;T<_?D=_:T>x&&(D=x),this.current.fontSizeScale=T/D,this.ctx.font=`${b} ${U} ${D}px ${G}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,T){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=T}setLeadingMoveText(C,T){this.setLeading(-T),this.moveText(C,T)}setTextMatrix(C,T,w,j,z,G){this.current.textMatrix=[C,T,w,j,z,G],this.current.textMatrixScale=Math.hypot(C,T),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,T,w,j){const z=this.ctx,G=this.current,U=G.font,b=G.textRenderingMode,D=G.fontSize/G.fontSizeScale,O=b&o.TextRenderingMode.FILL_STROKE_MASK,L=!!(b&o.TextRenderingMode.ADD_TO_PATH_FLAG),B=G.patternFill&&!U.missingFile;let $;(U.disableFontFace||L||B)&&($=U.getPathGenerator(this.commonObjs,C)),U.disableFontFace||B?(z.save(),z.translate(T,w),z.beginPath(),$(z,D),j&&z.setTransform(...j),(O===o.TextRenderingMode.FILL||O===o.TextRenderingMode.FILL_STROKE)&&z.fill(),(O===o.TextRenderingMode.STROKE||O===o.TextRenderingMode.FILL_STROKE)&&z.stroke(),z.restore()):((O===o.TextRenderingMode.FILL||O===o.TextRenderingMode.FILL_STROKE)&&z.fillText(C,T,w),(O===o.TextRenderingMode.STROKE||O===o.TextRenderingMode.FILL_STROKE)&&z.strokeText(C,T,w)),L&&(this.pendingTextPaths||=[]).push({transform:(0,c.getCurrentTransform)(z),x:T,y:w,fontSize:D,addToPath:$})}get isFontSubpixelAAEnabled(){const{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);const T=C.getImageData(0,0,10,10).data;let w=!1;for(let j=3;j<T.length;j+=4)if(T[j]>0&&T[j]<255){w=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",w)}showText(C){const T=this.current,w=T.font;if(w.isType3Font)return this.showType3Text(C);const j=T.fontSize;if(j===0)return;const z=this.ctx,G=T.fontSizeScale,U=T.charSpacing,b=T.wordSpacing,D=T.fontDirection,O=T.textHScale*D,L=C.length,B=w.vertical,$=B?1:-1,Q=w.defaultVMetrics,se=j*T.fontMatrix[0],ye=T.textRenderingMode===o.TextRenderingMode.FILL&&!w.disableFontFace&&!T.patternFill;z.save(),z.transform(...T.textMatrix),z.translate(T.x,T.y+T.textRise),D>0?z.scale(O,-1):z.scale(O,1);let ne;if(T.patternFill){z.save();const be=T.fillColor.getPattern(z,this,(0,c.getCurrentTransformInverse)(z),m.PathType.FILL);ne=(0,c.getCurrentTransform)(z),z.restore(),z.fillStyle=be}let re=T.lineWidth;const ue=T.textMatrixScale;if(ue===0||re===0){const be=T.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(be===o.TextRenderingMode.STROKE||be===o.TextRenderingMode.FILL_STROKE)&&(re=this.getSinglePixelWidth())}else re/=ue;if(G!==1&&(z.scale(G,G),re/=G),z.lineWidth=re,w.isInvalidPDFjsFont){const be=[];let Pe=0;for(const De of C)be.push(De.unicode),Pe+=De.width;z.fillText(be.join(""),0,0),T.x+=Pe*se*O,z.restore(),this.compose();return}let pe=0,ge;for(ge=0;ge<L;++ge){const be=C[ge];if(typeof be=="number"){pe+=$*be*j/1e3;continue}let Pe=!1;const De=(be.isSpace?b:0)+U,Ie=be.fontChar,Ne=be.accent;let je,at,Qe=be.width;if(B){const nt=be.vmetric||Q,dt=-(be.vmetric?nt[1]:Qe*.5)*se,Vt=nt[2]*se;Qe=nt?-nt[0]:Qe,je=dt/G,at=(pe+Vt)/G}else je=pe/G,at=0;if(w.remeasure&&Qe>0){const nt=z.measureText(Ie).width*1e3/j*G;if(Qe<nt&&this.isFontSubpixelAAEnabled){const dt=Qe/nt;Pe=!0,z.save(),z.scale(dt,1),je/=dt}else Qe!==nt&&(je+=(Qe-nt)/2e3*j/G)}if(this.contentVisible&&(be.isInFont||w.missingFile)){if(ye&&!Ne)z.fillText(Ie,je,at);else if(this.paintChar(Ie,je,at,ne),Ne){const nt=je+j*Ne.offset.x/G,dt=at-j*Ne.offset.y/G;this.paintChar(Ne.fontChar,nt,dt,ne)}}const Tt=B?Qe*se-De*D:Qe*se+De*D;pe+=Tt,Pe&&z.restore()}B?T.y-=pe:T.x+=pe*O,z.restore(),this.compose()}showType3Text(C){const T=this.ctx,w=this.current,j=w.font,z=w.fontSize,G=w.fontDirection,U=j.vertical?1:-1,b=w.charSpacing,D=w.wordSpacing,O=w.textHScale*G,L=w.fontMatrix||o.FONT_IDENTITY_MATRIX,B=C.length,$=w.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Q,se,ye,ne;if(!($||z===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,T.save(),T.transform(...w.textMatrix),T.translate(w.x,w.y),T.scale(O,G),Q=0;Q<B;++Q){if(se=C[Q],typeof se=="number"){ne=U*se*z/1e3,this.ctx.translate(ne,0),w.x+=ne*O;continue}const re=(se.isSpace?D:0)+b,ue=j.charProcOperatorList[se.operatorListId];if(!ue){(0,o.warn)(`Type3 character "${se.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=se,this.save(),T.scale(z,z),T.transform(...L),this.executeOperatorList(ue),this.restore()),ye=o.Util.applyTransform([se.width,0],L)[0]*z+re,T.translate(ye,0),w.x+=ye*O}T.restore(),this.processingType3=null}}setCharWidth(C,T){}setCharWidthAndBounds(C,T,w,j,z,G){this.ctx.rect(w,j,z-w,G-j),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let T;if(C[0]==="TilingPattern"){const w=C[1],j=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),z={createCanvasGraphics:G=>new W(G,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};T=new m.TilingPattern(C,w,this.ctx,z,j)}else T=this._getPattern(C[1],C[2]);return T}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,T,w){const j=o.Util.makeHexColor(C,T,w);this.ctx.strokeStyle=j,this.current.strokeColor=j}setFillRGBColor(C,T,w){const j=o.Util.makeHexColor(C,T,w);this.ctx.fillStyle=j,this.current.fillColor=j,this.current.patternFill=!1}_getPattern(C,T=null){let w;return this.cachedPatterns.has(C)?w=this.cachedPatterns.get(C):(w=(0,m.getShadingPattern)(this.getObject(C)),this.cachedPatterns.set(C,w)),T&&(w.matrix=T),w}shadingFill(C){if(!this.contentVisible)return;const T=this.ctx;this.save();const w=this._getPattern(C);T.fillStyle=w.getPattern(T,this,(0,c.getCurrentTransformInverse)(T),m.PathType.SHADING);const j=(0,c.getCurrentTransformInverse)(T);if(j){const{width:z,height:G}=T.canvas,[U,b,D,O]=o.Util.getAxialAlignedBoundingBox([0,0,z,G],j);this.ctx.fillRect(U,b,D-U,O-b)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,T){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),T)){const w=T[2]-T[0],j=T[3]-T[1];this.ctx.rect(T[0],T[1],w,j),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),T),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const T=this.ctx;C.isolated||(0,o.info)("TODO: Support non-isolated groups."),C.knockout&&(0,o.warn)("Knockout groups not supported.");const w=(0,c.getCurrentTransform)(T);if(C.matrix&&T.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let j=o.Util.getAxialAlignedBoundingBox(C.bbox,(0,c.getCurrentTransform)(T));const z=[0,0,T.canvas.width,T.canvas.height];j=o.Util.intersect(j,z)||[0,0,0,0];const G=Math.floor(j[0]),U=Math.floor(j[1]);let b=Math.max(Math.ceil(j[2])-G,1),D=Math.max(Math.ceil(j[3])-U,1),O=1,L=1;b>d&&(O=b/d,b=d),D>d&&(L=D/d,D=d),this.current.startNewPathAndClipBox([0,0,b,D]);let B="groupAt"+this.groupLevel;C.smask&&(B+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(B,b,D),Q=$.context;Q.scale(1/O,1/L),Q.translate(-G,-U),Q.transform(...w),C.smask?this.smaskStack.push({canvas:$.canvas,context:Q,offsetX:G,offsetY:U,scaleX:O,scaleY:L,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(T.setTransform(1,0,0,1,0,0),T.translate(G,U),T.scale(O,L),T.save()),R(T,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(T),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;const T=this.ctx,w=this.groupStack.pop();if(this.ctx=w,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const j=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...j);const z=o.Util.getAxialAlignedBoundingBox([0,0,T.canvas.width,T.canvas.height],j);this.ctx.drawImage(T.canvas,0,0),this.ctx.restore(),this.compose(z)}}beginAnnotation(C,T,w,j,z){if(this.#e(),F(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(T)&&T.length===4){const G=T[2]-T[0],U=T[3]-T[1];if(z&&this.annotationCanvasMap){w=w.slice(),w[4]-=T[0],w[5]-=T[1],T=T.slice(),T[0]=T[1]=0,T[2]=G,T[3]=U;const[b,D]=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:O}=this,L=Math.ceil(G*this.outputScaleX*O),B=Math.ceil(U*this.outputScaleY*O);this.annotationCanvas=this.canvasFactory.create(L,B);const{canvas:$,context:Q}=this.annotationCanvas;this.annotationCanvasMap.set(C,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.save(),this.ctx.setTransform(b,0,0,-D,0,U*D),F(this.ctx)}else F(this.ctx),this.ctx.rect(T[0],T[1],G,U),this.ctx.clip(),this.endPath()}this.current=new M(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...w),this.transform(...j)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;const T=C.count;C=this.getObject(C.data,C),C.count=T;const w=this.ctx,j=this.processingType3;if(j&&(j.compiled===void 0&&(j.compiled=E(C)),j.compiled)){j.compiled(w);return}const z=this._createMaskCanvas(C),G=z.canvas;w.save(),w.setTransform(1,0,0,1,0,0),w.drawImage(G,z.offsetX,z.offsetY),w.restore(),this.compose()}paintImageMaskXObjectRepeat(C,T,w=0,j=0,z,G){if(!this.contentVisible)return;C=this.getObject(C.data,C);const U=this.ctx;U.save();const b=(0,c.getCurrentTransform)(U);U.transform(T,w,j,z,0,0);const D=this._createMaskCanvas(C);U.setTransform(1,0,0,1,D.offsetX-b[4],D.offsetY-b[5]);for(let O=0,L=G.length;O<L;O+=2){const B=o.Util.transform(b,[T,w,j,z,G[O],G[O+1]]),[$,Q]=o.Util.applyTransform([0,0],B);U.drawImage(D.canvas,$,Q)}U.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;const T=this.ctx,w=this.current.fillColor,j=this.current.patternFill;for(const z of C){const{data:G,width:U,height:b,transform:D}=z,O=this.cachedCanvases.getCanvas("maskCanvas",U,b),L=O.context;L.save();const B=this.getObject(G,z);I(L,B),L.globalCompositeOperation="source-in",L.fillStyle=j?w.getPattern(L,this,(0,c.getCurrentTransformInverse)(T),m.PathType.FILL):w,L.fillRect(0,0,U,b),L.restore(),T.save(),T.transform(...D),T.scale(1,-1),P(T,O.canvas,0,0,U,b,0,-1,1,1),T.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;const T=this.getObject(C);if(!T){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(T)}paintImageXObjectRepeat(C,T,w,j){if(!this.contentVisible)return;const z=this.getObject(C);if(!z){(0,o.warn)("Dependent image isn't ready yet");return}const G=z.width,U=z.height,b=[];for(let D=0,O=j.length;D<O;D+=2)b.push({transform:[T,0,0,w,j[D],j[D+1]],x:0,y:0,w:G,h:U});this.paintInlineImageXObjectGroup(z,b)}applyTransferMapsToCanvas(C){return this.current.transferMaps!=="none"&&(C.filter=this.current.transferMaps,C.drawImage(C.canvas,0,0),C.filter="none"),C.canvas}applyTransferMapsToBitmap(C){if(this.current.transferMaps==="none")return C.bitmap;const{bitmap:T,width:w,height:j}=C,z=this.cachedCanvases.getCanvas("inlineImage",w,j),G=z.context;return G.filter=this.current.transferMaps,G.drawImage(T,0,0),G.filter="none",z.canvas}paintInlineImageXObject(C){if(!this.contentVisible)return;const T=C.width,w=C.height,j=this.ctx;if(this.save(),!o.isNodeJS){const{filter:U}=j;U!=="none"&&U!==""&&(j.filter="none")}j.scale(1/T,-1/w);let z;if(C.bitmap)z=this.applyTransferMapsToBitmap(C);else if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)z=C;else{const b=this.cachedCanvases.getCanvas("inlineImage",T,w).context;V(b,C),z=this.applyTransferMapsToCanvas(b)}const G=this._scaleImage(z,(0,c.getCurrentTransformInverse)(j));j.imageSmoothingEnabled=me((0,c.getCurrentTransform)(j),C.interpolate),P(j,G.img,0,0,G.paintWidth,G.paintHeight,0,-w,T,w),this.compose(),this.restore()}paintInlineImageXObjectGroup(C,T){if(!this.contentVisible)return;const w=this.ctx;let j;if(C.bitmap)j=C.bitmap;else{const z=C.width,G=C.height,b=this.cachedCanvases.getCanvas("inlineImage",z,G).context;V(b,C),j=this.applyTransferMapsToCanvas(b)}for(const z of T)w.save(),w.transform(...z.transform),w.scale(1,-1),P(w,j,z.x,z.y,z.w,z.h,0,-1,1,1),w.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,T){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,T){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(T)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){const T=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);const w=this.ctx;this.pendingClip&&(T||(this.pendingClip===ae?w.clip("evenodd"):w.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),w.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const C=(0,c.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{const T=Math.abs(C[0]*C[3]-C[2]*C[1]),w=Math.hypot(C[0],C[2]),j=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(w,j)/T}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:C}=this.current,{a:T,b:w,c:j,d:z}=this.ctx.getTransform();let G,U;if(w===0&&j===0){const b=Math.abs(T),D=Math.abs(z);if(b===D)if(C===0)G=U=1/b;else{const O=b*C;G=U=O<1?1/O:1}else if(C===0)G=1/b,U=1/D;else{const O=b*C,L=D*C;G=O<1?1/O:1,U=L<1?1/L:1}}else{const b=Math.abs(T*z-w*j),D=Math.hypot(T,w),O=Math.hypot(j,z);if(C===0)G=O/b,U=D/b;else{const L=C*b;G=O>L?O/L:1,U=D>L?D/L:1}}this._cachedScaleForStroking[0]=G,this._cachedScaleForStroking[1]=U}return this._cachedScaleForStroking}rescaleAndStroke(C){const{ctx:T}=this,{lineWidth:w}=this.current,[j,z]=this.getScaleForStroking();if(T.lineWidth=w||1,j===1&&z===1){T.stroke();return}const G=T.getLineDash();if(C&&T.save(),T.scale(j,z),G.length>0){const U=Math.max(j,z);T.setLineDash(G.map(b=>b/U)),T.lineDashOffset/=U}T.stroke(),C&&T.restore()}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}n.CanvasGraphics=W;for(const k in o.OPS)W.prototype[k]!==void 0&&(W.prototype[o.OPS[k]]=W.prototype[k])}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=v;var o=s(1),c=s(6);const m={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=m;function f(P,E){if(!E)return;const M=E[2]-E[0],V=E[3]-E[1],I=new Path2D;I.rect(E[0],E[1],M,V),P.clip(I)}class _{constructor(){this.constructor===_&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class x extends _{constructor(E){super(),this._type=E[1],this._bbox=E[2],this._colorStops=E[3],this._p0=E[4],this._p1=E[5],this._r0=E[6],this._r1=E[7],this.matrix=null}_createGradient(E){let M;this._type==="axial"?M=E.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(M=E.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const V of this._colorStops)M.addColorStop(V[0],V[1]);return M}getPattern(E,M,V,I){let R;if(I===m.STROKE||I===m.FILL){const F=M.current.getClippedPathBoundingBox(I,(0,c.getCurrentTransform)(E))||[0,0,0,0],H=Math.ceil(F[2]-F[0])||1,K=Math.ceil(F[3]-F[1])||1,q=M.cachedCanvases.getCanvas("pattern",H,K,!0),ee=q.context;ee.clearRect(0,0,ee.canvas.width,ee.canvas.height),ee.beginPath(),ee.rect(0,0,ee.canvas.width,ee.canvas.height),ee.translate(-F[0],-F[1]),V=o.Util.transform(V,[1,0,0,1,F[0],F[1]]),ee.transform(...M.baseTransform),this.matrix&&ee.transform(...this.matrix),f(ee,this._bbox),ee.fillStyle=this._createGradient(ee),ee.fill(),R=E.createPattern(q.canvas,"no-repeat");const J=new DOMMatrix(V);R.setTransform(J)}else f(E,this._bbox),R=this._createGradient(E);return R}}function d(P,E,M,V,I,R,F,H){const K=E.coords,q=E.colors,ee=P.data,J=P.width*4;let me;K[M+1]>K[V+1]&&(me=M,M=V,V=me,me=R,R=F,F=me),K[V+1]>K[I+1]&&(me=V,V=I,I=me,me=F,F=H,H=me),K[M+1]>K[V+1]&&(me=M,M=V,V=me,me=R,R=F,F=me);const he=(K[M]+E.offsetX)*E.scaleX,fe=(K[M+1]+E.offsetY)*E.scaleY,ve=(K[V]+E.offsetX)*E.scaleX,ae=(K[V+1]+E.offsetY)*E.scaleY,W=(K[I]+E.offsetX)*E.scaleX,k=(K[I+1]+E.offsetY)*E.scaleY;if(fe>=k)return;const C=q[R],T=q[R+1],w=q[R+2],j=q[F],z=q[F+1],G=q[F+2],U=q[H],b=q[H+1],D=q[H+2],O=Math.round(fe),L=Math.round(k);let B,$,Q,se,ye,ne,re,ue;for(let pe=O;pe<=L;pe++){if(pe<ae){const Ie=pe<fe?0:(fe-pe)/(fe-ae);B=he-(he-ve)*Ie,$=C-(C-j)*Ie,Q=T-(T-z)*Ie,se=w-(w-G)*Ie}else{let Ie;pe>k?Ie=1:ae===k?Ie=0:Ie=(ae-pe)/(ae-k),B=ve-(ve-W)*Ie,$=j-(j-U)*Ie,Q=z-(z-b)*Ie,se=G-(G-D)*Ie}let ge;pe<fe?ge=0:pe>k?ge=1:ge=(fe-pe)/(fe-k),ye=he-(he-W)*ge,ne=C-(C-U)*ge,re=T-(T-b)*ge,ue=w-(w-D)*ge;const be=Math.round(Math.min(B,ye)),Pe=Math.round(Math.max(B,ye));let De=J*pe+be*4;for(let Ie=be;Ie<=Pe;Ie++)ge=(B-Ie)/(B-ye),ge<0?ge=0:ge>1&&(ge=1),ee[De++]=$-($-ne)*ge|0,ee[De++]=Q-(Q-re)*ge|0,ee[De++]=se-(se-ue)*ge|0,ee[De++]=255}}function l(P,E,M){const V=E.coords,I=E.colors;let R,F;switch(E.type){case"lattice":const H=E.verticesPerRow,K=Math.floor(V.length/H)-1,q=H-1;for(R=0;R<K;R++){let ee=R*H;for(let J=0;J<q;J++,ee++)d(P,M,V[ee],V[ee+1],V[ee+H],I[ee],I[ee+1],I[ee+H]),d(P,M,V[ee+H+1],V[ee+1],V[ee+H],I[ee+H+1],I[ee+1],I[ee+H])}break;case"triangles":for(R=0,F=V.length;R<F;R+=3)d(P,M,V[R],V[R+1],V[R+2],I[R],I[R+1],I[R+2]);break;default:throw new Error("illegal figure")}}class h extends _{constructor(E){super(),this._coords=E[2],this._colors=E[3],this._figures=E[4],this._bounds=E[5],this._bbox=E[7],this._background=E[8],this.matrix=null}_createMeshCanvas(E,M,V){const H=Math.floor(this._bounds[0]),K=Math.floor(this._bounds[1]),q=Math.ceil(this._bounds[2])-H,ee=Math.ceil(this._bounds[3])-K,J=Math.min(Math.ceil(Math.abs(q*E[0]*1.1)),3e3),me=Math.min(Math.ceil(Math.abs(ee*E[1]*1.1)),3e3),he=q/J,fe=ee/me,ve={coords:this._coords,colors:this._colors,offsetX:-H,offsetY:-K,scaleX:1/he,scaleY:1/fe},ae=J+4,W=me+4,k=V.getCanvas("mesh",ae,W,!1),C=k.context,T=C.createImageData(J,me);if(M){const j=T.data;for(let z=0,G=j.length;z<G;z+=4)j[z]=M[0],j[z+1]=M[1],j[z+2]=M[2],j[z+3]=255}for(const j of this._figures)l(T,j,ve);return C.putImageData(T,2,2),{canvas:k.canvas,offsetX:H-2*he,offsetY:K-2*fe,scaleX:he,scaleY:fe}}getPattern(E,M,V,I){f(E,this._bbox);let R;if(I===m.SHADING)R=o.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(E));else if(R=o.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){const H=o.Util.singularValueDecompose2dScale(this.matrix);R=[R[0]*H[0],R[1]*H[1]]}const F=this._createMeshCanvas(R,I===m.SHADING?null:this._background,M.cachedCanvases);return I!==m.SHADING&&(E.setTransform(...M.baseTransform),this.matrix&&E.transform(...this.matrix)),E.translate(F.offsetX,F.offsetY),E.scale(F.scaleX,F.scaleY),E.createPattern(F.canvas,"no-repeat")}}class y extends _{getPattern(){return"hotpink"}}function v(P){switch(P[0]){case"RadialAxial":return new x(P);case"Mesh":return new h(P);case"Dummy":return new y}throw new Error(`Unknown IR type: ${P[0]}`)}const p={COLORED:1,UNCOLORED:2};class A{static MAX_PATTERN_SIZE=3e3;constructor(E,M,V,I,R){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=M,this.ctx=V,this.canvasGraphicsFactory=I,this.baseTransform=R}createPatternCanvas(E){const M=this.operatorList,V=this.bbox,I=this.xstep,R=this.ystep,F=this.paintType,H=this.tilingType,K=this.color,q=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+H);const ee=V[0],J=V[1],me=V[2],he=V[3],fe=o.Util.singularValueDecompose2dScale(this.matrix),ve=o.Util.singularValueDecompose2dScale(this.baseTransform),ae=[fe[0]*ve[0],fe[1]*ve[1]],W=this.getSizeAndScale(I,this.ctx.canvas.width,ae[0]),k=this.getSizeAndScale(R,this.ctx.canvas.height,ae[1]),C=E.cachedCanvases.getCanvas("pattern",W.size,k.size,!0),T=C.context,w=q.createCanvasGraphics(T);w.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(w,F,K);let j=ee,z=J,G=me,U=he;return ee<0&&(j=0,G+=Math.abs(ee)),J<0&&(z=0,U+=Math.abs(J)),T.translate(-(W.scale*j),-(k.scale*z)),w.transform(W.scale,0,0,k.scale,0,0),T.save(),this.clipBbox(w,j,z,G,U),w.baseTransform=(0,c.getCurrentTransform)(w.ctx),w.executeOperatorList(M),w.endDrawing(),{canvas:C.canvas,scaleX:W.scale,scaleY:k.scale,offsetX:j,offsetY:z}}getSizeAndScale(E,M,V){E=Math.abs(E);const I=Math.max(A.MAX_PATTERN_SIZE,M);let R=Math.ceil(E*V);return R>=I?R=I:V=R/E,{scale:V,size:R}}clipBbox(E,M,V,I,R){const F=I-M,H=R-V;E.ctx.rect(M,V,F,H),E.current.updateRectMinMax((0,c.getCurrentTransform)(E.ctx),[M,V,I,R]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,M,V){const I=E.ctx,R=E.current;switch(M){case p.COLORED:const F=this.ctx;I.fillStyle=F.fillStyle,I.strokeStyle=F.strokeStyle,R.fillColor=F.fillStyle,R.strokeColor=F.strokeStyle;break;case p.UNCOLORED:const H=o.Util.makeHexColor(V[0],V[1],V[2]);I.fillStyle=H,I.strokeStyle=H,R.fillColor=H,R.strokeColor=H;break;default:throw new o.FormatError(`Unsupported paint type: ${M}`)}}getPattern(E,M,V,I){let R=V;I!==m.SHADING&&(R=o.Util.transform(R,M.baseTransform),this.matrix&&(R=o.Util.transform(R,this.matrix)));const F=this.createPatternCanvas(M);let H=new DOMMatrix(R);H=H.translate(F.offsetX,F.offsetY),H=H.scale(1/F.scaleX,1/F.scaleY);const K=E.createPattern(F.canvas,"repeat");return K.setTransform(H),K}}n.TilingPattern=A}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.convertBlackAndWhiteToRGBA=m,n.convertToRGBA=c,n.grayToRGBA=_;var o=s(1);function c(x){switch(x.kind){case o.ImageKind.GRAYSCALE_1BPP:return m(x);case o.ImageKind.RGB_24BPP:return f(x)}return null}function m({src:x,srcPos:d=0,dest:l,width:h,height:y,nonBlackColor:v=4294967295,inverseDecode:p=!1}){const A=o.FeatureTest.isLittleEndian?4278190080:255,[P,E]=p?[v,A]:[A,v],M=h>>3,V=h&7,I=x.length;l=new Uint32Array(l.buffer);let R=0;for(let F=0;F<y;F++){for(const K=d+M;d<K;d++){const q=d<I?x[d]:255;l[R++]=q&128?E:P,l[R++]=q&64?E:P,l[R++]=q&32?E:P,l[R++]=q&16?E:P,l[R++]=q&8?E:P,l[R++]=q&4?E:P,l[R++]=q&2?E:P,l[R++]=q&1?E:P}if(V===0)continue;const H=d<I?x[d++]:255;for(let K=0;K<V;K++)l[R++]=H&1<<7-K?E:P}return{srcPos:d,destPos:R}}function f({src:x,srcPos:d=0,dest:l,destPos:h=0,width:y,height:v}){let p=0;const A=x.length>>2,P=new Uint32Array(x.buffer,d,A);if(o.FeatureTest.isLittleEndian){for(;p<A-2;p+=3,h+=4){const E=P[p],M=P[p+1],V=P[p+2];l[h]=E|4278190080,l[h+1]=E>>>24|M<<8|4278190080,l[h+2]=M>>>16|V<<16|4278190080,l[h+3]=V>>>8|4278190080}for(let E=p*4,M=x.length;E<M;E+=3)l[h++]=x[E]|x[E+1]<<8|x[E+2]<<16|4278190080}else{for(;p<A-2;p+=3,h+=4){const E=P[p],M=P[p+1],V=P[p+2];l[h]=E|255,l[h+1]=E<<24|M>>>8|255,l[h+2]=M<<16|V>>>16|255,l[h+3]=V<<8|255}for(let E=p*4,M=x.length;E<M;E+=3)l[h++]=x[E]<<24|x[E+1]<<16|x[E+2]<<8|255}return{srcPos:d,destPos:h}}function _(x,d){if(o.FeatureTest.isLittleEndian)for(let l=0,h=x.length;l<h;l++)d[l]=x[l]*65793|4278190080;else for(let l=0,h=x.length;l<h;l++)d[l]=x[l]*16843008|255}}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const s=Object.create(null);n.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var o=s(1);const c={DATA:1,ERROR:2},m={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(x){switch(x instanceof Error||typeof x=="object"&&x!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new o.AbortException(x.message);case"MissingPDFException":return new o.MissingPDFException(x.message);case"PasswordException":return new o.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new o.UnknownErrorException(x.message,x.details);default:return new o.UnknownErrorException(x.message,x.toString())}}class _{constructor(d,l,h){this.sourceName=d,this.targetName=l,this.comObj=h,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const v=y.data;if(v.targetName!==this.sourceName)return;if(v.stream){this.#t(v);return}if(v.callback){const A=v.callbackId,P=this.callbackCapabilities[A];if(!P)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],v.callback===c.DATA)P.resolve(v.data);else if(v.callback===c.ERROR)P.reject(f(v.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[v.action];if(!p)throw new Error(`Unknown action from worker: ${v.action}`);if(v.callbackId){const A=this.sourceName,P=v.sourceName;new Promise(function(E){E(p(v.data))}).then(function(E){h.postMessage({sourceName:A,targetName:P,callback:c.DATA,callbackId:v.callbackId,data:E})},function(E){h.postMessage({sourceName:A,targetName:P,callback:c.ERROR,callbackId:v.callbackId,reason:f(E)})});return}if(v.streamId){this.#e(v);return}p(v.data)},h.addEventListener("message",this._onComObjOnMessage)}on(d,l){const h=this.actionHandler;if(h[d])throw new Error(`There is already an actionName called "${d}"`);h[d]=l}send(d,l,h){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:l},h)}sendWithPromise(d,l,h){const y=this.callbackId++,v=new o.PromiseCapability;this.callbackCapabilities[y]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:y,data:l},h)}catch(p){v.reject(p)}return v.promise}sendWithStream(d,l,h,y){const v=this.streamId++,p=this.sourceName,A=this.targetName,P=this.comObj;return new ReadableStream({start:E=>{const M=new o.PromiseCapability;return this.streamControllers[v]={controller:E,startCall:M,pullCall:null,cancelCall:null,isClosed:!1},P.postMessage({sourceName:p,targetName:A,action:d,streamId:v,data:l,desiredSize:E.desiredSize},y),M.promise},pull:E=>{const M=new o.PromiseCapability;return this.streamControllers[v].pullCall=M,P.postMessage({sourceName:p,targetName:A,stream:m.PULL,streamId:v,desiredSize:E.desiredSize}),M.promise},cancel:E=>{(0,o.assert)(E instanceof Error,"cancel must have a valid reason");const M=new o.PromiseCapability;return this.streamControllers[v].cancelCall=M,this.streamControllers[v].isClosed=!0,P.postMessage({sourceName:p,targetName:A,stream:m.CANCEL,streamId:v,reason:f(E)}),M.promise}},h)}#e(d){const l=d.streamId,h=this.sourceName,y=d.sourceName,v=this.comObj,p=this,A=this.actionHandler[d.action],P={enqueue(E,M=1,V){if(this.isCancelled)return;const I=this.desiredSize;this.desiredSize-=M,I>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),v.postMessage({sourceName:h,targetName:y,stream:m.ENQUEUE,streamId:l,chunk:E},V)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:h,targetName:y,stream:m.CLOSE,streamId:l}),delete p.streamSinks[l])},error(E){(0,o.assert)(E instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:h,targetName:y,stream:m.ERROR,streamId:l,reason:f(E)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};P.sinkCapability.resolve(),P.ready=P.sinkCapability.promise,this.streamSinks[l]=P,new Promise(function(E){E(A(d.data,P))}).then(function(){v.postMessage({sourceName:h,targetName:y,stream:m.START_COMPLETE,streamId:l,success:!0})},function(E){v.postMessage({sourceName:h,targetName:y,stream:m.START_COMPLETE,streamId:l,reason:f(E)})})}#t(d){const l=d.streamId,h=this.sourceName,y=d.sourceName,v=this.comObj,p=this.streamControllers[l],A=this.streamSinks[l];switch(d.stream){case m.START_COMPLETE:d.success?p.startCall.resolve():p.startCall.reject(f(d.reason));break;case m.PULL_COMPLETE:d.success?p.pullCall.resolve():p.pullCall.reject(f(d.reason));break;case m.PULL:if(!A){v.postMessage({sourceName:h,targetName:y,stream:m.PULL_COMPLETE,streamId:l,success:!0});break}A.desiredSize<=0&&d.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=d.desiredSize,new Promise(function(P){P(A.onPull?.())}).then(function(){v.postMessage({sourceName:h,targetName:y,stream:m.PULL_COMPLETE,streamId:l,success:!0})},function(P){v.postMessage({sourceName:h,targetName:y,stream:m.PULL_COMPLETE,streamId:l,reason:f(P)})});break;case m.ENQUEUE:if((0,o.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(d.chunk);break;case m.CLOSE:if((0,o.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#n(p,l);break;case m.ERROR:(0,o.assert)(p,"error should have stream controller"),p.controller.error(f(d.reason)),this.#n(p,l);break;case m.CANCEL_COMPLETE:d.success?p.cancelCall.resolve():p.cancelCall.reject(f(d.reason)),this.#n(p,l);break;case m.CANCEL:if(!A)break;new Promise(function(P){P(A.onCancel?.(f(d.reason)))}).then(function(){v.postMessage({sourceName:h,targetName:y,stream:m.CANCEL_COMPLETE,streamId:l,success:!0})},function(P){v.postMessage({sourceName:h,targetName:y,stream:m.CANCEL_COMPLETE,streamId:l,reason:f(P)})}),A.sinkCapability.reject(f(d.reason)),A.isCancelled=!0,delete this.streamSinks[l];break;default:throw new Error("Unexpected stream case")}}async#n(d,l){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[l]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}n.MessageHandler=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var o=s(1);class c{#e;#t;constructor({parsedData:f,rawData:_}){this.#e=f,this.#t=_}getRaw(){return this.#t}get(f){return this.#e.get(f)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(f){return this.#e.has(f)}}n.Metadata=c}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var o=s(1),c=s(8);const m=Symbol("INTERNAL");class f{#e=!0;constructor(d,l){this.name=d,this.intent=l}get visible(){return this.#e}_setVisible(d,l){d!==m&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=l}}class _{#e=null;#t=new Map;#n=null;#r=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#r=d.order;for(const l of d.groups)this.#t.set(l.id,new f(l.name,l.intent));if(d.baseState==="OFF")for(const l of this.#t.values())l._setVisible(m,!1);for(const l of d.on)this.#t.get(l)._setVisible(m,!0);for(const l of d.off)this.#t.get(l)._setVisible(m,!1);this.#n=this.getHash()}}#a(d){const l=d.length;if(l<2)return!0;const h=d[0];for(let y=1;y<l;y++){const v=d[y];let p;if(Array.isArray(v))p=this.#a(v);else if(this.#t.has(v))p=this.#t.get(v).visible;else return(0,o.warn)(`Optional content group not found: ${v}`),!0;switch(h){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return h==="And"}isVisible(d){if(this.#t.size===0)return!0;if(!d)return(0,o.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#t.has(d.id)?this.#t.get(d.id).visible:((0,o.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#a(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(this.#t.get(l).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(!this.#t.get(l).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(!this.#t.get(l).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const l of d.ids){if(!this.#t.has(l))return(0,o.warn)(`Optional content group not found: ${l}`),!0;if(this.#t.get(l).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,o.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,l=!0){if(!this.#t.has(d)){(0,o.warn)(`Optional content group not found: ${d}`);return}this.#t.get(d)._setVisible(m,!!l),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(d){return this.#t.get(d)||null}getHash(){if(this.#e!==null)return this.#e;const d=new c.MurmurHash3_64;for(const[l,h]of this.#t)d.update(`${l}:${h.visible}`);return this.#e=d.hexdigest()}}n.OptionalContentConfig=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var o=s(1),c=s(6);class m{constructor({length:d,initialData:l,progressiveDone:h=!1,contentDispositionFilename:y=null,disableRange:v=!1,disableStream:p=!1},A){if((0,o.assert)(A,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h,this._contentDispositionFilename=y,l?.length>0){const P=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(P)}this._pdfDataRangeTransport=A,this._isStreamingSupported=!p,this._isRangeSupported=!v,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((P,E)=>{this._onReceiveData({begin:P,chunk:E})}),this._pdfDataRangeTransport.addProgressListener((P,E)=>{this._onProgress({loaded:P,total:E})}),this._pdfDataRangeTransport.addProgressiveReadListener(P=>{this._onReceiveData({chunk:P})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:l}){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(h):this._queuedChunks.push(h);else{const y=this._rangeReaders.some(function(v){return v._begin!==d?!1:(v._enqueue(h),!0)});(0,o.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const l=this._rangeReaders.indexOf(d);l>=0&&this._rangeReaders.splice(l,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new f(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,l){if(l<=this._progressiveDataLength)return null;const h=new _(this,d,l);return this._pdfDataRangeTransport.requestDataRange(d,l),this._rangeReaders.push(h),h}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const l of this._rangeReaders.slice(0))l.cancel(d);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=m;class f{constructor(d,l,h=!1,y=null){this._stream=d,this._done=h||!1,this._filename=(0,c.isPdfFile)(y)?y:null,this._queuedChunks=l||[],this._loaded=0;for(const v of this._queuedChunks)this._loaded+=v.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _{constructor(d,l,h){this._stream=d,this._begin=l,this._end=h,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new o.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var o=s(1),c=s(20);function m(h,y,v){return{method:"GET",headers:h,signal:v.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function f(h){const y=new Headers;for(const v in h){const p=h[v];p!==void 0&&y.append(v,p)}return y}function _(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:((0,o.warn)(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class x{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(y,v){if(v<=this._progressiveDataLength)return null;const p=new l(this,y,v);return this._rangeRequestReaders.push(p),p}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const v of this._rangeRequestReaders.slice(0))v.cancel(y)}}n.PDFFetchStream=x;class d{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const v=y.source;this._withCredentials=v.withCredentials||!1,this._contentLength=v.length,this._headersCapability=new o.PromiseCapability,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._headers=f(this._stream.httpHeaders);const p=v.url;fetch(p,m(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,c.validateResponseStatus)(A.status))throw(0,c.createResponseStatusError)(A.status,p);this._reader=A.body.getReader(),this._headersCapability.resolve();const P=V=>A.headers.get(V),{allowRangeRequests:E,suggestedLength:M}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:P,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=M||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(P),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:y,done:v}=await this._reader.read();return v?{value:y,done:v}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:_(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}class l{constructor(y,v,p){this._stream=y,this._reader=null,this._loaded=0;const A=y.source;this._withCredentials=A.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!A.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${v}-${p-1}`);const P=A.url;fetch(P,m(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,c.validateResponseStatus)(E.status))throw(0,c.createResponseStatusError)(E.status,P);this._readCapability.resolve(),this._reader=E.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:y,done:v}=await this._reader.read();return v?{value:y,done:v}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded}),{value:_(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=x,n.extractFilenameFromHeader=_,n.validateRangeRequestCapabilities=f,n.validateResponseStatus=d;var o=s(1),c=s(21),m=s(6);function f({getResponseHeader:l,isHttp:h,rangeChunkSize:y,disableRange:v}){const p={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(l("Content-Length"),10);return!Number.isInteger(A)||(p.suggestedLength=A,A<=2*y)||v||!h||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function _(l){const h=l("Content-Disposition");if(h){let y=(0,c.getFilenameFromContentDispositionHeader)(h);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,m.isPdfFile)(y))return y}return null}function x(l,h){return l===404||l===0&&h.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+h+'".'):new o.UnexpectedResponseException(`Unexpected server response (${l}) while retrieving PDF "${h}".`,l)}function d(l){return l===200||l===206}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=c;var o=s(1);function c(m){let f=!0,_=x("filename\\*","i").exec(m);if(_){_=_[1];let A=y(_);return A=unescape(A),A=v(A),A=p(A),l(A)}if(_=h(m),_){const A=p(_);return l(A)}if(_=x("filename","i").exec(m),_){_=_[1];let A=y(_);return A=p(A),l(A)}function x(A,P){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',P)}function d(A,P){if(A){if(!/^[\x00-\xFF]+$/.test(P))return P;try{const E=new TextDecoder(A,{fatal:!0}),M=(0,o.stringToBytes)(P);P=E.decode(M),f=!1}catch{}}return P}function l(A){return f&&/[\x80-\xff]/.test(A)&&(A=d("utf-8",A),f&&(A=d("iso-8859-1",A))),A}function h(A){const P=[];let E;const M=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(E=M.exec(A))!==null;){let[,I,R,F]=E;if(I=parseInt(I,10),I in P){if(I===0)break;continue}P[I]=[R,F]}const V=[];for(let I=0;I<P.length&&I in P;++I){let[R,F]=P[I];F=y(F),R&&(F=unescape(F),I===0&&(F=v(F))),V.push(F)}return V.join("")}function y(A){if(A.startsWith('"')){const P=A.slice(1).split('\\"');for(let E=0;E<P.length;++E){const M=P[E].indexOf('"');M!==-1&&(P[E]=P[E].slice(0,M),P.length=E+1),P[E]=P[E].replaceAll(/\\(.)/g,"$1")}A=P.join('"')}return A}function v(A){const P=A.indexOf("'");if(P===-1)return A;const E=A.slice(0,P),V=A.slice(P+1).replace(/^[^']*'/,"");return d(E,V)}function p(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(P,E,M,V){if(M==="q"||M==="Q")return V=V.replaceAll("_"," "),V=V.replaceAll(/=([0-9a-fA-F]{2})/g,function(I,R){return String.fromCharCode(parseInt(R,16))}),d(E,V);try{V=atob(V)}catch{}return d(E,V)})}return""}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var o=s(1),c=s(20);const m=200,f=206;function _(y){const v=y.response;return typeof v!="string"?v:(0,o.stringToBytes)(v).buffer}class x{constructor(v,p={}){this.url=v,this.isHttp=/^https?:/i.test(v),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(v,p,A){const P={begin:v,end:p};for(const E in A)P[E]=A[E];return this.request(P)}requestFull(v){return this.request(v)}request(v){const p=new XMLHttpRequest,A=this.currXhrId++,P=this.pendingRequests[A]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(const E in this.httpHeaders){const M=this.httpHeaders[E];M!==void 0&&p.setRequestHeader(E,M)}return this.isHttp&&"begin"in v&&"end"in v?(p.setRequestHeader("Range",`bytes=${v.begin}-${v.end-1}`),P.expectedStatus=f):P.expectedStatus=m,p.responseType="arraybuffer",v.onError&&(p.onerror=function(E){v.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,A),p.onprogress=this.onProgress.bind(this,A),P.onHeadersReceived=v.onHeadersReceived,P.onDone=v.onDone,P.onError=v.onError,P.onProgress=v.onProgress,p.send(null),A}onProgress(v,p){const A=this.pendingRequests[v];A&&A.onProgress?.(p)}onStateChange(v,p){const A=this.pendingRequests[v];if(!A)return;const P=A.xhr;if(P.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),P.readyState!==4||!(v in this.pendingRequests))return;if(delete this.pendingRequests[v],P.status===0&&this.isHttp){A.onError?.(P.status);return}const E=P.status||m;if(!(E===m&&A.expectedStatus===f)&&E!==A.expectedStatus){A.onError?.(P.status);return}const V=_(P);if(E===f){const I=P.getResponseHeader("Content-Range"),R=/bytes (\d+)-(\d+)\/(\d+)/.exec(I);A.onDone({begin:parseInt(R[1],10),chunk:V})}else V?A.onDone({begin:0,chunk:V}):A.onError?.(P.status)}getRequestXhr(v){return this.pendingRequests[v].xhr}isPendingRequest(v){return v in this.pendingRequests}abortRequest(v){const p=this.pendingRequests[v].xhr;delete this.pendingRequests[v],p.abort()}}class d{constructor(v){this._source=v,this._manager=new x(v.url,{httpHeaders:v.httpHeaders,withCredentials:v.withCredentials}),this._rangeChunkSize=v.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(v){const p=this._rangeRequestReaders.indexOf(v);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}getRangeReader(v,p){const A=new h(this._manager,v,p);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(const p of this._rangeRequestReaders.slice(0))p.cancel(v)}}n.PDFNetworkStream=d;class l{constructor(v,p){this._manager=v;const A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=v.requestFull(A),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const v=this._fullRequestId,p=this._manager.getRequestXhr(v),A=M=>p.getResponseHeader(M),{allowRangeRequests:P,suggestedLength:E}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});P&&(this._isRangeSupported=!0),this._contentLength=E||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(v),this._headersReceivedCapability.resolve()}_onDone(v){if(v&&(this._requests.length>0?this._requests.shift().resolve({value:v.chunk,done:!1}):this._cachedChunks.push(v.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(v){this._storedError=(0,c.createResponseStatusError)(v,this._url),this._headersReceivedCapability.reject(this._storedError);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(v){this.onProgress?.({loaded:v.loaded,total:v.lengthComputable?v.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0,this._headersReceivedCapability.reject(v);for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h{constructor(v,p,A){this._manager=v;const P={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._requestId=v.requestRange(p,A,P),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(v){const p=v.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(v){this._storedError=(0,c.createResponseStatusError)(v,this._url);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(v){this.isStreamingSupported||this.onProgress?.({loaded:v.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var o=s(1),c=s(20);const m=/^file:\/\/\/[a-zA-Z]:\//;function f(A){const P=require$$5,E=P.parse(A);return E.protocol==="file:"||E.host?E:/^[a-z]:[/\\]/i.test(A)?P.parse(`file:///${A}`):(E.host||(E.protocol="file:"),E)}class _{constructor(P){this.source=P,this.url=f(P.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&P.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new h(this),this._fullRequestReader}getRangeReader(P,E){if(E<=this._progressiveDataLength)return null;const M=this.isFsUrl?new p(this,P,E):new y(this,P,E);return this._rangeRequestReaders.push(M),M}cancelAllRequests(P){this._fullRequestReader?.cancel(P);for(const E of this._rangeRequestReaders.slice(0))E.cancel(P)}}n.PDFNodeStream=_;class x{constructor(P){this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null;const E=P.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const P=this._readableStream.read();return P===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=P.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(P).buffer,done:!1})}cancel(P){if(!this._readableStream){this._error(P);return}this._readableStream.destroy(P)}_error(P){this._storedError=P,this._readCapability.resolve()}_setReadableStream(P){this._readableStream=P,P.on("readable",()=>{this._readCapability.resolve()}),P.on("end",()=>{P.destroy(),this._done=!0,this._readCapability.resolve()}),P.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d{constructor(P){this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const E=P.source;this._isStreamingSupported=!E.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const P=this._readableStream.read();return P===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=P.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(P).buffer,done:!1})}cancel(P){if(!this._readableStream){this._error(P);return}this._readableStream.destroy(P)}_error(P){this._storedError=P,this._readCapability.resolve()}_setReadableStream(P){this._readableStream=P,P.on("readable",()=>{this._readCapability.resolve()}),P.on("end",()=>{P.destroy(),this._done=!0,this._readCapability.resolve()}),P.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(A,P){return{protocol:A.protocol,auth:A.auth,host:A.hostname,port:A.port,path:A.path,method:"GET",headers:P}}class h extends x{constructor(P){super(P);const E=M=>{if(M.statusCode===404){const F=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F,this._headersCapability.reject(F);return}this._headersCapability.resolve(),this._setReadableStream(M);const V=F=>this._readableStream.headers[F.toLowerCase()],{allowRangeRequests:I,suggestedLength:R}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:V,isHttp:P.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=I,this._contentLength=R||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(V)};if(this._request=null,this._url.protocol==="http:"){const M=require$$5;this._request=M.request(l(this._url,P.httpHeaders),E)}else{const M=require$$5;this._request=M.request(l(this._url,P.httpHeaders),E)}this._request.on("error",M=>{this._storedError=M,this._headersCapability.reject(M)}),this._request.end()}}class y extends d{constructor(P,E,M){super(P),this._httpHeaders={};for(const I in P.httpHeaders){const R=P.httpHeaders[I];R!==void 0&&(this._httpHeaders[I]=R)}this._httpHeaders.Range=`bytes=${E}-${M-1}`;const V=I=>{if(I.statusCode===404){const R=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R;return}this._setReadableStream(I)};if(this._request=null,this._url.protocol==="http:"){const I=require$$5;this._request=I.request(l(this._url,this._httpHeaders),V)}else{const I=require$$5;this._request=I.request(l(this._url,this._httpHeaders),V)}this._request.on("error",I=>{this._storedError=I}),this._request.end()}}class v extends x{constructor(P){super(P);let E=decodeURIComponent(this._url.path);m.test(this._url.href)&&(E=E.replace(/^\//,""));const M=require$$5;M.lstat(E,(V,I)=>{if(V){V.code==="ENOENT"&&(V=new o.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=V,this._headersCapability.reject(V);return}this._contentLength=I.size,this._setReadableStream(M.createReadStream(E)),this._headersCapability.resolve()})}}class p extends d{constructor(P,E,M){super(P);let V=decodeURIComponent(this._url.path);m.test(this._url.href)&&(V=V.replace(/^\//,""));const I=require$$5;this._setReadableStream(I.createReadStream(V,{start:E,end:M-1}))}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var o=s(6),c=s(1);const m={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},f="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",x=["butt","round","square"],d=["miter","round","bevel"],l=function(I,R="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([I],{type:R}));const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let K=`data:${R};base64,`;for(let q=0,ee=I.length;q<ee;q+=3){const J=I[q]&255,me=I[q+1]&255,he=I[q+2]&255,fe=J>>2,ve=(J&3)<<4|me>>4,ae=q+1<ee?(me&15)<<2|he>>6:64,W=q+2<ee?he&63:64;K+=H[fe]+H[ve]+H[ae]+H[W]}return K},h=(function(){const I=new Uint8Array([137,80,78,71,13,10,26,10]),R=12,F=new Int32Array(256);for(let he=0;he<256;he++){let fe=he;for(let ve=0;ve<8;ve++)fe=fe&1?3988292384^fe>>1&2147483647:fe>>1&2147483647;F[he]=fe}function H(he,fe,ve){let ae=-1;for(let W=fe;W<ve;W++){const k=(ae^he[W])&255,C=F[k];ae=ae>>>8^C}return ae^-1}function K(he,fe,ve,ae){let W=ae;const k=fe.length;ve[W]=k>>24&255,ve[W+1]=k>>16&255,ve[W+2]=k>>8&255,ve[W+3]=k&255,W+=4,ve[W]=he.charCodeAt(0)&255,ve[W+1]=he.charCodeAt(1)&255,ve[W+2]=he.charCodeAt(2)&255,ve[W+3]=he.charCodeAt(3)&255,W+=4,ve.set(fe,W),W+=fe.length;const C=H(ve,ae+4,W);ve[W]=C>>24&255,ve[W+1]=C>>16&255,ve[W+2]=C>>8&255,ve[W+3]=C&255}function q(he,fe,ve){let ae=1,W=0;for(let k=fe;k<ve;++k)ae=(ae+(he[k]&255))%65521,W=(W+ae)%65521;return W<<16|ae}function ee(he){if(!c.isNodeJS)return J(he);try{const fe=parseInt(process.versions.node)>=8?he:Buffer.from(he),ve=require$$5.deflateSync(fe,{level:9});return ve instanceof Uint8Array?ve:new Uint8Array(ve)}catch(fe){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+fe)}return J(he)}function J(he){let fe=he.length;const ve=65535,ae=Math.ceil(fe/ve),W=new Uint8Array(2+fe+ae*5+4);let k=0;W[k++]=120,W[k++]=156;let C=0;for(;fe>ve;)W[k++]=0,W[k++]=255,W[k++]=255,W[k++]=0,W[k++]=0,W.set(he.subarray(C,C+ve),k),k+=ve,C+=ve,fe-=ve;W[k++]=1,W[k++]=fe&255,W[k++]=fe>>8&255,W[k++]=~fe&65535&255,W[k++]=(~fe&65535)>>8&255,W.set(he.subarray(C),k),k+=he.length-C;const T=q(he,0,he.length);return W[k++]=T>>24&255,W[k++]=T>>16&255,W[k++]=T>>8&255,W[k++]=T&255,W}function me(he,fe,ve,ae){const W=he.width,k=he.height;let C,T,w;const j=he.data;switch(fe){case c.ImageKind.GRAYSCALE_1BPP:T=0,C=1,w=W+7>>3;break;case c.ImageKind.RGB_24BPP:T=2,C=8,w=W*3;break;case c.ImageKind.RGBA_32BPP:T=6,C=8,w=W*4;break;default:throw new Error("invalid format")}const z=new Uint8Array((1+w)*k);let G=0,U=0;for(let $=0;$<k;++$)z[G++]=0,z.set(j.subarray(U,U+w),G),U+=w,G+=w;if(fe===c.ImageKind.GRAYSCALE_1BPP&&ae){G=0;for(let $=0;$<k;$++){G++;for(let Q=0;Q<w;Q++)z[G++]^=255}}const b=new Uint8Array([W>>24&255,W>>16&255,W>>8&255,W&255,k>>24&255,k>>16&255,k>>8&255,k&255,C,T,0,0,0]),D=ee(z),O=I.length+R*3+b.length+D.length,L=new Uint8Array(O);let B=0;return L.set(I,B),B+=I.length,K("IHDR",b,L,B),B+=R+b.length,K("IDATA",D,L,B),B+=R+D.length,K("IEND",new Uint8Array(0),L,B),l(L,"image/png",ve)}return function(fe,ve,ae){const W=fe.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:fe.kind;return me(fe,W,ve,ae)}})();class y{constructor(){this.fontSizeScale=1,this.fontWeight=m.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=m.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(R,F){this.x=R,this.y=F}}function v(I){let R=[];const F=[];for(const H of I){if(H.fn==="save"){R.push({fnId:92,fn:"group",items:[]}),F.push(R),R=R.at(-1).items;continue}H.fn==="restore"?R=F.pop():R.push(H)}return R}function p(I){if(Number.isInteger(I))return I.toString();const R=I.toFixed(10);let F=R.length-1;if(R[F]!=="0")return R;do F--;while(R[F]==="0");return R.substring(0,R[F]==="."?F:F+1)}function A(I){if(I[4]===0&&I[5]===0){if(I[1]===0&&I[2]===0)return I[0]===1&&I[3]===1?"":`scale(${p(I[0])} ${p(I[3])})`;if(I[0]===I[3]&&I[1]===-I[2]){const R=Math.acos(I[0])*180/Math.PI;return`rotate(${p(R)})`}}else if(I[0]===1&&I[1]===0&&I[2]===0&&I[3]===1)return`translate(${p(I[4])} ${p(I[5])})`;return`matrix(${p(I[0])} ${p(I[1])} ${p(I[2])} ${p(I[3])} ${p(I[4])} ${p(I[5])})`}let P=0,E=0,M=0;class V{constructor(R,F,H=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new y,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=R,this.objs=F,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!H,this._operatorIdMapping=[];for(const K in c.OPS)this._operatorIdMapping[c.OPS[K]]=K}getObject(R,F=null){return typeof R=="string"?R.startsWith("g_")?this.commonObjs.get(R):this.objs.get(R):F}save(){this.transformStack.push(this.transformMatrix);const R=this.current;this.extraStack.push(R),this.current=R.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(R){this.save(),this.executeOpTree(R),this.restore()}loadDependencies(R){const F=R.fnArray,H=R.argsArray;for(let K=0,q=F.length;K<q;K++)if(F[K]===c.OPS.dependency)for(const ee of H[K]){const J=ee.startsWith("g_")?this.commonObjs:this.objs,me=new Promise(he=>{J.get(ee,he)});this.current.dependencies.push(me)}return Promise.all(this.current.dependencies)}transform(R,F,H,K,q,ee){const J=[R,F,H,K,q,ee];this.transformMatrix=c.Util.transform(this.transformMatrix,J),this.tgrp=null}getSVG(R,F){this.viewport=F;const H=this._initialize(F);return this.loadDependencies(R).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(R)),H))}convertOpList(R){const F=this._operatorIdMapping,H=R.argsArray,K=R.fnArray,q=[];for(let ee=0,J=K.length;ee<J;ee++){const me=K[ee];q.push({fnId:me,fn:F[me],args:H[ee]})}return v(q)}executeOpTree(R){for(const F of R){const H=F.fn,K=F.fnId,q=F.args;switch(K|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(q);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(q[0],q[1]);break;case c.OPS.setFont:this.setFont(q);break;case c.OPS.showText:this.showText(q[0]);break;case c.OPS.showSpacedText:this.showText(q[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(q[0],q[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(q[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(q[0]);break;case c.OPS.setHScale:this.setHScale(q[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(q[0],q[1],q[2],q[3],q[4],q[5]);break;case c.OPS.setTextRise:this.setTextRise(q[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(q[0]);break;case c.OPS.setLineWidth:this.setLineWidth(q[0]);break;case c.OPS.setLineJoin:this.setLineJoin(q[0]);break;case c.OPS.setLineCap:this.setLineCap(q[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(q[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(q[0],q[1],q[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(q[0],q[1],q[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(q);break;case c.OPS.setFillColorN:this.setFillColorN(q);break;case c.OPS.shadingFill:this.shadingFill(q[0]);break;case c.OPS.setDash:this.setDash(q[0],q[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(q[0]);break;case c.OPS.setFlatness:this.setFlatness(q[0]);break;case c.OPS.setGState:this.setGState(q[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(q[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(q[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(q[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(q[0],q[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(q[0],q[1],q[2],q[3],q[4],q[5]);break;case c.OPS.constructPath:this.constructPath(q[0],q[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(F.items);break;default:(0,c.warn)(`Unimplemented operator ${H}`);break}}}setWordSpacing(R){this.current.wordSpacing=R}setCharSpacing(R){this.current.charSpacing=R}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(R,F,H,K,q,ee){const J=this.current;J.textMatrix=J.lineMatrix=[R,F,H,K,q,ee],J.textMatrixScale=Math.hypot(R,F),J.x=J.lineX=0,J.y=J.lineY=0,J.xcoords=[],J.ycoords=[],J.tspan=this.svgFactory.createElement("svg:tspan"),J.tspan.setAttributeNS(null,"font-family",J.fontFamily),J.tspan.setAttributeNS(null,"font-size",`${p(J.fontSize)}px`),J.tspan.setAttributeNS(null,"y",p(-J.y)),J.txtElement=this.svgFactory.createElement("svg:text"),J.txtElement.append(J.tspan)}beginText(){const R=this.current;R.x=R.lineX=0,R.y=R.lineY=0,R.textMatrix=c.IDENTITY_MATRIX,R.lineMatrix=c.IDENTITY_MATRIX,R.textMatrixScale=1,R.tspan=this.svgFactory.createElement("svg:tspan"),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtgrp=this.svgFactory.createElement("svg:g"),R.xcoords=[],R.ycoords=[]}moveText(R,F){const H=this.current;H.x=H.lineX+=R,H.y=H.lineY+=F,H.xcoords=[],H.ycoords=[],H.tspan=this.svgFactory.createElement("svg:tspan"),H.tspan.setAttributeNS(null,"font-family",H.fontFamily),H.tspan.setAttributeNS(null,"font-size",`${p(H.fontSize)}px`),H.tspan.setAttributeNS(null,"y",p(-H.y))}showText(R){const F=this.current,H=F.font,K=F.fontSize;if(K===0)return;const q=F.fontSizeScale,ee=F.charSpacing,J=F.wordSpacing,me=F.fontDirection,he=F.textHScale*me,fe=H.vertical,ve=fe?1:-1,ae=H.defaultVMetrics,W=K*F.fontMatrix[0];let k=0;for(const w of R){if(w===null){k+=me*J;continue}else if(typeof w=="number"){k+=ve*w*K/1e3;continue}const j=(w.isSpace?J:0)+ee,z=w.fontChar;let G,U,b=w.width;if(fe){let O;const L=w.vmetric||ae;O=w.vmetric?L[1]:b*.5,O=-O*W;const B=L[2]*W;b=L?-L[0]:b,G=O/q,U=(k+B)/q}else G=k/q,U=0;(w.isInFont||H.missingFile)&&(F.xcoords.push(F.x+G),fe&&F.ycoords.push(-F.y+U),F.tspan.textContent+=z);const D=fe?b*W-j*me:b*W+j*me;k+=D}F.tspan.setAttributeNS(null,"x",F.xcoords.map(p).join(" ")),fe?F.tspan.setAttributeNS(null,"y",F.ycoords.map(p).join(" ")):F.tspan.setAttributeNS(null,"y",p(-F.y)),fe?F.y-=k:F.x+=k*he,F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${p(F.fontSize)}px`),F.fontStyle!==m.fontStyle&&F.tspan.setAttributeNS(null,"font-style",F.fontStyle),F.fontWeight!==m.fontWeight&&F.tspan.setAttributeNS(null,"font-weight",F.fontWeight);const C=F.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(C===c.TextRenderingMode.FILL||C===c.TextRenderingMode.FILL_STROKE?(F.fillColor!==m.fillColor&&F.tspan.setAttributeNS(null,"fill",F.fillColor),F.fillAlpha<1&&F.tspan.setAttributeNS(null,"fill-opacity",F.fillAlpha)):F.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?F.tspan.setAttributeNS(null,"fill","transparent"):F.tspan.setAttributeNS(null,"fill","none"),C===c.TextRenderingMode.STROKE||C===c.TextRenderingMode.FILL_STROKE){const w=1/(F.textMatrixScale||1);this._setStrokeAttributes(F.tspan,w)}let T=F.textMatrix;F.textRise!==0&&(T=T.slice(),T[5]+=F.textRise),F.txtElement.setAttributeNS(null,"transform",`${A(T)} scale(${p(he)}, -1)`),F.txtElement.setAttributeNS(f,"xml:space","preserve"),F.txtElement.append(F.tspan),F.txtgrp.append(F.txtElement),this._ensureTransformGroup().append(F.txtElement)}setLeadingMoveText(R,F){this.setLeading(-F),this.moveText(R,F)}addFontStyle(R){if(!R.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const F=l(R.data,R.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${R.loadedName}"; src: url(${F}); }
`}setFont(R){const F=this.current,H=this.commonObjs.get(R[0]);let K=R[1];F.font=H,this.embedFonts&&!H.missingFile&&!this.embeddedFonts[H.loadedName]&&(this.addFontStyle(H),this.embeddedFonts[H.loadedName]=H),F.fontMatrix=H.fontMatrix||c.FONT_IDENTITY_MATRIX;let q="normal";H.black?q="900":H.bold&&(q="bold");const ee=H.italic?"italic":"normal";K<0?(K=-K,F.fontDirection=-1):F.fontDirection=1,F.fontSize=K,F.fontFamily=H.loadedName,F.fontWeight=q,F.fontStyle=ee,F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"y",p(-F.y)),F.xcoords=[],F.ycoords=[]}endText(){const R=this.current;R.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&R.txtElement?.hasChildNodes()&&(R.element=R.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(R){R>0&&(this.current.lineWidth=R)}setLineCap(R){this.current.lineCap=x[R]}setLineJoin(R){this.current.lineJoin=d[R]}setMiterLimit(R){this.current.miterLimit=R}setStrokeAlpha(R){this.current.strokeAlpha=R}setStrokeRGBColor(R,F,H){this.current.strokeColor=c.Util.makeHexColor(R,F,H)}setFillAlpha(R){this.current.fillAlpha=R}setFillRGBColor(R,F,H){this.current.fillColor=c.Util.makeHexColor(R,F,H),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(R){this.current.strokeColor=this._makeColorN_Pattern(R)}setFillColorN(R){this.current.fillColor=this._makeColorN_Pattern(R)}shadingFill(R){const{width:F,height:H}=this.viewport,K=c.Util.inverseTransform(this.transformMatrix),[q,ee,J,me]=c.Util.getAxialAlignedBoundingBox([0,0,F,H],K),he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x",q),he.setAttributeNS(null,"y",ee),he.setAttributeNS(null,"width",J-q),he.setAttributeNS(null,"height",me-ee),he.setAttributeNS(null,"fill",this._makeShadingPattern(R)),this.current.fillAlpha<1&&he.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(he)}_makeColorN_Pattern(R){return R[0]==="TilingPattern"?this._makeTilingPattern(R):this._makeShadingPattern(R)}_makeTilingPattern(R){const F=R[1],H=R[2],K=R[3]||c.IDENTITY_MATRIX,[q,ee,J,me]=R[4],he=R[5],fe=R[6],ve=R[7],ae=`shading${M++}`,[W,k,C,T]=c.Util.normalizeRect([...c.Util.applyTransform([q,ee],K),...c.Util.applyTransform([J,me],K)]),[w,j]=c.Util.singularValueDecompose2dScale(K),z=he*w,G=fe*j,U=this.svgFactory.createElement("svg:pattern");U.setAttributeNS(null,"id",ae),U.setAttributeNS(null,"patternUnits","userSpaceOnUse"),U.setAttributeNS(null,"width",z),U.setAttributeNS(null,"height",G),U.setAttributeNS(null,"x",`${W}`),U.setAttributeNS(null,"y",`${k}`);const b=this.svg,D=this.transformMatrix,O=this.current.fillColor,L=this.current.strokeColor,B=this.svgFactory.create(C-W,T-k);if(this.svg=B,this.transformMatrix=K,ve===2){const $=c.Util.makeHexColor(...F);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(H)),this.svg=b,this.transformMatrix=D,this.current.fillColor=O,this.current.strokeColor=L,U.append(B.childNodes[0]),this.defs.append(U),`url(#${ae})`}_makeShadingPattern(R){switch(typeof R=="string"&&(R=this.objs.get(R)),R[0]){case"RadialAxial":const F=`shading${M++}`,H=R[3];let K;switch(R[1]){case"axial":const q=R[4],ee=R[5];K=this.svgFactory.createElement("svg:linearGradient"),K.setAttributeNS(null,"id",F),K.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),K.setAttributeNS(null,"x1",q[0]),K.setAttributeNS(null,"y1",q[1]),K.setAttributeNS(null,"x2",ee[0]),K.setAttributeNS(null,"y2",ee[1]);break;case"radial":const J=R[4],me=R[5],he=R[6],fe=R[7];K=this.svgFactory.createElement("svg:radialGradient"),K.setAttributeNS(null,"id",F),K.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),K.setAttributeNS(null,"cx",me[0]),K.setAttributeNS(null,"cy",me[1]),K.setAttributeNS(null,"r",fe),K.setAttributeNS(null,"fx",J[0]),K.setAttributeNS(null,"fy",J[1]),K.setAttributeNS(null,"fr",he);break;default:throw new Error(`Unknown RadialAxial type: ${R[1]}`)}for(const q of H){const ee=this.svgFactory.createElement("svg:stop");ee.setAttributeNS(null,"offset",q[0]),ee.setAttributeNS(null,"stop-color",q[1]),K.append(ee)}return this.defs.append(K),`url(#${F})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${R[0]}`)}}setDash(R,F){this.current.dashArray=R,this.current.dashPhase=F}constructPath(R,F){const H=this.current;let K=H.x,q=H.y,ee=[],J=0;for(const me of R)switch(me|0){case c.OPS.rectangle:K=F[J++],q=F[J++];const he=F[J++],fe=F[J++],ve=K+he,ae=q+fe;ee.push("M",p(K),p(q),"L",p(ve),p(q),"L",p(ve),p(ae),"L",p(K),p(ae),"Z");break;case c.OPS.moveTo:K=F[J++],q=F[J++],ee.push("M",p(K),p(q));break;case c.OPS.lineTo:K=F[J++],q=F[J++],ee.push("L",p(K),p(q));break;case c.OPS.curveTo:K=F[J+4],q=F[J+5],ee.push("C",p(F[J]),p(F[J+1]),p(F[J+2]),p(F[J+3]),p(K),p(q)),J+=6;break;case c.OPS.curveTo2:ee.push("C",p(K),p(q),p(F[J]),p(F[J+1]),p(F[J+2]),p(F[J+3])),K=F[J+2],q=F[J+3],J+=4;break;case c.OPS.curveTo3:K=F[J+2],q=F[J+3],ee.push("C",p(F[J]),p(F[J+1]),p(K),p(q),p(K),p(q)),J+=4;break;case c.OPS.closePath:ee.push("Z");break}ee=ee.join(" "),H.path&&R.length>0&&R[0]!==c.OPS.rectangle&&R[0]!==c.OPS.moveTo?ee=H.path.getAttributeNS(null,"d")+ee:(H.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(H.path)),H.path.setAttributeNS(null,"d",ee),H.path.setAttributeNS(null,"fill","none"),H.element=H.path,H.setCurrentPoint(K,q)}endPath(){const R=this.current;if(R.path=null,!this.pendingClip)return;if(!R.element){this.pendingClip=null;return}const F=`clippath${P++}`,H=this.svgFactory.createElement("svg:clipPath");H.setAttributeNS(null,"id",F),H.setAttributeNS(null,"transform",A(this.transformMatrix));const K=R.element.cloneNode(!0);if(this.pendingClip==="evenodd"?K.setAttributeNS(null,"clip-rule","evenodd"):K.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,H.append(K),this.defs.append(H),R.activeClipUrl){R.clipGroup=null;for(const q of this.extraStack)q.clipGroup=null;H.setAttributeNS(null,"clip-path",R.activeClipUrl)}R.activeClipUrl=`url(#${F})`,this.tgrp=null}clip(R){this.pendingClip=R}closePath(){const R=this.current;if(R.path){const F=`${R.path.getAttributeNS(null,"d")}Z`;R.path.setAttributeNS(null,"d",F)}}setLeading(R){this.current.leading=-R}setTextRise(R){this.current.textRise=R}setTextRenderingMode(R){this.current.textRenderingMode=R}setHScale(R){this.current.textHScale=R/100}setRenderingIntent(R){}setFlatness(R){}setGState(R){for(const[F,H]of R)switch(F){case"LW":this.setLineWidth(H);break;case"LC":this.setLineCap(H);break;case"LJ":this.setLineJoin(H);break;case"ML":this.setMiterLimit(H);break;case"D":this.setDash(H[0],H[1]);break;case"RI":this.setRenderingIntent(H);break;case"FL":this.setFlatness(H);break;case"Font":this.setFont(H);break;case"CA":this.setStrokeAlpha(H);break;case"ca":this.setFillAlpha(H);break;default:(0,c.warn)(`Unimplemented graphic state operator ${F}`);break}}fill(){const R=this.current;R.element&&(R.element.setAttributeNS(null,"fill",R.fillColor),R.element.setAttributeNS(null,"fill-opacity",R.fillAlpha),this.endPath())}stroke(){const R=this.current;R.element&&(this._setStrokeAttributes(R.element),R.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(R,F=1){const H=this.current;let K=H.dashArray;F!==1&&K.length>0&&(K=K.map(function(q){return F*q})),R.setAttributeNS(null,"stroke",H.strokeColor),R.setAttributeNS(null,"stroke-opacity",H.strokeAlpha),R.setAttributeNS(null,"stroke-miterlimit",p(H.miterLimit)),R.setAttributeNS(null,"stroke-linecap",H.lineCap),R.setAttributeNS(null,"stroke-linejoin",H.lineJoin),R.setAttributeNS(null,"stroke-width",p(F*H.lineWidth)+"px"),R.setAttributeNS(null,"stroke-dasharray",K.map(p).join(" ")),R.setAttributeNS(null,"stroke-dashoffset",p(F*H.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width","1px"),R.setAttributeNS(null,"height","1px"),R.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(R)}paintImageXObject(R){const F=this.getObject(R);if(!F){(0,c.warn)(`Dependent image with object ID ${R} is not ready yet`);return}this.paintInlineImageXObject(F)}paintInlineImageXObject(R,F){const H=R.width,K=R.height,q=h(R,this.forceDataSchema,!!F),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width",p(H)),ee.setAttributeNS(null,"height",p(K)),this.current.element=ee,this.clip("nonzero");const J=this.svgFactory.createElement("svg:image");J.setAttributeNS(_,"xlink:href",q),J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y",p(-K)),J.setAttributeNS(null,"width",p(H)+"px"),J.setAttributeNS(null,"height",p(K)+"px"),J.setAttributeNS(null,"transform",`scale(${p(1/H)} ${p(-1/K)})`),F?F.append(J):this._ensureTransformGroup().append(J)}paintImageMaskXObject(R){const F=this.getObject(R.data,R);if(F.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const H=this.current,K=F.width,q=F.height,ee=H.fillColor;H.maskId=`mask${E++}`;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",H.maskId);const me=this.svgFactory.createElement("svg:rect");me.setAttributeNS(null,"x","0"),me.setAttributeNS(null,"y","0"),me.setAttributeNS(null,"width",p(K)),me.setAttributeNS(null,"height",p(q)),me.setAttributeNS(null,"fill",ee),me.setAttributeNS(null,"mask",`url(#${H.maskId})`),this.defs.append(J),this._ensureTransformGroup().append(me),this.paintInlineImageXObject(F,J)}paintFormXObjectBegin(R,F){if(Array.isArray(R)&&R.length===6&&this.transform(R[0],R[1],R[2],R[3],R[4],R[5]),F){const H=F[2]-F[0],K=F[3]-F[1],q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",F[0]),q.setAttributeNS(null,"y",F[1]),q.setAttributeNS(null,"width",p(H)),q.setAttributeNS(null,"height",p(K)),this.current.element=q,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(R){const F=this.svgFactory.create(R.width,R.height),H=this.svgFactory.createElement("svg:defs");F.append(H),this.defs=H;const K=this.svgFactory.createElement("svg:g");return K.setAttributeNS(null,"transform",A(R.transform)),F.append(K),this.svg=K,F}_ensureClipGroup(){if(!this.current.clipGroup){const R=this.svgFactory.createElement("svg:g");R.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(R),this.current.clipGroup=R}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}n.SVGGraphics=V}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class s{static textContent(c){const m=[],f={items:m,styles:Object.create(null)};function _(x){if(!x)return;let d=null;const l=x.name;if(l==="#text")d=x.value;else if(s.shouldBuildText(l))x?.attributes?.textContent?d=x.attributes.textContent:x.value&&(d=x.value);else return;if(d!==null&&m.push({str:d}),!!x.children)for(const h of x.children)_(h)}return _(c),f}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}n.XfaText=s}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=A,n.updateTextLayer=P;var o=s(1),c=s(6);const m=1e5,f=30,_=.8,x=new Map;function d(E,M){let V;if(M&&o.FeatureTest.isOffscreenCanvasSupported)V=new OffscreenCanvas(E,E).getContext("2d",{alpha:!1});else{const I=document.createElement("canvas");I.width=I.height=E,V=I.getContext("2d",{alpha:!1})}return V}function l(E,M){const V=x.get(E);if(V)return V;const I=d(f,M);I.font=`${f}px ${E}`;const R=I.measureText("");let F=R.fontBoundingBoxAscent,H=Math.abs(R.fontBoundingBoxDescent);if(F){const q=F/(F+H);return x.set(E,q),I.canvas.width=I.canvas.height=0,q}I.strokeStyle="red",I.clearRect(0,0,f,f),I.strokeText("g",0,0);let K=I.getImageData(0,0,f,f).data;H=0;for(let q=K.length-1-3;q>=0;q-=4)if(K[q]>0){H=Math.ceil(q/4/f);break}I.clearRect(0,0,f,f),I.strokeText("A",0,f),K=I.getImageData(0,0,f,f).data,F=0;for(let q=0,ee=K.length;q<ee;q+=4)if(K[q]>0){F=f-Math.floor(q/4/f);break}if(I.canvas.width=I.canvas.height=0,F){const q=F/(F+H);return x.set(E,q),q}return x.set(E,_),_}function h(E,M,V){const I=document.createElement("span"),R={angle:0,canvasWidth:0,hasText:M.str!=="",hasEOL:M.hasEOL,fontSize:0};E._textDivs.push(I);const F=o.Util.transform(E._transform,M.transform);let H=Math.atan2(F[1],F[0]);const K=V[M.fontName];K.vertical&&(H+=Math.PI/2);const q=Math.hypot(F[2],F[3]),ee=q*l(K.fontFamily,E._isOffscreenCanvasSupported);let J,me;H===0?(J=F[4],me=F[5]-ee):(J=F[4]+ee*Math.sin(H),me=F[5]-ee*Math.cos(H));const he="calc(var(--scale-factor)*",fe=I.style;E._container===E._rootContainer?(fe.left=`${(100*J/E._pageWidth).toFixed(2)}%`,fe.top=`${(100*me/E._pageHeight).toFixed(2)}%`):(fe.left=`${he}${J.toFixed(2)}px)`,fe.top=`${he}${me.toFixed(2)}px)`),fe.fontSize=`${he}${q.toFixed(2)}px)`,fe.fontFamily=K.fontFamily,R.fontSize=q,I.setAttribute("role","presentation"),I.textContent=M.str,I.dir=M.dir,E._fontInspectorEnabled&&(I.dataset.fontName=M.fontName),H!==0&&(R.angle=H*(180/Math.PI));let ve=!1;if(M.str.length>1)ve=!0;else if(M.str!==" "&&M.transform[0]!==M.transform[3]){const ae=Math.abs(M.transform[0]),W=Math.abs(M.transform[3]);ae!==W&&Math.max(ae,W)/Math.min(ae,W)>1.5&&(ve=!0)}ve&&(R.canvasWidth=K.vertical?M.height:M.width),E._textDivProperties.set(I,R),E._isReadableStream&&E._layoutText(I)}function y(E){const{div:M,scale:V,properties:I,ctx:R,prevFontSize:F,prevFontFamily:H}=E,{style:K}=M;let q="";if(I.canvasWidth!==0&&I.hasText){const{fontFamily:ee}=K,{canvasWidth:J,fontSize:me}=I;(F!==me||H!==ee)&&(R.font=`${me*V}px ${ee}`,E.prevFontSize=me,E.prevFontFamily=ee);const{width:he}=R.measureText(M.textContent);he>0&&(q=`scaleX(${J*V/he})`)}I.angle!==0&&(q=`rotate(${I.angle}deg) ${q}`),q.length>0&&(K.transform=q)}function v(E){if(E._canceled)return;const M=E._textDivs,V=E._capability;if(M.length>m){V.resolve();return}if(!E._isReadableStream)for(const R of M)E._layoutText(R);V.resolve()}class p{constructor({textContentSource:M,container:V,viewport:I,textDivs:R,textDivProperties:F,textContentItemsStr:H,isOffscreenCanvasSupported:K}){this._textContentSource=M,this._isReadableStream=M instanceof ReadableStream,this._container=this._rootContainer=V,this._textDivs=R||[],this._textContentItemsStr=H||[],this._isOffscreenCanvasSupported=K,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=F||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:I.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,K)};const{pageWidth:q,pageHeight:ee,pageX:J,pageY:me}=I.rawDims;this._transform=[1,0,0,-1,-J,me+ee],this._pageWidth=q,this._pageHeight=ee,(0,c.setLayerDimensions)(V,I),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(M,V){for(const I of M){if(I.str===void 0){if(I.type==="beginMarkedContentProps"||I.type==="beginMarkedContent"){const R=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),I.id!==null&&this._container.setAttribute("id",`${I.id}`),R.append(this._container)}else I.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(I.str),h(this,I,V)}}_layoutText(M){const V=this._layoutTextParams.properties=this._textDivProperties.get(M);if(this._layoutTextParams.div=M,y(this._layoutTextParams),V.hasText&&this._container.append(M),V.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),this._container.append(I)}}_render(){const M=new o.PromiseCapability;let V=Object.create(null);if(this._isReadableStream){const I=()=>{this._reader.read().then(({value:R,done:F})=>{if(F){M.resolve();return}Object.assign(V,R.styles),this._processItems(R.items,V),I()},M.reject)};this._reader=this._textContentSource.getReader(),I()}else if(this._textContentSource){const{items:I,styles:R}=this._textContentSource;this._processItems(I,R),M.resolve()}else throw new Error('No "textContentSource" parameter specified.');M.promise.then(()=>{V=null,v(this)},this._capability.reject)}}n.TextLayerRenderTask=p;function A(E){!E.textContentSource&&(E.textContent||E.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),E.textContentSource=E.textContent||E.textContentStream);const{container:M,viewport:V}=E,I=getComputedStyle(M),R=I.getPropertyValue("visibility"),F=parseFloat(I.getPropertyValue("--scale-factor"));R==="visible"&&(!F||Math.abs(F-V.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const H=new p(E);return H._render(),H}function P({container:E,viewport:M,textDivs:V,textDivProperties:I,isOffscreenCanvasSupported:R,mustRotate:F=!0,mustRescale:H=!0}){if(F&&(0,c.setLayerDimensions)(E,{rotation:M.rotation}),H){const K=d(0,R),ee={prevFontSize:null,prevFontFamily:null,div:null,scale:M.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:K};for(const J of V)ee.properties=I.get(J),ee.div=J,y(ee)}}}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var o=s(1),c=s(4),m=s(28),f=s(33),_=s(6),x=s(34);class d{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#o=new Map;#s=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:h,pageIndex:y,div:v,accessibilityManager:p,annotationLayer:A,viewport:P,l10n:E}){const M=[m.FreeTextEditor,f.InkEditor,x.StampEditor];if(!d._initialized){d._initialized=!0;for(const V of M)V.initialize(E)}h.registerEditorTypes(M),this.#i=h,this.pageIndex=y,this.div=v,this.#e=p,this.#n=A,this.viewport=P,this.#i.addLayer(this)}get isEmpty(){return this.#o.size===0}updateToolbar(h){this.#i.updateToolbar(h)}updateMode(h=this.#i.getMode()){this.#p(),h===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),h!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",h===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",h===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",h===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(h){if(!h&&this.#i.getMode()!==o.AnnotationEditorType.INK)return;if(!h){for(const v of this.#o.values())if(v.isEmpty()){v.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(h){this.#i.setEditingState(h)}addCommands(h){this.#i.addCommands(h)}enable(){this.div.style.pointerEvents="auto";const h=new Set;for(const v of this.#o.values())v.enableEditing(),v.annotationElementId&&h.add(v.annotationElementId);if(!this.#n)return;const y=this.#n.getEditableAnnotations();for(const v of y){if(v.hide(),this.#i.isDeletedAnnotationElement(v.data.id)||h.has(v.data.id))continue;const p=this.deserialize(v);p&&(this.addOrRebuild(p),p.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const h=new Set;for(const y of this.#o.values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){h.add(y.annotationElementId);continue}this.getEditableAnnotation(y.annotationElementId)?.show(),y.remove()}if(this.#n){const y=this.#n.getEditableAnnotations();for(const v of y){const{id:p}=v.data;h.has(p)||this.#i.isDeletedAnnotationElement(p)||v.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(h){return this.#n?.getEditableAnnotation(h)||null}setActiveEditor(h){this.#i.getActive()!==h&&this.#i.setActiveEditor(h)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#r)}attach(h){this.#o.set(h.id,h);const{annotationElementId:y}=h;y&&this.#i.isDeletedAnnotationElement(y)&&this.#i.removeDeletedAnnotationElement(h)}detach(h){this.#o.delete(h.id),this.#e?.removePointerInTextLayer(h.contentDiv),!this.#c&&h.annotationElementId&&this.#i.addDeletedAnnotationElement(h)}remove(h){this.detach(h),this.#i.removeEditor(h),h.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),h.div.remove(),h.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(h){h.parent!==this&&(h.annotationElementId&&(this.#i.addDeletedAnnotationElement(h.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(h),h.annotationElementId=null),this.attach(h),h.parent?.detach(h),h.setParent(this),h.div&&h.isAttachedToDOM&&(h.div.remove(),this.div.append(h.div)))}add(h){if(this.changeParent(h),this.#i.addEditor(h),this.attach(h),!h.isAttachedToDOM){const y=h.render();this.div.append(y),h.isAttachedToDOM=!0}h.fixAndSetPosition(),h.onceAdded(),this.#i.addToAnnotationStorage(h)}moveEditorInDOM(h){if(!h.isAttachedToDOM)return;const{activeElement:y}=document;h.div.contains(y)&&(h._focusEventsAllowed=!1,setTimeout(()=>{h.div.contains(document.activeElement)?h._focusEventsAllowed=!0:(h.div.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),y.focus())},0)),h._structTreeParentId=this.#e?.moveElementInDOM(this.div,h.div,h.contentDiv,!0)}addOrRebuild(h){h.needsToBeRebuilt()?h.rebuild():this.add(h)}addUndoableEditor(h){const y=()=>h._uiManager.rebuild(h),v=()=>{h.remove()};this.addCommands({cmd:y,undo:v,mustExec:!1})}getNextId(){return this.#i.getId()}#f(h){switch(this.#i.getMode()){case o.AnnotationEditorType.FREETEXT:return new m.FreeTextEditor(h);case o.AnnotationEditorType.INK:return new f.InkEditor(h);case o.AnnotationEditorType.STAMP:return new x.StampEditor(h)}return null}pasteEditor(h,y){this.#i.updateToolbar(h),this.#i.updateMode(h);const{offsetX:v,offsetY:p}=this.#h(),A=this.getNextId(),P=this.#f({parent:this,id:A,x:v,y:p,uiManager:this.#i,isCentered:!0,...y});P&&this.add(P)}deserialize(h){switch(h.annotationType??h.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return m.FreeTextEditor.deserialize(h,this,this.#i);case o.AnnotationEditorType.INK:return f.InkEditor.deserialize(h,this,this.#i);case o.AnnotationEditorType.STAMP:return x.StampEditor.deserialize(h,this,this.#i)}return null}#d(h,y){const v=this.getNextId(),p=this.#f({parent:this,id:v,x:h.offsetX,y:h.offsetY,uiManager:this.#i,isCentered:y});return p&&this.add(p),p}#h(){const{x:h,y,width:v,height:p}=this.div.getBoundingClientRect(),A=Math.max(0,h),P=Math.max(0,y),E=Math.min(window.innerWidth,h+v),M=Math.min(window.innerHeight,y+p),V=(A+E)/2-h,I=(P+M)/2-y,[R,F]=this.viewport.rotation%180===0?[V,I]:[I,V];return{offsetX:R,offsetY:F}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(h){this.#i.setSelected(h)}toggleSelected(h){this.#i.toggleSelected(h)}isSelected(h){return this.#i.isSelected(h)}unselect(h){this.#i.unselect(h)}pointerup(h){const{isMac:y}=o.FeatureTest.platform;if(!(h.button!==0||h.ctrlKey&&y)&&h.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===o.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(h,!1)}}pointerdown(h){if(this.#s){this.#s=!1;return}const{isMac:y}=o.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&y||h.target!==this.div)return;this.#s=!0;const v=this.#i.getActive();this.#t=!v||v.isEmpty()}findNewParent(h,y,v){const p=this.#i.findParent(y,v);return p===null||p===this?!1:(p.changeParent(h),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const h of this.#o.values())this.#e?.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove();this.div=null,this.#o.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const h of this.#o.values())h.isEmpty()&&h.remove();this.#l=!1}render({viewport:h}){this.viewport=h,(0,_.setLayerDimensions)(this.div,h);for(const y of this.#i.getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:h}){this.#i.commitOrRemove(),this.viewport=h,(0,_.setLayerDimensions)(this.div,{rotation:h.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:h,pageHeight:y}=this.viewport.rawDims;return[h,y]}}n.AnnotationEditorLayer=d}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var o=s(1),c=s(5),m=s(4),f=s(29);class _ extends m.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#a;#o="";#s=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const d=_.prototype,l=v=>v.isEmpty(),h=c.AnnotationEditorUIManager.TRANSLATE_SMALL,y=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],d.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],d.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],d._translateEmpty,{args:[-h,0],checker:l}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d._translateEmpty,{args:[-y,0],checker:l}],[["ArrowRight","mac+ArrowRight"],d._translateEmpty,{args:[h,0],checker:l}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d._translateEmpty,{args:[y,0],checker:l}],[["ArrowUp","mac+ArrowUp"],d._translateEmpty,{args:[0,-h],checker:l}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d._translateEmpty,{args:[0,-y],checker:l}],[["ArrowDown","mac+ArrowDown"],d._translateEmpty,{args:[0,h],checker:l}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d._translateEmpty,{args:[0,y],checker:l}]]))}static _type="freetext";constructor(d){super({...d,name:"freeTextEditor"}),this.#a=d.color||_._defaultColor||m.AnnotationEditor._defaultLineColor,this.#l=d.fontSize||_._defaultFontSize}static initialize(d){m.AnnotationEditor.initialize(d,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const l=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(l.getPropertyValue("--freetext-padding"))}static updateDefaultParams(d,l){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:_._defaultFontSize=l;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:_._defaultColor=l;break}}updateParams(d,l){switch(d){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(l);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(l);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,_._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,_._defaultColor||m.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#i(d){const l=y=>{this.editorDiv.style.fontSize=`calc(${y}px * var(--scale-factor))`,this.translate(0,-(y-this.#l)*this.parentScale),this.#l=y,this.#h()},h=this.#l;this.addCommands({cmd:()=>{l(d)},undo:()=>{l(h)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(d){const l=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=d},undo:()=>{this.#a=this.editorDiv.style.color=l},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(d,l){this._uiManager.translateSelectedEditors(d,l,!0)}getInitialTranslation(){const d=this.parentScale;return[-_._internalPadding*d,-(_._internalPadding+this.#l)*d]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),d.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const d=this.editorDiv.getElementsByTagName("div");if(d.length===0)return this.editorDiv.innerText;const l=[];for(const h of d)l.push(h.innerText.replace(/\r\n?|\n/,""));return l.join(`
`)}#h(){const[d,l]=this.parentDimensions;let h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{const{currentLayer:y,div:v}=this,p=v.style.display;v.style.display="hidden",y.div.append(this.div),h=v.getBoundingClientRect(),v.remove(),v.style.display=p}this.rotation%180===this.parentRotation%180?(this.width=h.width/d,this.height=h.height/l):(this.width=h.height/d,this.height=h.width/l),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const d=this.#o,l=this.#o=this.#d().trimEnd();if(d===l)return;const h=y=>{if(this.#o=y,!y){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{h(l)},undo:()=>{h(d)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(d){this.enterInEditMode()}keydown(d){d.target===this.div&&d.key==="Enter"&&(this.enterInEditMode(),d.preventDefault())}editorDivKeydown(d){_._keyboardManager.exec(this,d)}editorDivFocus(d){this.isEditing=!0}editorDivBlur(d){this.isEditing=!1}editorDivInput(d){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let d,l;this.width&&(d=this.x,l=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),m.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(y=>this.editorDiv?.setAttribute("aria-label",y)),m.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(y=>this.editorDiv?.setAttribute("default-content",y)),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${this.#l}px * var(--scale-factor))`,h.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[y,v]=this.parentDimensions;if(this.annotationElementId){const{position:p}=this.#c;let[A,P]=this.getInitialTranslation();[A,P]=this.pageTranslationToScreen(A,P);const[E,M]=this.pageDimensions,[V,I]=this.pageTranslation;let R,F;switch(this.rotation){case 0:R=d+(p[0]-V)/E,F=l+this.height-(p[1]-I)/M;break;case 90:R=d+(p[0]-V)/E,F=l-(p[1]-I)/M,[A,P]=[P,-A];break;case 180:R=d-this.width+(p[0]-V)/E,F=l-(p[1]-I)/M,[A,P]=[-A,-P];break;case 270:R=d+(p[0]-V-this.height*M)/E,F=l+(p[1]-I-this.width*E)/M,[A,P]=[-P,A];break}this.setAt(R*y,F*v,A,P)}else this.setAt(d*y,l*v,this.width*y,this.height*v);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#o)for(const d of this.#o.split(`
`)){const l=document.createElement("div");l.append(d?document.createTextNode(d):document.createElement("br")),this.editorDiv.append(l)}}get contentDiv(){return this.editorDiv}static deserialize(d,l,h){let y=null;if(d instanceof f.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:p,fontColor:A},rect:P,rotation:E,id:M},textContent:V,textPosition:I,parent:{page:{pageNumber:R}}}=d;if(!V||V.length===0)return null;y=d={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(A),fontSize:p,value:V.join(`
`),position:I,pageIndex:R-1,rect:P,rotation:E,id:M,deleted:!1}}const v=super.deserialize(d,l,h);return v.#l=d.fontSize,v.#a=o.Util.makeHexColor(...d.color),v.#o=d.value,v.annotationElementId=d.id||null,v.#c=y,v}serialize(d=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const l=_._internalPadding*this.parentScale,h=this.getRect(l,l),y=m.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),v={annotationType:o.AnnotationEditorType.FREETEXT,color:y,fontSize:this.#l,value:this.#o,pageIndex:this.pageIndex,rect:h,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return d?v:this.annotationElementId&&!this.#y(v)?null:(v.id=this.annotationElementId,v)}#y(d){const{value:l,fontSize:h,color:y,rect:v,pageIndex:p}=this.#c;return d.value!==l||d.fontSize!==h||d.rect.some((A,P)=>Math.abs(A-v[P])>=1)||d.color.some((A,P)=>A!==y[P])||d.pageIndex!==p}#g(d=!1){if(!this.annotationElementId)return;if(this.#h(),!d&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const l=_._internalPadding*this.parentScale;this.#c.rect=this.getRect(l,l)}}n.FreeTextEditor=_}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StampAnnotationElement=n.InkAnnotationElement=n.FreeTextAnnotationElement=n.AnnotationLayer=void 0;var o=s(1),c=s(6),m=s(3),f=s(30),_=s(31),x=s(32);const d=1e3,l=9,h=new WeakSet;function y(U){return{width:U[2]-U[0],height:U[3]-U[1]}}class v{static create(b){switch(b.data.annotationType){case o.AnnotationType.LINK:return new A(b);case o.AnnotationType.TEXT:return new P(b);case o.AnnotationType.WIDGET:switch(b.data.fieldType){case"Tx":return new M(b);case"Btn":return b.data.radioButton?new R(b):b.data.checkBox?new I(b):new F(b);case"Ch":return new H(b);case"Sig":return new V(b)}return new E(b);case o.AnnotationType.POPUP:return new K(b);case o.AnnotationType.FREETEXT:return new ee(b);case o.AnnotationType.LINE:return new J(b);case o.AnnotationType.SQUARE:return new me(b);case o.AnnotationType.CIRCLE:return new he(b);case o.AnnotationType.POLYLINE:return new fe(b);case o.AnnotationType.CARET:return new ae(b);case o.AnnotationType.INK:return new W(b);case o.AnnotationType.POLYGON:return new ve(b);case o.AnnotationType.HIGHLIGHT:return new k(b);case o.AnnotationType.UNDERLINE:return new C(b);case o.AnnotationType.SQUIGGLY:return new T(b);case o.AnnotationType.STRIKEOUT:return new w(b);case o.AnnotationType.STAMP:return new j(b);case o.AnnotationType.FILEATTACHMENT:return new z(b);default:return new p(b)}}}class p{#e=!1;constructor(b,{isRenderable:D=!1,ignoreBorder:O=!1,createQuadrilaterals:L=!1}={}){this.isRenderable=D,this.data=b.data,this.layer=b.layer,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this.parent=b.parent,D&&(this.container=this._createContainer(O)),L&&this._createQuadrilaterals()}static _hasPopupData({titleObj:b,contentsObj:D,richText:O}){return!!(b?.str||D?.str||O?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(b){const{data:D,parent:{page:O,viewport:L}}=this,B=document.createElement("section");B.setAttribute("data-annotation-id",D.id),this instanceof E||(B.tabIndex=d),B.style.zIndex=this.parent.zIndex++,this.data.popupRef&&B.setAttribute("aria-haspopup","dialog"),D.noRotate&&B.classList.add("norotate");const{pageWidth:$,pageHeight:Q,pageX:se,pageY:ye}=L.rawDims;if(!D.rect||this instanceof K){const{rotation:ge}=D;return!D.hasOwnCanvas&&ge!==0&&this.setRotation(ge,B),B}const{width:ne,height:re}=y(D.rect),ue=o.Util.normalizeRect([D.rect[0],O.view[3]-D.rect[1]+O.view[1],D.rect[2],O.view[3]-D.rect[3]+O.view[1]]);if(!b&&D.borderStyle.width>0){B.style.borderWidth=`${D.borderStyle.width}px`;const ge=D.borderStyle.horizontalCornerRadius,be=D.borderStyle.verticalCornerRadius;if(ge>0||be>0){const De=`calc(${ge}px * var(--scale-factor)) / calc(${be}px * var(--scale-factor))`;B.style.borderRadius=De}else if(this instanceof R){const De=`calc(${ne}px * var(--scale-factor)) / calc(${re}px * var(--scale-factor))`;B.style.borderRadius=De}switch(D.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:B.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:B.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:B.style.borderBottomStyle="solid";break}const Pe=D.borderColor||null;Pe?(this.#e=!0,B.style.borderColor=o.Util.makeHexColor(Pe[0]|0,Pe[1]|0,Pe[2]|0)):B.style.borderWidth=0}B.style.left=`${100*(ue[0]-se)/$}%`,B.style.top=`${100*(ue[1]-ye)/Q}%`;const{rotation:pe}=D;return D.hasOwnCanvas||pe===0?(B.style.width=`${100*ne/$}%`,B.style.height=`${100*re/Q}%`):this.setRotation(pe,B),B}setRotation(b,D=this.container){if(!this.data.rect)return;const{pageWidth:O,pageHeight:L}=this.parent.viewport.rawDims,{width:B,height:$}=y(this.data.rect);let Q,se;b%180===0?(Q=100*B/O,se=100*$/L):(Q=100*$/O,se=100*B/L),D.style.width=`${Q}%`,D.style.height=`${se}%`,D.setAttribute("data-main-rotation",(360-b)%360)}get _commonActions(){const b=(D,O,L)=>{const B=L.detail[D],$=B[0],Q=B.slice(1);L.target.style[O]=f.ColorConverters[`${$}_HTML`](Q),this.annotationStorage.setValue(this.data.id,{[O]:f.ColorConverters[`${$}_rgb`](Q)})};return(0,o.shadow)(this,"_commonActions",{display:D=>{const{display:O}=D.detail,L=O%2===1;this.container.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:L,noPrint:O===1||O===2})},print:D=>{this.annotationStorage.setValue(this.data.id,{noPrint:!D.detail.print})},hidden:D=>{const{hidden:O}=D.detail;this.container.style.visibility=O?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:O,noView:O})},focus:D=>{setTimeout(()=>D.target.focus({preventScroll:!1}),0)},userName:D=>{D.target.title=D.detail.userName},readonly:D=>{D.target.disabled=D.detail.readonly},required:D=>{this._setRequired(D.target,D.detail.required)},bgColor:D=>{b("bgColor","backgroundColor",D)},fillColor:D=>{b("fillColor","backgroundColor",D)},fgColor:D=>{b("fgColor","color",D)},textColor:D=>{b("textColor","color",D)},borderColor:D=>{b("borderColor","borderColor",D)},strokeColor:D=>{b("strokeColor","borderColor",D)},rotation:D=>{const O=D.detail.rotation;this.setRotation(O),this.annotationStorage.setValue(this.data.id,{rotation:O})}})}_dispatchEventFromSandbox(b,D){const O=this._commonActions;for(const L of Object.keys(D.detail))(b[L]||O[L])?.(D)}_setDefaultPropertiesFromJS(b){if(!this.enableScripting)return;const D=this.annotationStorage.getRawValue(this.data.id);if(!D)return;const O=this._commonActions;for(const[L,B]of Object.entries(D)){const $=O[L];if($){const Q={detail:{[L]:B},target:b};$(Q),delete D[L]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:b}=this.data;if(!b)return;const[D,O,L,B]=this.data.rect;if(b.length===1){const[,{x:be,y:Pe},{x:De,y:Ie}]=b[0];if(L===be&&B===Pe&&D===De&&O===Ie)return}const{style:$}=this.container;let Q;if(this.#e){const{borderColor:be,borderWidth:Pe}=$;$.borderWidth=0,Q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${be}" stroke-width="${Pe}">`],this.container.classList.add("hasBorder")}const se=L-D,ye=B-O,{svgFactory:ne}=this,re=ne.createElement("svg");re.classList.add("quadrilateralsContainer"),re.setAttribute("width",0),re.setAttribute("height",0);const ue=ne.createElement("defs");re.append(ue);const pe=ne.createElement("clipPath"),ge=`clippath_${this.data.id}`;pe.setAttribute("id",ge),pe.setAttribute("clipPathUnits","objectBoundingBox"),ue.append(pe);for(const[,{x:be,y:Pe},{x:De,y:Ie}]of b){const Ne=ne.createElement("rect"),je=(De-D)/se,at=(B-Pe)/ye,Qe=(be-De)/se,Tt=(Pe-Ie)/ye;Ne.setAttribute("x",je),Ne.setAttribute("y",at),Ne.setAttribute("width",Qe),Ne.setAttribute("height",Tt),pe.append(Ne),Q?.push(`<rect vector-effect="non-scaling-stroke" x="${je}" y="${at}" width="${Qe}" height="${Tt}"/>`)}this.#e&&(Q.push("</g></svg>')"),$.backgroundImage=Q.join("")),this.container.append(re),this.container.style.clipPath=`url(#${ge})`}_createPopup(){const{container:b,data:D}=this;b.setAttribute("aria-haspopup","dialog");const O=new K({data:{color:D.color,titleObj:D.titleObj,modificationDate:D.modificationDate,contentsObj:D.contentsObj,richText:D.richText,parentRect:D.rect,borderStyle:0,id:`popup_${D.id}`,rotation:D.rotation},parent:this.parent,elements:[this]});this.parent.div.append(O.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(b,D=null){const O=[];if(this._fieldObjects){const L=this._fieldObjects[b];if(L)for(const{page:B,id:$,exportValues:Q}of L){if(B===-1||$===D)continue;const se=typeof Q=="string"?Q:null,ye=document.querySelector(`[data-element-id="${$}"]`);if(ye&&!h.has(ye)){(0,o.warn)(`_getElementsByName - element not allowed: ${$}`);continue}O.push({id:$,exportValue:se,domElement:ye})}return O}for(const L of document.getElementsByName(b)){const{exportValue:B}=L,$=L.getAttribute("data-element-id");$!==D&&h.has(L)&&O.push({id:$,exportValue:B,domElement:L})}return O}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const b=this.getElementsToTriggerPopup();if(Array.isArray(b))for(const D of b)D.classList.add("highlightArea");else b.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:b,data:{id:D}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:b,editId:D})})}}class A extends p{constructor(b,D=null){super(b,{isRenderable:!0,ignoreBorder:!!D?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=b.data.isTooltipOnly}render(){const{data:b,linkService:D}=this,O=document.createElement("a");O.setAttribute("data-element-id",b.id);let L=!1;return b.url?(D.addLinkAttributes(O,b.url,b.newWindow),L=!0):b.action?(this._bindNamedAction(O,b.action),L=!0):b.attachment?(this._bindAttachment(O,b.attachment),L=!0):b.setOCGState?(this.#t(O,b.setOCGState),L=!0):b.dest?(this._bindLink(O,b.dest),L=!0):(b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(O,b),L=!0),b.resetForm?(this._bindResetFormAction(O,b.resetForm),L=!0):this.isTooltipOnly&&!L&&(this._bindLink(O,""),L=!0)),this.container.classList.add("linkAnnotation"),L&&this.container.append(O),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(b,D){b.href=this.linkService.getDestinationHash(D),b.onclick=()=>(D&&this.linkService.goToDestination(D),!1),(D||D==="")&&this.#e()}_bindNamedAction(b,D){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeNamedAction(D),!1),this.#e()}_bindAttachment(b,D){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,D.content,D.filename),!1),this.#e()}#t(b,D){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeSetOCGState(D),!1),this.#e()}_bindJSAction(b,D){b.href=this.linkService.getAnchorUrl("");const O=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const L of Object.keys(D.actions)){const B=O.get(L);B&&(b[B]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D.id,name:L}}),!1))}b.onclick||(b.onclick=()=>!1),this.#e()}_bindResetFormAction(b,D){const O=b.onclick;if(O||(b.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),O||(b.onclick=()=>!1);return}b.onclick=()=>{O?.();const{fields:L,refs:B,include:$}=D,Q=[];if(L.length!==0||B.length!==0){const ne=new Set(B);for(const re of L){const ue=this._fieldObjects[re]||[];for(const{id:pe}of ue)ne.add(pe)}for(const re of Object.values(this._fieldObjects))for(const ue of re)ne.has(ue.id)===$&&Q.push(ue)}else for(const ne of Object.values(this._fieldObjects))Q.push(...ne);const se=this.annotationStorage,ye=[];for(const ne of Q){const{id:re}=ne;switch(ye.push(re),ne.type){case"text":{const pe=ne.defaultValue||"";se.setValue(re,{value:pe});break}case"checkbox":case"radiobutton":{const pe=ne.defaultValue===ne.exportValues;se.setValue(re,{value:pe});break}case"combobox":case"listbox":{const pe=ne.defaultValue||"";se.setValue(re,{value:pe});break}default:continue}const ue=document.querySelector(`[data-element-id="${re}"]`);if(ue){if(!h.has(ue)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${re}`);continue}}else continue;ue.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ye,name:"ResetForm"}}),!1}}}class P extends p{constructor(b){super(b,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const b=document.createElement("img");return b.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",b.alt="[{{type}} Annotation]",b.dataset.l10nId="text_annotation_type",b.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(b),this.container}}class E extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(b){this.data.hasOwnCanvas&&(b.previousSibling?.nodeName==="CANVAS"&&(b.previousSibling.hidden=!0),b.hidden=!1)}_getKeyModifier(b){const{isWin:D,isMac:O}=o.FeatureTest.platform;return D&&b.ctrlKey||O&&b.metaKey}_setEventListener(b,D,O,L,B){O.includes("mouse")?b.addEventListener(O,$=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:B($),shift:$.shiftKey,modifier:this._getKeyModifier($)}})}):b.addEventListener(O,$=>{if(O==="blur"){if(!D.focused||!$.relatedTarget)return;D.focused=!1}else if(O==="focus"){if(D.focused)return;D.focused=!0}B&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:B($)}})})}_setEventListeners(b,D,O,L){for(const[B,$]of O)($==="Action"||this.data.actions?.[$])&&(($==="Focus"||$==="Blur")&&(D||={focused:!1}),this._setEventListener(b,D,B,$,L),$==="Focus"&&!this.data.actions?.Blur?this._setEventListener(b,D,"blur","Blur",null):$==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(b,D,"focus","Focus",null))}_setBackgroundColor(b){const D=this.data.backgroundColor||null;b.style.backgroundColor=D===null?"transparent":o.Util.makeHexColor(D[0],D[1],D[2])}_setTextStyle(b){const D=["left","center","right"],{fontColor:O}=this.data.defaultAppearanceData,L=this.data.defaultAppearanceData.fontSize||l,B=b.style;let $;const Q=2,se=ye=>Math.round(10*ye)/10;if(this.data.multiLine){const ye=Math.abs(this.data.rect[3]-this.data.rect[1]-Q),ne=Math.round(ye/(o.LINE_FACTOR*L))||1,re=ye/ne;$=Math.min(L,se(re/o.LINE_FACTOR))}else{const ye=Math.abs(this.data.rect[3]-this.data.rect[1]-Q);$=Math.min(L,se(ye/o.LINE_FACTOR))}B.fontSize=`calc(${$}px * var(--scale-factor))`,B.color=o.Util.makeHexColor(O[0],O[1],O[2]),this.data.textAlignment!==null&&(B.textAlign=D[this.data.textAlignment])}_setRequired(b,D){D?b.setAttribute("required",!0):b.removeAttribute("required"),b.setAttribute("aria-required",D)}}class M extends E{constructor(b){const D=b.renderForms||!b.data.hasAppearance&&!!b.data.fieldValue;super(b,{isRenderable:D})}setPropertyOnSiblings(b,D,O,L){const B=this.annotationStorage;for(const $ of this._getElementsByName(b.name,b.id))$.domElement&&($.domElement[D]=O),B.setValue($.id,{[L]:O})}render(){const b=this.annotationStorage,D=this.data.id;this.container.classList.add("textWidgetAnnotation");let O=null;if(this.renderForms){const L=b.getValue(D,{value:this.data.fieldValue});let B=L.value||"";const $=b.getValue(D,{charLimit:this.data.maxLen}).charLimit;$&&B.length>$&&(B=B.slice(0,$));let Q=L.formattedValue||this.data.textContent?.join(`
`)||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const se={userValue:B,formattedValue:Q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(O=document.createElement("textarea"),O.textContent=Q??B,this.data.doNotScroll&&(O.style.overflowY="hidden")):(O=document.createElement("input"),O.type="text",O.setAttribute("value",Q??B),this.data.doNotScroll&&(O.style.overflowX="hidden")),this.data.hasOwnCanvas&&(O.hidden=!0),h.add(O),O.setAttribute("data-element-id",D),O.disabled=this.data.readOnly,O.name=this.data.fieldName,O.tabIndex=d,this._setRequired(O,this.data.required),$&&(O.maxLength=$),O.addEventListener("input",ne=>{b.setValue(D,{value:ne.target.value}),this.setPropertyOnSiblings(O,"value",ne.target.value,"value"),se.formattedValue=null}),O.addEventListener("resetform",ne=>{const re=this.data.defaultFieldValue??"";O.value=se.userValue=re,se.formattedValue=null});let ye=ne=>{const{formattedValue:re}=se;re!=null&&(ne.target.value=re),ne.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){O.addEventListener("focus",re=>{if(se.focused)return;const{target:ue}=re;se.userValue&&(ue.value=se.userValue),se.lastCommittedValue=ue.value,se.commitKey=1,se.focused=!0}),O.addEventListener("updatefromsandbox",re=>{this.showElementAndHideCanvas(re.target);const ue={value(pe){se.userValue=pe.detail.value??"",b.setValue(D,{value:se.userValue.toString()}),pe.target.value=se.userValue},formattedValue(pe){const{formattedValue:ge}=pe.detail;se.formattedValue=ge,ge!=null&&pe.target!==document.activeElement&&(pe.target.value=ge),b.setValue(D,{formattedValue:ge})},selRange(pe){pe.target.setSelectionRange(...pe.detail.selRange)},charLimit:pe=>{const{charLimit:ge}=pe.detail,{target:be}=pe;if(ge===0){be.removeAttribute("maxLength");return}be.setAttribute("maxLength",ge);let Pe=se.userValue;!Pe||Pe.length<=ge||(Pe=Pe.slice(0,ge),be.value=se.userValue=Pe,b.setValue(D,{value:Pe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:Pe,willCommit:!0,commitKey:1,selStart:be.selectionStart,selEnd:be.selectionEnd}}))}};this._dispatchEventFromSandbox(ue,re)}),O.addEventListener("keydown",re=>{se.commitKey=1;let ue=-1;if(re.key==="Escape"?ue=0:re.key==="Enter"&&!this.data.multiLine?ue=2:re.key==="Tab"&&(se.commitKey=3),ue===-1)return;const{value:pe}=re.target;se.lastCommittedValue!==pe&&(se.lastCommittedValue=pe,se.userValue=pe,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:pe,willCommit:!0,commitKey:ue,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}}))});const ne=ye;ye=null,O.addEventListener("blur",re=>{if(!se.focused||!re.relatedTarget)return;se.focused=!1;const{value:ue}=re.target;se.userValue=ue,se.lastCommittedValue!==ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:ue,willCommit:!0,commitKey:se.commitKey,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}}),ne(re)}),this.data.actions?.Keystroke&&O.addEventListener("beforeinput",re=>{se.lastCommittedValue=null;const{data:ue,target:pe}=re,{value:ge,selectionStart:be,selectionEnd:Pe}=pe;let De=be,Ie=Pe;switch(re.inputType){case"deleteWordBackward":{const Ne=ge.substring(0,be).match(/\w*[^\w]*$/);Ne&&(De-=Ne[0].length);break}case"deleteWordForward":{const Ne=ge.substring(be).match(/^[^\w]*\w*/);Ne&&(Ie+=Ne[0].length);break}case"deleteContentBackward":be===Pe&&(De-=1);break;case"deleteContentForward":be===Pe&&(Ie+=1);break}re.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:ge,change:ue||"",willCommit:!1,selStart:De,selEnd:Ie}})}),this._setEventListeners(O,se,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],re=>re.target.value)}if(ye&&O.addEventListener("blur",ye),this.data.comb){const re=(this.data.rect[2]-this.data.rect[0])/$;O.classList.add("comb"),O.style.letterSpacing=`calc(${re}px * var(--scale-factor) - 1ch)`}}else O=document.createElement("div"),O.textContent=this.data.fieldValue,O.style.verticalAlign="middle",O.style.display="table-cell";return this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class V extends E{constructor(b){super(b,{isRenderable:!!b.data.hasOwnCanvas})}}class I extends E{constructor(b){super(b,{isRenderable:b.renderForms})}render(){const b=this.annotationStorage,D=this.data,O=D.id;let L=b.getValue(O,{value:D.exportValue===D.fieldValue}).value;typeof L=="string"&&(L=L!=="Off",b.setValue(O,{value:L})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const B=document.createElement("input");return h.add(B),B.setAttribute("data-element-id",O),B.disabled=D.readOnly,this._setRequired(B,this.data.required),B.type="checkbox",B.name=D.fieldName,L&&B.setAttribute("checked",!0),B.setAttribute("exportValue",D.exportValue),B.tabIndex=d,B.addEventListener("change",$=>{const{name:Q,checked:se}=$.target;for(const ye of this._getElementsByName(Q,O)){const ne=se&&ye.exportValue===D.exportValue;ye.domElement&&(ye.domElement.checked=ne),b.setValue(ye.id,{value:ne})}b.setValue(O,{value:se})}),B.addEventListener("resetform",$=>{const Q=D.defaultFieldValue||"Off";$.target.checked=Q===D.exportValue}),this.enableScripting&&this.hasJSActions&&(B.addEventListener("updatefromsandbox",$=>{const Q={value(se){se.target.checked=se.detail.value!=="Off",b.setValue(O,{value:se.target.checked})}};this._dispatchEventFromSandbox(Q,$)}),this._setEventListeners(B,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class R extends E{constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const b=this.annotationStorage,D=this.data,O=D.id;let L=b.getValue(O,{value:D.fieldValue===D.buttonValue}).value;typeof L=="string"&&(L=L!==D.buttonValue,b.setValue(O,{value:L}));const B=document.createElement("input");if(h.add(B),B.setAttribute("data-element-id",O),B.disabled=D.readOnly,this._setRequired(B,this.data.required),B.type="radio",B.name=D.fieldName,L&&B.setAttribute("checked",!0),B.tabIndex=d,B.addEventListener("change",$=>{const{name:Q,checked:se}=$.target;for(const ye of this._getElementsByName(Q,O))b.setValue(ye.id,{value:!1});b.setValue(O,{value:se})}),B.addEventListener("resetform",$=>{const Q=D.defaultFieldValue;$.target.checked=Q!=null&&Q===D.buttonValue}),this.enableScripting&&this.hasJSActions){const $=D.buttonValue;B.addEventListener("updatefromsandbox",Q=>{const se={value:ye=>{const ne=$===ye.detail.value;for(const re of this._getElementsByName(ye.target.name)){const ue=ne&&re.id===O;re.domElement&&(re.domElement.checked=ue),b.setValue(re.id,{value:ue})}}};this._dispatchEventFromSandbox(se,Q)}),this._setEventListeners(B,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class F extends A{constructor(b){super(b,{ignoreBorder:b.data.hasAppearance})}render(){const b=super.render();b.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(b.title=this.data.alternativeText);const D=b.lastChild;return this.enableScripting&&this.hasJSActions&&D&&(this._setDefaultPropertiesFromJS(D),D.addEventListener("updatefromsandbox",O=>{this._dispatchEventFromSandbox({},O)})),b}}class H extends E{constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const b=this.annotationStorage,D=this.data.id,O=b.getValue(D,{value:this.data.fieldValue}),L=document.createElement("select");h.add(L),L.setAttribute("data-element-id",D),L.disabled=this.data.readOnly,this._setRequired(L,this.data.required),L.name=this.data.fieldName,L.tabIndex=d;let B=this.data.combo&&this.data.options.length>0;this.data.combo||(L.size=this.data.options.length,this.data.multiSelect&&(L.multiple=!0)),L.addEventListener("resetform",ne=>{const re=this.data.defaultFieldValue;for(const ue of L.options)ue.selected=ue.value===re});for(const ne of this.data.options){const re=document.createElement("option");re.textContent=ne.displayValue,re.value=ne.exportValue,O.value.includes(ne.exportValue)&&(re.setAttribute("selected",!0),B=!1),L.append(re)}let $=null;if(B){const ne=document.createElement("option");ne.value=" ",ne.setAttribute("hidden",!0),ne.setAttribute("selected",!0),L.prepend(ne),$=()=>{ne.remove(),L.removeEventListener("input",$),$=null},L.addEventListener("input",$)}const Q=ne=>{const re=ne?"value":"textContent",{options:ue,multiple:pe}=L;return pe?Array.prototype.filter.call(ue,ge=>ge.selected).map(ge=>ge[re]):ue.selectedIndex===-1?null:ue[ue.selectedIndex][re]};let se=Q(!1);const ye=ne=>{const re=ne.target.options;return Array.prototype.map.call(re,ue=>({displayValue:ue.textContent,exportValue:ue.value}))};return this.enableScripting&&this.hasJSActions?(L.addEventListener("updatefromsandbox",ne=>{const re={value(ue){$?.();const pe=ue.detail.value,ge=new Set(Array.isArray(pe)?pe:[pe]);for(const be of L.options)be.selected=ge.has(be.value);b.setValue(D,{value:Q(!0)}),se=Q(!1)},multipleSelection(ue){L.multiple=!0},remove(ue){const pe=L.options,ge=ue.detail.remove;pe[ge].selected=!1,L.remove(ge),pe.length>0&&Array.prototype.findIndex.call(pe,Pe=>Pe.selected)===-1&&(pe[0].selected=!0),b.setValue(D,{value:Q(!0),items:ye(ue)}),se=Q(!1)},clear(ue){for(;L.length!==0;)L.remove(0);b.setValue(D,{value:null,items:[]}),se=Q(!1)},insert(ue){const{index:pe,displayValue:ge,exportValue:be}=ue.detail.insert,Pe=L.children[pe],De=document.createElement("option");De.textContent=ge,De.value=be,Pe?Pe.before(De):L.append(De),b.setValue(D,{value:Q(!0),items:ye(ue)}),se=Q(!1)},items(ue){const{items:pe}=ue.detail;for(;L.length!==0;)L.remove(0);for(const ge of pe){const{displayValue:be,exportValue:Pe}=ge,De=document.createElement("option");De.textContent=be,De.value=Pe,L.append(De)}L.options.length>0&&(L.options[0].selected=!0),b.setValue(D,{value:Q(!0),items:ye(ue)}),se=Q(!1)},indices(ue){const pe=new Set(ue.detail.indices);for(const ge of ue.target.options)ge.selected=pe.has(ge.index);b.setValue(D,{value:Q(!0)}),se=Q(!1)},editable(ue){ue.target.disabled=!ue.detail.editable}};this._dispatchEventFromSandbox(re,ne)}),L.addEventListener("input",ne=>{const re=Q(!0);b.setValue(D,{value:re}),ne.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:D,name:"Keystroke",value:se,changeEx:re,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(L,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ne=>ne.target.value)):L.addEventListener("input",function(ne){b.setValue(D,{value:Q(!0)})}),this.data.combo&&this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class K extends p{constructor(b){const{data:D,elements:O}=b;super(b,{isRenderable:p._hasPopupData(D)}),this.elements=O}render(){this.container.classList.add("popupAnnotation");const b=new q({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),D=[];for(const O of this.elements)O.popup=b,D.push(O.data.id),O.addHighlightArea();return this.container.setAttribute("aria-controls",D.map(O=>`${o.AnnotationPrefix}${O}`).join(",")),this.container}}class q{#e=null;#t=this.#u.bind(this);#n=this.#S.bind(this);#r=this.#A.bind(this);#a=this.#v.bind(this);#o=null;#s=null;#l=null;#c=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#y=null;#g=null;#m=!1;constructor({container:b,color:D,elements:O,titleObj:L,modificationDate:B,contentsObj:$,richText:Q,parent:se,rect:ye,parentRect:ne,open:re}){this.#s=b,this.#g=L,this.#l=$,this.#y=Q,this.#i=se,this.#o=D,this.#p=ye,this.#f=ne,this.#c=O;const ue=c.PDFDateString.toDateObject(B);ue&&(this.#e=se.l10n.get("annotation_date_string",{date:ue.toLocaleDateString(),time:ue.toLocaleTimeString()})),this.trigger=O.flatMap(pe=>pe.getElementsToTriggerPopup());for(const pe of this.trigger)pe.addEventListener("click",this.#a),pe.addEventListener("mouseenter",this.#r),pe.addEventListener("mouseleave",this.#n),pe.classList.add("popupTriggerArea");for(const pe of O)pe.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,re&&this.#v()}render(){if(this.#h)return;const{page:{view:b},viewport:{rawDims:{pageWidth:D,pageHeight:O,pageX:L,pageY:B}}}=this.#i,$=this.#h=document.createElement("div");if($.className="popup",this.#o){const Ne=$.style.outlineColor=o.Util.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${Ne} 30%, white)`:$.style.backgroundColor=o.Util.makeHexColor(...this.#o.map(at=>Math.floor(.7*(255-at)+at)))}const Q=document.createElement("span");Q.className="header";const se=document.createElement("h1");if(Q.append(se),{dir:se.dir,str:se.textContent}=this.#g,$.append(Q),this.#e){const Ne=document.createElement("span");Ne.classList.add("popupDate"),this.#e.then(je=>{Ne.textContent=je}),Q.append(Ne)}const ye=this.#l,ne=this.#y;if(ne?.str&&(!ye?.str||ye.str===ne.str))x.XfaLayer.render({xfaHtml:ne.html,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const Ne=this._formatContents(ye);$.append(Ne)}let re=!!this.#f,ue=re?this.#f:this.#p;for(const Ne of this.#c)if(!ue||o.Util.intersect(Ne.data.rect,ue)!==null){ue=Ne.data.rect,re=!0;break}const pe=o.Util.normalizeRect([ue[0],b[3]-ue[1]+b[1],ue[2],b[3]-ue[3]+b[1]]),be=re?ue[2]-ue[0]+5:0,Pe=pe[0]+be,De=pe[1],{style:Ie}=this.#s;Ie.left=`${100*(Pe-L)/D}%`,Ie.top=`${100*(De-B)/O}%`,this.#s.append($)}_formatContents({str:b,dir:D}){const O=document.createElement("p");O.classList.add("popupContent"),O.dir=D;const L=b.split(/(?:\r\n?|\n)/);for(let B=0,$=L.length;B<$;++B){const Q=L[B];O.append(document.createTextNode(Q)),B<$-1&&O.append(document.createElement("br"))}return O}#u(b){b.altKey||b.shiftKey||b.ctrlKey||b.metaKey||(b.key==="Enter"||b.key==="Escape"&&this.#d)&&this.#v()}#v(){this.#d=!this.#d,this.#d?(this.#A(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#t)):(this.#S(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#t))}#A(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#S(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#s.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class ee extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0}),this.textContent=b.data.textContent,this.textPosition=b.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const b=document.createElement("div");b.classList.add("annotationTextContent"),b.setAttribute("role","comment");for(const D of this.textContent){const O=document.createElement("span");O.textContent=D,b.append(O)}this.container.append(b)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}n.FreeTextAnnotationElement=ee;class J extends p{#e=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const b=this.data,{width:D,height:O}=y(b.rect),L=this.svgFactory.create(D,O,!0),B=this.#e=this.svgFactory.createElement("svg:line");return B.setAttribute("x1",b.rect[2]-b.lineCoordinates[0]),B.setAttribute("y1",b.rect[3]-b.lineCoordinates[1]),B.setAttribute("x2",b.rect[2]-b.lineCoordinates[2]),B.setAttribute("y2",b.rect[3]-b.lineCoordinates[3]),B.setAttribute("stroke-width",b.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),L.append(B),this.container.append(L),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class me extends p{#e=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const b=this.data,{width:D,height:O}=y(b.rect),L=this.svgFactory.create(D,O,!0),B=b.borderStyle.width,$=this.#e=this.svgFactory.createElement("svg:rect");return $.setAttribute("x",B/2),$.setAttribute("y",B/2),$.setAttribute("width",D-B),$.setAttribute("height",O-B),$.setAttribute("stroke-width",B||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),L.append($),this.container.append(L),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends p{#e=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const b=this.data,{width:D,height:O}=y(b.rect),L=this.svgFactory.create(D,O,!0),B=b.borderStyle.width,$=this.#e=this.svgFactory.createElement("svg:ellipse");return $.setAttribute("cx",D/2),$.setAttribute("cy",O/2),$.setAttribute("rx",D/2-B/2),$.setAttribute("ry",O/2-B/2),$.setAttribute("stroke-width",B||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),L.append($),this.container.append(L),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fe extends p{#e=null;constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const b=this.data,{width:D,height:O}=y(b.rect),L=this.svgFactory.create(D,O,!0);let B=[];for(const Q of b.vertices){const se=Q.x-b.rect[0],ye=b.rect[3]-Q.y;B.push(se+","+ye)}B=B.join(" ");const $=this.#e=this.svgFactory.createElement(this.svgElementName);return $.setAttribute("points",B),$.setAttribute("stroke-width",b.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),L.append($),this.container.append(L),!b.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ve extends fe{constructor(b){super(b),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ae extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class W extends p{#e=[];constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const b=this.data,{width:D,height:O}=y(b.rect),L=this.svgFactory.create(D,O,!0);for(const B of b.inkLists){let $=[];for(const se of B){const ye=se.x-b.rect[0],ne=b.rect[3]-se.y;$.push(`${ye},${ne}`)}$=$.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);this.#e.push(Q),Q.setAttribute("points",$),Q.setAttribute("stroke-width",b.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),!b.popupRef&&this.hasPopupData&&this._createPopup(),L.append(Q)}return this.container.append(L),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}n.InkAnnotationElement=W;class k extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class C extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class T extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class w extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class j extends p{constructor(b){super(b,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}n.StampAnnotationElement=j;class z extends p{#e=null;constructor(b){super(b,{isRenderable:!0});const{filename:D,content:O}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(D,!0),this.content=O,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:D,content:O})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:b,data:D}=this;let O;D.hasAppearance||D.fillAlpha===0?O=document.createElement("div"):(O=document.createElement("img"),O.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(D.name)?"paperclip":"pushpin"}.svg`,D.fillAlpha&&D.fillAlpha<1&&(O.style=`filter: opacity(${Math.round(D.fillAlpha*100)}%);`)),O.addEventListener("dblclick",this.#t.bind(this)),this.#e=O;const{isMac:L}=o.FeatureTest.platform;return b.addEventListener("keydown",B=>{B.key==="Enter"&&(L?B.metaKey:B.ctrlKey)&&this.#t()}),!D.popupRef&&this.hasPopupData?this._createPopup():O.classList.add("popupTriggerArea"),b.append(O),b}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class G{#e=null;#t=null;#n=new Map;constructor({div:b,accessibilityManager:D,annotationCanvasMap:O,l10n:L,page:B,viewport:$}){this.div=b,this.#e=D,this.#t=O,this.l10n=L,this.page=B,this.viewport=$,this.zIndex=0,this.l10n||=_.NullL10n}#r(b,D){const O=b.firstChild||b;O.id=`${o.AnnotationPrefix}${D}`,this.div.append(b),this.#e?.moveElementInDOM(this.div,b,O,!1)}async render(b){const{annotations:D}=b,O=this.div;(0,c.setLayerDimensions)(O,this.viewport);const L=new Map,B={data:null,layer:O,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:b.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:b.annotationStorage||new m.AnnotationStorage,enableScripting:b.enableScripting===!0,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,parent:this,elements:null};for(const $ of D){if($.noHTML)continue;const Q=$.annotationType===o.AnnotationType.POPUP;if(Q){const ne=L.get($.id);if(!ne)continue;B.elements=ne}else{const{width:ne,height:re}=y($.rect);if(ne<=0||re<=0)continue}B.data=$;const se=v.create(B);if(!se.isRenderable)continue;if(!Q&&$.popupRef){const ne=L.get($.popupRef);ne?ne.push(se):L.set($.popupRef,[se])}se.annotationEditorType>0&&this.#n.set(se.data.id,se);const ye=se.render();$.hidden&&(ye.style.visibility="hidden"),this.#r(ye,$.id)}this.#a(),await this.l10n.translate(O)}update({viewport:b}){const D=this.div;this.viewport=b,(0,c.setLayerDimensions)(D,{rotation:b.rotation}),this.#a(),D.hidden=!1}#a(){if(!this.#t)return;const b=this.div;for(const[D,O]of this.#t){const L=b.querySelector(`[data-annotation-id="${D}"]`);if(!L)continue;const{firstChild:B}=L;B?B.nodeName==="CANVAS"?B.replaceWith(O):B.before(O):L.append(O)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(b){return this.#n.get(b)}}n.AnnotationLayer=G}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function s(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}function o(m){return Math.max(0,Math.min(255,255*m))}class c{static CMYK_G([f,_,x,d]){return["G",1-Math.min(1,.3*f+.59*x+.11*_+d)]}static G_CMYK([f]){return["CMYK",0,0,0,1-f]}static G_RGB([f]){return["RGB",f,f,f]}static G_rgb([f]){return f=o(f),[f,f,f]}static G_HTML([f]){const _=s(f);return`#${_}${_}${_}`}static RGB_G([f,_,x]){return["G",.3*f+.59*_+.11*x]}static RGB_rgb(f){return f.map(o)}static RGB_HTML(f){return`#${f.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([f,_,x,d]){return["RGB",1-Math.min(1,f+d),1-Math.min(1,x+d),1-Math.min(1,_+d)]}static CMYK_rgb([f,_,x,d]){return[o(1-Math.min(1,f+d)),o(1-Math.min(1,x+d)),o(1-Math.min(1,_+d))]}static CMYK_HTML(f){const _=this.CMYK_RGB(f).slice(1);return this.RGB_HTML(_)}static RGB_CMYK([f,_,x]){const d=1-f,l=1-_,h=1-x,y=Math.min(d,l,h);return["CMYK",d,l,h,y]}}n.ColorConverters=c}),((i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.getL10nFallback=o;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function o(f,_){switch(f){case"find_match_count":f=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":f=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return s[f]||""}function c(f,_){return _?f.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(x,d)=>d in _?_[d]:"{{"+d+"}}"):f}const m={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(f,_=null,x=o(f,_)){return c(x,_)},async translate(f){}};n.NullL10n=m}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var o=s(25);class c{static setupStorage(f,_,x,d,l){const h=d.getValue(_,{value:null});switch(x.name){case"textarea":if(h.value!==null&&(f.textContent=h.value),l==="print")break;f.addEventListener("input",y=>{d.setValue(_,{value:y.target.value})});break;case"input":if(x.attributes.type==="radio"||x.attributes.type==="checkbox"){if(h.value===x.attributes.xfaOn?f.setAttribute("checked",!0):h.value===x.attributes.xfaOff&&f.removeAttribute("checked"),l==="print")break;f.addEventListener("change",y=>{d.setValue(_,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(h.value!==null&&f.setAttribute("value",h.value),l==="print")break;f.addEventListener("input",y=>{d.setValue(_,{value:y.target.value})})}break;case"select":if(h.value!==null){f.setAttribute("value",h.value);for(const y of x.children)y.attributes.value===h.value?y.attributes.selected=!0:y.attributes.hasOwnProperty("selected")&&delete y.attributes.selected}f.addEventListener("input",y=>{const v=y.target.options,p=v.selectedIndex===-1?"":v[v.selectedIndex].value;d.setValue(_,{value:p})});break}}static setAttributes({html:f,element:_,storage:x=null,intent:d,linkService:l}){const{attributes:h}=_,y=f instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${d}`);for(const[v,p]of Object.entries(h))if(p!=null)switch(v){case"class":p.length&&f.setAttribute(v,p.join(" "));break;case"dataId":break;case"id":f.setAttribute("data-element-id",p);break;case"style":Object.assign(f.style,p);break;case"textContent":f.textContent=p;break;default:(!y||v!=="href"&&v!=="newWindow")&&f.setAttribute(v,p)}y&&l.addLinkAttributes(f,h.href,h.newWindow),x&&h.dataId&&this.setupStorage(f,h.dataId,_,x)}static render(f){const _=f.annotationStorage,x=f.linkService,d=f.xfaHtml,l=f.intent||"display",h=document.createElement(d.name);d.attributes&&this.setAttributes({html:h,element:d,intent:l,linkService:x});const y=[[d,-1,h]],v=f.div;if(v.append(h),f.viewport){const A=`matrix(${f.viewport.transform.join(",")})`;v.style.transform=A}l!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");const p=[];for(;y.length>0;){const[A,P,E]=y.at(-1);if(P+1===A.children.length){y.pop();continue}const M=A.children[++y.at(-1)[1]];if(M===null)continue;const{name:V}=M;if(V==="#text"){const R=document.createTextNode(M.value);p.push(R),E.append(R);continue}const I=M?.attributes?.xmlns?document.createElementNS(M.attributes.xmlns,V):document.createElement(V);if(E.append(I),M.attributes&&this.setAttributes({html:I,element:M,storage:_,intent:l,linkService:x}),M.children&&M.children.length>0)y.push([M,-1,I]);else if(M.value){const R=document.createTextNode(M.value);o.XfaText.shouldBuildText(V)&&p.push(R),I.append(R)}}for(const A of v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(f){const _=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=_,f.div.hidden=!1}}n.XfaLayer=c}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0;var o=s(1),c=s(4),m=s(29),f=s(6),_=s(5);class x extends c.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#c=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(l){super({...l,name:"inkEditor"}),this.color=l.color||null,this.thickness=l.thickness||null,this.opacity=l.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(l){c.AnnotationEditor.initialize(l,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(l,h){switch(l){case o.AnnotationEditorParamsType.INK_THICKNESS:x._defaultThickness=h;break;case o.AnnotationEditorParamsType.INK_COLOR:x._defaultColor=h;break;case o.AnnotationEditorParamsType.INK_OPACITY:x._defaultOpacity=h/100;break}}updateParams(l,h){switch(l){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#y(h);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#g(h);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#m(h);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,x._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,x._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(x._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||x._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||x._defaultColor||c.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??x._defaultOpacity))]]}#y(l){const h=this.thickness;this.addCommands({cmd:()=>{this.thickness=l,this.#w()},undo:()=>{this.thickness=h,this.#w()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(l){const h=this.color;this.addCommands({cmd:()=>{this.color=l,this.#x()},undo:()=>{this.color=h,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(l){l/=100;const h=this.opacity;this.addCommands({cmd:()=>{this.opacity=l,this.#x()},undo:()=>{this.opacity=h,this.#x()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#k()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#w()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(l){!this.parent&&l?this._uiManager.removeShouldRescale(this):this.parent&&l===null&&this._uiManager.addShouldRescale(this),super.setParent(l)}onScaleChanging(){const[l,h]=this.parentDimensions,y=this.width*l,v=this.height*h;this.setDimensions(y,v)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#o))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:l,parentDimensions:[h,y]}=this;switch(l){case 90:return[0,y,y,h];case 180:return[h,y,h,y];case 270:return[h,0,y,h];default:return[0,0,h,y]}}#v(){const{ctx:l,color:h,opacity:y,thickness:v,parentScale:p,scaleFactor:A}=this;l.lineWidth=v*p/A,l.lineCap="round",l.lineJoin="round",l.miterLimit=10,l.strokeStyle=`${h}${(0,_.opacityToHex)(y)}`}#A(l,h){this.canvas.addEventListener("contextmenu",f.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#o),this.isEditing=!0,this.#i||(this.#i=!0,this.#E(),this.thickness||=x._defaultThickness,this.color||=x._defaultColor||c.AnnotationEditor._defaultLineColor,this.opacity??=x._defaultOpacity),this.currentPath.push([l,h]),this.#c=!1,this.#v(),this.#p=()=>{this.#L(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#S(l,h){const[y,v]=this.currentPath.at(-1);if(this.currentPath.length>1&&l===y&&h===v)return;const p=this.currentPath;let A=this.#s;if(p.push([l,h]),this.#c=!0,p.length<=2){A.moveTo(...p[0]),A.lineTo(l,h);return}p.length===3&&(this.#s=A=new Path2D,A.moveTo(...p[0])),this.#I(A,...p.at(-3),...p.at(-2),l,h)}#T(){if(this.currentPath.length===0)return;const l=this.currentPath.at(-1);this.#s.lineTo(...l)}#C(l,h){this.#p=null,l=Math.min(Math.max(l,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height),this.#S(l,h),this.#T();let y;if(this.currentPath.length!==1)y=this.#O();else{const E=[l,h];y=[[E,E.slice(),E.slice(),E]]}const v=this.#s,p=this.currentPath;this.currentPath=[],this.#s=new Path2D;const A=()=>{this.allRawPaths.push(p),this.paths.push(y),this.bezierPath2D.push(v),this.rebuild()},P=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#k()),this.#w())};this.addCommands({cmd:A,undo:P,mustExec:!0})}#L(){if(!this.#c)return;this.#c=!1;const l=Math.ceil(this.thickness*this.parentScale),h=this.currentPath.slice(-3),y=h.map(A=>A[0]),v=h.map(A=>A[1]);Math.min(...y)-l,Math.max(...y)+l,Math.min(...v)-l,Math.max(...v)+l;const{ctx:p}=this;p.save(),p.clearRect(0,0,this.canvas.width,this.canvas.height);for(const A of this.bezierPath2D)p.stroke(A);p.stroke(this.#s),p.restore()}#I(l,h,y,v,p,A,P){const E=(h+v)/2,M=(y+p)/2,V=(v+A)/2,I=(p+P)/2;l.bezierCurveTo(E+2*(v-E)/3,M+2*(p-M)/3,V+2*(v-V)/3,I+2*(p-I)/3,V,I)}#O(){const l=this.currentPath;if(l.length<=2)return[[l[0],l[0],l.at(-1),l.at(-1)]];const h=[];let y,[v,p]=l[0];for(y=1;y<l.length-2;y++){const[R,F]=l[y],[H,K]=l[y+1],q=(R+H)/2,ee=(F+K)/2,J=[v+2*(R-v)/3,p+2*(F-p)/3],me=[q+2*(R-q)/3,ee+2*(F-ee)/3];h.push([[v,p],J,me,[q,ee]]),[v,p]=[q,ee]}const[A,P]=l[y],[E,M]=l[y+1],V=[v+2*(A-v)/3,p+2*(P-p)/3],I=[E+2*(A-E)/3,M+2*(P-M)/3];return h.push([[v,p],V,I,[E,M]]),h}#x(){if(this.isEmpty()){this.#b();return}this.#v();const{canvas:l,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,l.width,l.height),this.#b();for(const y of this.bezierPath2D)h.stroke(y)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#w(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(l){this._focusEventsAllowed&&(super.focusin(l),this.enableEditMode())}canvasPointerdown(l){l.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),l.preventDefault(),l.type!=="mouse"&&this.div.focus(),this.#A(l.offsetX,l.offsetY))}canvasPointermove(l){l.preventDefault(),this.#S(l.offsetX,l.offsetY)}canvasPointerup(l){l.preventDefault(),this.#F(l)}canvasPointerleave(l){this.#F(l)}#F(l){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#o),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",f.noContextMenu)},10),this.#C(l.offsetX,l.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(l=>this.canvas?.setAttribute("aria-label",l)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#k(){this.#f=new ResizeObserver(l=>{const h=l[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let l,h;this.width&&(l=this.x,h=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(P=>this.div?.setAttribute("aria-label",P));const[y,v,p,A]=this.#u();if(this.setAt(y,v,0,0),this.setDims(p,A),this.#R(),this.width){const[P,E]=this.parentDimensions;this.setAspectRatio(this.width*P,this.height*E),this.setAt(l*P,h*E,this.width*P,this.height*E),this.#i=!0,this.#E(),this.setDims(this.width*P,this.height*E),this.#x(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#k(),this.div}#E(){if(!this.#i)return;const[l,h]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*l),this.canvas.height=Math.ceil(this.height*h),this.#b()}setDimensions(l,h){const y=Math.round(l),v=Math.round(h);if(this.#d===y&&this.#h===v)return;this.#d=y,this.#h=v,this.canvas.style.visibility="hidden";const[p,A]=this.parentDimensions;this.width=l/p,this.height=h/A,this.fixAndSetPosition(),this.#l&&this.#P(l,h),this.#E(),this.#x(),this.canvas.style.visibility="visible",this.fixDims()}#P(l,h){const y=this.#D(),v=(l-y)/this.#t,p=(h-y)/this.#e;this.scaleFactor=Math.min(v,p)}#b(){const l=this.#D()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+l,this.translationY*this.scaleFactor+l)}static#N(l){const h=new Path2D;for(let y=0,v=l.length;y<v;y++){const[p,A,P,E]=l[y];y===0&&h.moveTo(...p),h.bezierCurveTo(A[0],A[1],P[0],P[1],E[0],E[1])}return h}static#j(l,h,y){const[v,p,A,P]=h;switch(y){case 0:for(let E=0,M=l.length;E<M;E+=2)l[E]+=v,l[E+1]=P-l[E+1];break;case 90:for(let E=0,M=l.length;E<M;E+=2){const V=l[E];l[E]=l[E+1]+v,l[E+1]=V+p}break;case 180:for(let E=0,M=l.length;E<M;E+=2)l[E]=A-l[E],l[E+1]+=p;break;case 270:for(let E=0,M=l.length;E<M;E+=2){const V=l[E];l[E]=A-l[E+1],l[E+1]=P-V}break;default:throw new Error("Invalid rotation")}return l}static#V(l,h,y){const[v,p,A,P]=h;switch(y){case 0:for(let E=0,M=l.length;E<M;E+=2)l[E]-=v,l[E+1]=P-l[E+1];break;case 90:for(let E=0,M=l.length;E<M;E+=2){const V=l[E];l[E]=l[E+1]-p,l[E+1]=V-v}break;case 180:for(let E=0,M=l.length;E<M;E+=2)l[E]=A-l[E],l[E+1]-=p;break;case 270:for(let E=0,M=l.length;E<M;E+=2){const V=l[E];l[E]=P-l[E+1],l[E+1]=A-V}break;default:throw new Error("Invalid rotation")}return l}#B(l,h,y,v){const p=[],A=this.thickness/2,P=l*h+A,E=l*y+A;for(const M of this.paths){const V=[],I=[];for(let R=0,F=M.length;R<F;R++){const[H,K,q,ee]=M[R],J=l*H[0]+P,me=l*H[1]+E,he=l*K[0]+P,fe=l*K[1]+E,ve=l*q[0]+P,ae=l*q[1]+E,W=l*ee[0]+P,k=l*ee[1]+E;R===0&&(V.push(J,me),I.push(J,me)),V.push(he,fe,ve,ae,W,k),I.push(he,fe),R===F-1&&I.push(W,k)}p.push({bezier:x.#j(V,v,this.rotation),points:x.#j(I,v,this.rotation)})}return p}#M(){let l=1/0,h=-1/0,y=1/0,v=-1/0;for(const p of this.paths)for(const[A,P,E,M]of p){const V=o.Util.bezierBoundingBox(...A,...P,...E,...M);l=Math.min(l,V[0]),y=Math.min(y,V[1]),h=Math.max(h,V[2]),v=Math.max(v,V[3])}return[l,y,h,v]}#D(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#w(l=!1){if(this.isEmpty())return;if(!this.#l){this.#x();return}const h=this.#M(),y=this.#D();this.#t=Math.max(c.AnnotationEditor.MIN_SIZE,h[2]-h[0]),this.#e=Math.max(c.AnnotationEditor.MIN_SIZE,h[3]-h[1]);const v=Math.ceil(y+this.#t*this.scaleFactor),p=Math.ceil(y+this.#e*this.scaleFactor),[A,P]=this.parentDimensions;this.width=v/A,this.height=p/P,this.setAspectRatio(v,p);const E=this.translationX,M=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#E(),this.#x(),this.#d=v,this.#h=p,this.setDims(v,p);const V=l?y/this.scaleFactor/2:0;this.translate(E-this.translationX-V,M-this.translationY-V)}static deserialize(l,h,y){if(l instanceof m.InkAnnotationElement)return null;const v=super.deserialize(l,h,y);v.thickness=l.thickness,v.color=o.Util.makeHexColor(...l.color),v.opacity=l.opacity;const[p,A]=v.pageDimensions,P=v.width*p,E=v.height*A,M=v.parentScale,V=l.thickness/2;v.#l=!0,v.#d=Math.round(P),v.#h=Math.round(E);const{paths:I,rect:R,rotation:F}=l;for(let{bezier:K}of I){K=x.#V(K,R,F);const q=[];v.paths.push(q);let ee=M*(K[0]-V),J=M*(K[1]-V);for(let he=2,fe=K.length;he<fe;he+=6){const ve=M*(K[he]-V),ae=M*(K[he+1]-V),W=M*(K[he+2]-V),k=M*(K[he+3]-V),C=M*(K[he+4]-V),T=M*(K[he+5]-V);q.push([[ee,J],[ve,ae],[W,k],[C,T]]),ee=C,J=T}const me=this.#N(q);v.bezierPath2D.push(me)}const H=v.#M();return v.#t=Math.max(c.AnnotationEditor.MIN_SIZE,H[2]-H[0]),v.#e=Math.max(c.AnnotationEditor.MIN_SIZE,H[3]-H[1]),v.#P(P,E),v}serialize(){if(this.isEmpty())return null;const l=this.getRect(0,0),h=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:h,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,l),pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}n.InkEditor=x}),((i,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StampEditor=void 0;var o=s(1),c=s(4),m=s(6),f=s(29);class _ extends c.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#a=null;#o=null;#s=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(d){super({...d,name:"stampEditor"}),this.#r=d.bitmapUrl,this.#a=d.bitmapFile}static initialize(d){c.AnnotationEditor.initialize(d)}static get supportedTypes(){const d=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",d.map(l=>`image/${l}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(d){return this.supportedTypes.includes(d)}static paste(d,l){l.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:d.getAsFile()})}#f(d,l=!1){if(!d){this.remove();return}this.#e=d.bitmap,l||(this.#t=d.id,this.#c=d.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(l=>this.#f(l,!0)).finally(()=>this.#d());return}if(this.#r){const l=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(l).then(h=>this.#f(h)).finally(()=>this.#d());return}if(this.#a){const l=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(l).then(h=>this.#f(h)).finally(()=>this.#d());return}const d=document.createElement("input");d.type="file",d.accept=_.supportedTypesStr,this.#n=new Promise(l=>{d.addEventListener("change",async()=>{if(!d.files||d.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const h=await this._uiManager.imageManager.getFromFile(d.files[0]);this.#f(h)}l()}),d.addEventListener("cancel",()=>{this.remove(),l()})}).finally(()=>this.#d()),d.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let d,l;if(this.width&&(d=this.x,l=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[h,y]=this.parentDimensions;this.setAt(d*h,l*y,this.width*h,this.height*y)}return this.div}#p(){const{div:d}=this;let{width:l,height:h}=this.#e;const[y,v]=this.pageDimensions,p=.75;if(this.width)l=this.width*y,h=this.height*v;else if(l>p*y||h>p*v){const M=Math.min(p*y/l,p*v/h);l*=M,h*=M}const[A,P]=this.parentDimensions;this.setDims(l*A/y,h*P/v),this._uiManager.enableWaiting(!1);const E=this.#o=document.createElement("canvas");d.append(E),d.hidden=!1,this.#m(l,h),this.#v(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#y(d,l){const[h,y]=this.parentDimensions;this.width=d/h,this.height=l/y,this.setDims(d,l),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const v=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(d,l)},v)}#g(d,l){const{width:h,height:y}=this.#e;let v=h,p=y,A=this.#e;for(;v>2*d||p>2*l;){const P=v,E=p;v>2*d&&(v=v>=16384?Math.floor(v/2)-1:Math.ceil(v/2)),p>2*l&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2));const M=new OffscreenCanvas(v,p);M.getContext("2d").drawImage(A,0,0,P,E,0,0,v,p),A=M.transferToImageBitmap()}return A}#m(d,l){d=Math.ceil(d),l=Math.ceil(l);const h=this.#o;if(!h||h.width===d&&h.height===l)return;h.width=d,h.height=l;const y=this.#c?this.#e:this.#g(d,l),v=h.getContext("2d");v.filter=this._uiManager.hcmFilter,v.drawImage(y,0,0,y.width,y.height,0,0,d,l)}#u(d){if(d){if(this.#c){const y=this._uiManager.imageManager.getSvgUrl(this.#t);if(y)return y}const l=document.createElement("canvas");return{width:l.width,height:l.height}=this.#e,l.getContext("2d").drawImage(this.#e,0,0),l.toDataURL()}if(this.#c){const[l,h]=this.pageDimensions,y=Math.round(this.width*l*m.PixelsPerInch.PDF_TO_CSS_UNITS),v=Math.round(this.height*h*m.PixelsPerInch.PDF_TO_CSS_UNITS),p=new OffscreenCanvas(y,v);return p.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,y,v),p.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#s=new ResizeObserver(d=>{const l=d[0].contentRect;l.width&&l.height&&this.#y(l.width,l.height)}),this.#s.observe(this.div)}static deserialize(d,l,h){if(d instanceof f.StampAnnotationElement)return null;const y=super.deserialize(d,l,h),{rect:v,bitmapUrl:p,bitmapId:A,isSvg:P,accessibilityData:E}=d;A&&h.imageManager.isValidId(A)?y.#t=A:y.#r=p,y.#c=P;const[M,V]=y.pageDimensions;return y.width=(v[2]-v[0])/M,y.height=(v[3]-v[1])/V,E&&(y.altTextData=E),y}serialize(d=!1,l=null){if(this.isEmpty())return null;const h={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(d)return h.bitmapUrl=this.#u(!0),h.accessibilityData=this.altTextData,h;const{decorative:y,altText:v}=this.altTextData;if(!y&&v&&(h.accessibilityData={type:"Figure",alt:v}),l===null)return h;l.stamps||=new Map;const p=this.#c?(h.rect[2]-h.rect[0])*(h.rect[3]-h.rect[1]):null;if(!l.stamps.has(this.#t))l.stamps.set(this.#t,{area:p,serialized:h}),h.bitmap=this.#u(!1);else if(this.#c){const A=l.stamps.get(this.#t);p>A.area&&(A.area=p,A.serialized.bitmap.close(),A.serialized.bitmap=this.#u(!1))}return h}}n.StampEditor=_})],__webpack_module_cache__={};function __w_pdfjs_require__(i){var n=__webpack_module_cache__[i];if(n!==void 0)return n.exports;var s=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return n.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return m.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return f.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return _.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return n.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return x.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return n.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return n.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return n.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return s.version}});var n=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),m=__w_pdfjs_require__(27),f=__w_pdfjs_require__(5),_=__w_pdfjs_require__(29),x=__w_pdfjs_require__(14),d=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=pdf;var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=i,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var i=requireReactPropTypesSecret();function n(){}function s(){}return s.resetWarningCache=n,factoryWithThrowingShims=function(){function o(f,_,x,d,l,h){if(h!==i){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function c(){return o}var m={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:s,resetWarningCache:n};return m.PropTypes=m,m},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(i,n,s){if(s||arguments.length===2)for(var o=0,c=n.length,m;o<c;o++)(m||!(o in n))&&(m||(m=Array.prototype.slice.call(n,0,o)),m[o]=n[o]);return i.concat(m||Array.prototype.slice.call(n))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(i,n){var s={};return allEvents.forEach(function(o){var c=i[o];c&&(n?s[o]=(function(m){return c(m,n(o))}):s[o]=c)}),s}function makeCancellablePromise(i){var n=!1,s=new Promise(function(o,c){i.then(function(m){return!n&&o(m)}).catch(function(m){return!n&&c(m)})});return{promise:s,cancel:function(){n=!0}}}function r(i){var n,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(n=0;n<c;n++)i[n]&&(s=r(i[n]))&&(o&&(o+=" "),o+=s)}else for(s in i)i[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var i,n,s=0,o="",c=arguments.length;s<c;s++)(i=arguments[s])&&(n=r(i))&&(o&&(o+=" "),o+=n);return o}var prefix="Invariant failed";function invariant(i,n){if(!i)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var i=function(){};return warning_1=i,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports);var has=Object.prototype.hasOwnProperty;function find(i,n,s){for(s of i.keys())if(dequal(s,n))return s}function dequal(i,n){var s,o,c;if(i===n)return!0;if(i&&n&&(s=i.constructor)===n.constructor){if(s===Date)return i.getTime()===n.getTime();if(s===RegExp)return i.toString()===n.toString();if(s===Array){if((o=i.length)===n.length)for(;o--&&dequal(i[o],n[o]););return o===-1}if(s===Set){if(i.size!==n.size)return!1;for(o of i)if(c=o,c&&typeof c=="object"&&(c=find(n,c),!c)||!n.has(c))return!1;return!0}if(s===Map){if(i.size!==n.size)return!1;for(o of i)if(c=o[0],c&&typeof c=="object"&&(c=find(n,c),!c)||!dequal(o[1],n.get(c)))return!1;return!0}if(s===ArrayBuffer)i=new Uint8Array(i),n=new Uint8Array(n);else if(s===DataView){if((o=i.byteLength)===n.byteLength)for(;o--&&i.getInt8(o)===n.getInt8(o););return o===-1}if(ArrayBuffer.isView(i)){if((o=i.byteLength)===n.byteLength)for(;o--&&i[o]===n[o];);return o===-1}if(!s||typeof i=="object"){o=0;for(s in i)if(has.call(i,s)&&++o&&!has.call(n,s)||!(s in n)||!dequal(i[s],n[s]))return!1;return Object.keys(n).length===o}}return i!==i&&n!==n}const DocumentContext=reactExports.createContext(null);function Message({children:i,type:n}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${n}`},i)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(n){this.pdfDocument=n}setViewer(n){this.pdfViewer=n}setExternalLinkRel(n){this.externalLinkRel=n}setExternalLinkTarget(n){this.externalLinkTarget=n}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(n){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=n}get rotation(){return 0}set rotation(n){}goToDestination(n){return new Promise(s=>{invariant(this.pdfDocument),invariant(n),typeof n=="string"?this.pdfDocument.getDestination(n).then(s):Array.isArray(n)?s(n):n.then(s)}).then(s=>{invariant(Array.isArray(s));const o=s[0];new Promise(c=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(m=>{c(m)}).catch(()=>{invariant(!1)}):typeof o=="number"?c(o):invariant(!1)}).then(c=>{const m=c+1;invariant(this.pdfViewer),invariant(m>=1&&m<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:c,pageNumber:m})})})}navigateTo(n){this.goToDestination(n)}goToPage(n){const s=n-1;invariant(this.pdfViewer),invariant(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:n})}addLinkAttributes(n,s,o){n.href=s,n.rel=this.externalLinkRel||DEFAULT_LINK_REL,n.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(i){return typeof i<"u"}function isProvided(i){return isDefined(i)&&i!==null}function isString(i){return typeof i=="string"}function isArrayBuffer(i){return i instanceof ArrayBuffer}function isBlob(i){return invariant(isBrowser),i instanceof Blob}function isDataURI(i){return isString(i)&&/^data:/.test(i)}function dataURItoByteString(i){invariant(isDataURI(i));const[n="",s=""]=i.split(",");return n.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(i){i&&i.cancel&&i.cancel()}function makePageCallback(i,n){return Object.defineProperty(i,"width",{get(){return this.view[2]*n},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*n},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function isCancelException(i){return i.name==="RenderingCancelledException"}function loadFromFile(i){return new Promise((n,s)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return s(new Error("Error while reading a file."));n(o.result)},o.onerror=c=>{if(!c.target)return s(new Error("Error while reading a file."));const{error:m}=c.target;if(!m)return s(new Error("Error while reading a file."));switch(m.code){case m.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case m.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case m.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(i)})}function reducer(i,n){switch(n.type){case"RESOLVE":return{value:n.value,error:void 0};case"REJECT":return{value:!1,error:n.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const i={};return allEvents.forEach(n=>{i[n]=PropTypes.func}),i})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function i(n,s,o){const{[s]:c,pageNumber:m,pdf:f}=n;if(!isDefined(f))return null;if(isDefined(c)){if(typeof c!="number")return new Error(`\`${s}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:_}=f;if(c+1>_)return new Error(`Expected \`${s}\` to be less or equal to ${_-1}.`)}else if(!isDefined(m))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function i(n,s,o){const{[s]:c,pageIndex:m,pdf:f}=n;if(!isDefined(f))return null;if(isDefined(c)){if(typeof c!="number")return new Error(`\`${s}\` of type \`${typeof c}\` supplied to \`${o}\`, expected \`number\`.`);if(c<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:_}=f;if(c>_)return new Error(`Expected \`${s}\` to be less or equal to ${_}.`)}else if(!isDefined(m))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(i,n,s,o){function c(m){return m instanceof s?m:new s(function(f){f(m)})}return new(s||(s=Promise))(function(m,f){function _(l){try{d(o.next(l))}catch(h){f(h)}}function x(l){try{d(o.throw(l))}catch(h){f(h)}}function d(l){l.done?m(l.value):c(l.value).then(_,x)}d((o=o.apply(i,n||[])).next())})},__rest$1=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(i,n)=>{switch(n){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");i(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");i(s);break}}};function isParameterObject(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Document=reactExports.forwardRef(function i(n,s){var{children:o,className:c,error:m="Failed to load PDF file.",externalLinkRel:f,externalLinkTarget:_,file:x,inputRef:d,imageResourcesPath:l,loading:h="Loading PDF",noData:y="No PDF file specified.",onItemClick:v,onLoadError:p,onLoadProgress:A,onLoadSuccess:P,onPassword:E=defaultOnPassword,onSourceError:M,onSourceSuccess:V,options:I,renderMode:R,rotate:F}=n,H=__rest$1(n,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[K,q]=useResolver(),{value:ee,error:J}=K,[me,he]=useResolver(),{value:fe,error:ve}=me,ae=reactExports.useRef(new LinkService),W=reactExports.useRef([]),k=reactExports.useRef(),C=reactExports.useRef();reactExports.useEffect(()=>{x&&x!==k.current&&isParameterObject(x)&&(warning(!dequal(x,k.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),k.current=x)},[x]),reactExports.useEffect(()=>{I&&I!==C.current&&(warning(!dequal(I,C.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),C.current=I)},[I]);const T=reactExports.useRef({scrollPageIntoView:re=>{const{dest:ue,pageNumber:pe,pageIndex:ge=pe-1}=re;if(v){v({dest:ue,pageIndex:ge,pageNumber:pe});return}const be=W.current[ge];if(be){be.scrollIntoView();return}warning(!1,`An internal link leading to page ${pe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:ae,pages:W,viewer:T}),[]);function w(){V&&V()}function j(){J&&(warning(!1,J.toString()),M&&M(J))}function z(){q({type:"RESET"})}reactExports.useEffect(z,[x,q]);const G=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!x)return null;if(typeof x=="string")return isDataURI(x)?{data:dataURItoByteString(x)}:(displayCORSWarning(),{url:x});if(x instanceof PDFDataRangeTransport)return{range:x};if(isArrayBuffer(x))return{data:x};if(isBrowser&&isBlob(x))return{data:yield loadFromFile(x)};if(invariant(typeof x=="object"),invariant(isParameterObject(x)),"url"in x&&typeof x.url=="string"){if(isDataURI(x.url)){const{url:re}=x,ue=__rest$1(x,["url"]),pe=dataURItoByteString(re);return Object.assign({data:pe},ue)}displayCORSWarning()}return x}),[x]);reactExports.useEffect(()=>{const re=makeCancellablePromise(G());return re.promise.then(ue=>{q({type:"RESOLVE",value:ue})}).catch(ue=>{q({type:"REJECT",error:ue})}),()=>{cancelRunningTask(re)}},[G,q]),reactExports.useEffect(()=>{if(!(typeof ee>"u")){if(ee===!1){j();return}w()}},[ee]);function U(){fe&&(P&&P(fe),W.current=new Array(fe.numPages),ae.current.setDocument(fe))}function b(){ve&&(warning(!1,ve.toString()),p&&p(ve))}function D(){he({type:"RESET"})}reactExports.useEffect(D,[he,ee]);function O(){if(!ee)return;const re=Object.assign(Object.assign({},I),{isEvalSupported:!1}),ue=Object.assign(Object.assign({},ee),re),pe=pdfjs.getDocument(ue);A&&(pe.onProgress=A),E&&(pe.onPassword=E);const ge=pe;return ge.promise.then(be=>{he({type:"RESOLVE",value:be})}).catch(be=>{ge.destroyed||he({type:"REJECT",error:be})}),()=>{ge.destroy()}}reactExports.useEffect(O,[I,he,ee]),reactExports.useEffect(()=>{if(!(typeof fe>"u")){if(fe===!1){b();return}U()}},[fe]);function L(){ae.current.setViewer(T.current),ae.current.setExternalLinkRel(f),ae.current.setExternalLinkTarget(_)}reactExports.useEffect(L,[f,_]);function B(re,ue){W.current[re]=ue}function $(re){delete W.current[re]}const Q=reactExports.useMemo(()=>({imageResourcesPath:l,linkService:ae.current,onItemClick:v,pdf:fe,registerPage:B,renderMode:R,rotate:F,unregisterPage:$}),[l,v,fe,R,F]),se=reactExports.useMemo(()=>makeEventProps(H,()=>fe),[H,fe]);function ye(){return React.createElement(DocumentContext.Provider,{value:Q},o)}function ne(){return x?fe==null?React.createElement(Message,{type:"loading"},typeof h=="function"?h():h):fe===!1?React.createElement(Message,{type:"error"},typeof m=="function"?m():m):ye():React.createElement(Message,{type:"no-data"},typeof y=="function"?y():y)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",c),ref:d,style:{"--scale-factor":"1"}},se),ne())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var s=i.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(m){s.forEach(function(f){typeof f=="function"?f(m):f&&(f.current=m)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(i){return i in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(i){return"children"in i}function isStructTreeNodeWithOnlyContentChild(i){return isStructTreeNode(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function getRoleAttributes(i){const n={};if(isStructTreeNode(i)){const{role:s}=i,o=s.match(HEADING_PATTERN);if(o)n.role="heading",n["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const c=PDF_ROLE_TO_HTML_ROLE[s];c&&(n.role=c)}}return n}function getBaseAttributes(i){const n={};if(isStructTreeNode(i)){if(i.alt!==void 0&&(n["aria-label"]=i.alt),i.lang!==void 0&&(n.lang=i.lang),isStructTreeNodeWithOnlyContentChild(i)){const[s]=i.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},n),o)}}}else"id"in i&&(n["aria-owns"]=i.id);return n}function getAttributes(i){return i?Object.assign(Object.assign({},getRoleAttributes(i)),getBaseAttributes(i)):null}function StructTreeItem({className:i,node:n}){const s=reactExports.useMemo(()=>getAttributes(n),[n]),o=reactExports.useMemo(()=>!isStructTreeNode(n)||isStructTreeNodeWithOnlyContentChild(n)?null:n.children.map((c,m)=>React.createElement(StructTreeItem,{key:m,node:c})),[n]);return React.createElement("span",Object.assign({className:i},s),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const i=usePageContext();invariant(i);const{onGetStructTreeError:n,onGetStructTreeSuccess:s}=i,[o,c]=useResolver(),{value:m,error:f}=o,{customTextRenderer:_,page:x}=i;function d(){m&&s&&s(m)}function l(){f&&(warning(!1,f.toString()),n&&n(f))}function h(){c({type:"RESET"})}reactExports.useEffect(h,[c,x]);function y(){if(_||!x)return;const v=makeCancellablePromise(x.getStructTree()),p=v;return v.promise.then(A=>{c({type:"RESOLVE",value:A})}).catch(A=>{c({type:"REJECT",error:A})}),()=>cancelRunningTask(p)}return reactExports.useEffect(y,[_,x,c]),reactExports.useEffect(()=>{if(m!==void 0){if(m===!1){l();return}d()}},[m]),m?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:m}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(i){const n=usePageContext();invariant(n);const s=Object.assign(Object.assign({},n),i),{_className:o,canvasBackground:c,devicePixelRatio:m=getDevicePixelRatio(),onRenderError:f,onRenderSuccess:_,page:x,renderForms:d,renderTextLayer:l,rotate:h,scale:y}=s,{canvasRef:v}=i;invariant(x);const p=reactExports.useRef(null);function A(){x&&_&&_(makePageCallback(x,y))}function P(R){isCancelException(R)||(warning(!1,R.toString()),f&&f(R))}const E=reactExports.useMemo(()=>x.getViewport({scale:y*m,rotation:h}),[m,x,h,y]),M=reactExports.useMemo(()=>x.getViewport({scale:y,rotation:h}),[x,h,y]);function V(){if(!x)return;x.cleanup();const{current:R}=p;if(!R)return;R.width=E.width,R.height=E.height,R.style.width=`${Math.floor(M.width)}px`,R.style.height=`${Math.floor(M.height)}px`,R.style.visibility="hidden";const F={annotationMode:d?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:E};c&&(F.background=c);const H=x.render(F),K=H;return H.promise.then(()=>{R.style.visibility="",A()}).catch(P),()=>cancelRunningTask(K)}reactExports.useEffect(V,[c,p,m,x,d,E,M]);const I=reactExports.useCallback(()=>{const{current:R}=p;R&&(R.width=0,R.height=0)},[p]);return reactExports.useEffect(()=>I,[I]),React.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(v,p),style:{display:"block",userSelect:"none"}},l?React.createElement(StructTree,null):null)}function PageSVG(){const i=usePageContext();invariant(i);const{_className:n,onRenderSuccess:s,onRenderError:o,page:c,rotate:m,scale:f}=i;invariant(c);const[_,x]=useResolver(),{value:d,error:l}=_;function h(){c&&s&&s(makePageCallback(c,f))}function y(){l&&(isCancelException(l)||(warning(!1,l.toString()),o&&o(l)))}const v=reactExports.useMemo(()=>c.getViewport({scale:f,rotation:m}),[c,m,f]);function p(){x({type:"RESET"})}reactExports.useEffect(p,[c,x,v]);function A(){if(!c)return;const V=makeCancellablePromise(c.getOperatorList());return V.promise.then(I=>{new pdfjs.SVGGraphics(c.commonObjs,c.objs).getSVG(I,v).then(F=>{if(!(F instanceof SVGElement))throw new Error("getSVG returned unexpected result.");x({type:"RESOLVE",value:F})}).catch(F=>{x({type:"REJECT",error:F})})}).catch(I=>{x({type:"REJECT",error:I})}),()=>cancelRunningTask(V)}reactExports.useEffect(A,[c,x,v]),reactExports.useEffect(()=>{if(d!==void 0){if(d===!1){y();return}h()}},[d]);function P(V){if(!V||!d)return;V.firstElementChild||V.appendChild(d);const{width:I,height:R}=v;d.setAttribute("width",`${I}`),d.setAttribute("height",`${R}`)}const{width:E,height:M}=v;return React.createElement("div",{className:`${n}__svg`,ref:V=>P(V),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:E,height:M,userSelect:"none"}})}function isTextItem(i){return"str"in i}function TextLayer(){const i=usePageContext();invariant(i);const{customTextRenderer:n,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:c,onRenderTextLayerSuccess:m,page:f,pageIndex:_,pageNumber:x,rotate:d,scale:l}=i;invariant(f);const[h,y]=useResolver(),{value:v,error:p}=h,A=reactExports.useRef(null),P=reactExports.useRef();warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){v&&o&&o(v)}function M(){p&&(warning(!1,p.toString()),s&&s(p))}function V(){y({type:"RESET"})}reactExports.useEffect(V,[f,y]);function I(){if(!f)return;const J=makeCancellablePromise(f.getTextContent()),me=J;return J.promise.then(he=>{y({type:"RESOLVE",value:he})}).catch(he=>{y({type:"REJECT",error:he})}),()=>cancelRunningTask(me)}reactExports.useEffect(I,[f,y]),reactExports.useEffect(()=>{if(v!==void 0){if(v===!1){M();return}E()}},[v]);const R=reactExports.useCallback(()=>{m&&m()},[m]),F=reactExports.useCallback(J=>{warning(!1,J.toString()),c&&c(J)},[c]);function H(){const J=P.current;J&&J.classList.add("active")}function K(){const J=P.current;J&&J.classList.remove("active")}const q=reactExports.useMemo(()=>f.getViewport({scale:l,rotation:d}),[f,d,l]);function ee(){if(!f||!v)return;const{current:J}=A;if(!J)return;J.innerHTML="";const me=f.streamTextContent({includeMarkedContent:!0}),he={container:J,textContentSource:me,viewport:q},fe=pdfjs.renderTextLayer(he),ve=fe;return fe.promise.then(()=>{const ae=document.createElement("div");ae.className="endOfContent",J.append(ae),P.current=ae;const W=J.querySelectorAll('[role="presentation"]');if(n){let k=0;v.items.forEach((C,T)=>{if(!isTextItem(C))return;const w=W[k];if(!w)return;const j=n(Object.assign({pageIndex:_,pageNumber:x,itemIndex:T},C));w.innerHTML=j,k+=C.str&&C.hasEOL?2:1})}R()}).catch(F),()=>cancelRunningTask(ve)}return reactExports.useLayoutEffect(ee,[n,F,R,f,_,x,v,q]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:K,onMouseDown:H,ref:A})}function AnnotationLayer(){const i=useDocumentContext(),n=usePageContext();invariant(n);const s=Object.assign(Object.assign({},i),n),{imageResourcesPath:o,linkService:c,onGetAnnotationsError:m,onGetAnnotationsSuccess:f,onRenderAnnotationLayerError:_,onRenderAnnotationLayerSuccess:x,page:d,pdf:l,renderForms:h,rotate:y,scale:v=1}=s;invariant(l),invariant(d),invariant(c);const[p,A]=useResolver(),{value:P,error:E}=p,M=reactExports.useRef(null);warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function V(){P&&f&&f(P)}function I(){E&&(warning(!1,E.toString()),m&&m(E))}function R(){A({type:"RESET"})}reactExports.useEffect(R,[A,d]);function F(){if(!d)return;const J=makeCancellablePromise(d.getAnnotations()),me=J;return J.promise.then(he=>{A({type:"RESOLVE",value:he})}).catch(he=>{A({type:"REJECT",error:he})}),()=>{cancelRunningTask(me)}}reactExports.useEffect(F,[A,d,h]),reactExports.useEffect(()=>{if(P!==void 0){if(P===!1){I();return}V()}},[P]);function H(){x&&x()}function K(J){warning(!1,`${J}`),_&&_(J)}const q=reactExports.useMemo(()=>d.getViewport({scale:v,rotation:y}),[d,y,v]);function ee(){if(!l||!d||!c||!P)return;const{current:J}=M;if(!J)return;const me=q.clone({dontFlip:!0}),he={accessibilityManager:null,annotationCanvasMap:null,div:J,l10n:null,page:d,viewport:me},fe={annotations:P,annotationStorage:l.annotationStorage,div:J,downloadManager:null,imageResourcesPath:o,linkService:c,page:d,renderForms:h,viewport:me};J.innerHTML="";try{new pdfjs.AnnotationLayer(he).render(fe),H()}catch(ve){K(ve)}return()=>{}}return reactExports.useEffect(ee,[P,o,c,d,h,q]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:M})}var __rest=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};const defaultScale=1,Page=function i(n){const s=useDocumentContext(),o=Object.assign(Object.assign({},s),n),{_className:c="react-pdf__Page",_enableRegisterUnregisterPage:m=!0,canvasBackground:f,canvasRef:_,children:x,className:d,customRenderer:l,customTextRenderer:h,devicePixelRatio:y,error:v="Failed to load the page.",height:p,inputRef:A,loading:P="Loading page",noData:E="No page specified.",onGetAnnotationsError:M,onGetAnnotationsSuccess:V,onGetStructTreeError:I,onGetStructTreeSuccess:R,onGetTextError:F,onGetTextSuccess:H,onLoadError:K,onLoadSuccess:q,onRenderAnnotationLayerError:ee,onRenderAnnotationLayerSuccess:J,onRenderError:me,onRenderSuccess:he,onRenderTextLayerError:fe,onRenderTextLayerSuccess:ve,pageIndex:ae,pageNumber:W,pdf:k,registerPage:C,renderAnnotationLayer:T=!0,renderForms:w=!1,renderMode:j="canvas",renderTextLayer:z=!0,rotate:G,scale:U=defaultScale,unregisterPage:b,width:D}=o,O=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[L,B]=useResolver(),{value:$,error:Q}=L,se=reactExports.useRef(null);invariant(k);const ye=isProvided(W)?W-1:ae??null,ne=W??(isProvided(ae)?ae+1:null),re=G??($?$.rotate:null),ue=reactExports.useMemo(()=>{if(!$)return null;let $t=1;const pn=U??defaultScale;if(D||p){const xe=$.getViewport({scale:1,rotation:re});D?$t=D/xe.width:p&&($t=p/xe.height)}return pn*$t},[p,$,re,U,D]);function pe(){return()=>{isProvided(ye)&&m&&b&&b(ye)}}reactExports.useEffect(pe,[m,k,ye,b]);function ge(){if(q){if(!$||!ue)return;q(makePageCallback($,ue))}if(m&&C){if(!isProvided(ye)||!se.current)return;C(ye,se.current)}}function be(){Q&&(warning(!1,Q.toString()),K&&K(Q))}function Pe(){B({type:"RESET"})}reactExports.useEffect(Pe,[B,k,ye]);function De(){if(!k||!ne)return;const $t=makeCancellablePromise(k.getPage(ne)),pn=$t;return $t.promise.then(xe=>{B({type:"RESOLVE",value:xe})}).catch(xe=>{B({type:"REJECT",error:xe})}),()=>cancelRunningTask(pn)}reactExports.useEffect(De,[B,k,ye,ne,C]),reactExports.useEffect(()=>{if($!==void 0){if($===!1){be();return}ge()}},[$,ue]);const Ie=reactExports.useMemo(()=>$&&isProvided(ye)&&ne&&isProvided(re)&&isProvided(ue)?{_className:c,canvasBackground:f,customTextRenderer:h,devicePixelRatio:y,onGetAnnotationsError:M,onGetAnnotationsSuccess:V,onGetStructTreeError:I,onGetStructTreeSuccess:R,onGetTextError:F,onGetTextSuccess:H,onRenderAnnotationLayerError:ee,onRenderAnnotationLayerSuccess:J,onRenderError:me,onRenderSuccess:he,onRenderTextLayerError:fe,onRenderTextLayerSuccess:ve,page:$,pageIndex:ye,pageNumber:ne,renderForms:w,renderTextLayer:z,rotate:re,scale:ue}:null,[c,f,h,y,M,V,I,R,F,H,ee,J,me,he,fe,ve,$,ye,ne,w,z,re,ue]),Ne=reactExports.useMemo(()=>makeEventProps(O,()=>$&&(ue?makePageCallback($,ue):void 0)),[O,$,ue]),je=`${ye}@${ue}/${re}`,at=`${ye}/${re}`;function Qe(){switch(j){case"custom":return invariant(l),React.createElement(l,{key:`${je}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${at}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${je}_canvas`,canvasRef:_})}}function Tt(){return z?React.createElement(TextLayer,{key:`${je}_text`}):null}function nt(){return T?React.createElement(AnnotationLayer,{key:`${je}_annotations`}):null}function dt(){return React.createElement(PageContext.Provider,{value:Ie},Qe(),Tt(),nt(),x)}function Vt(){return ne?k===null||$===void 0||$===null?React.createElement(Message,{type:"loading"},typeof P=="function"?P():P):k===!1||$===!1?React.createElement(Message,{type:"error"},typeof v=="function"?v():v):dt():React.createElement(Message,{type:"no-data"},typeof E=="function"?E():E)}return React.createElement("div",Object.assign({className:clsx(c,d),"data-page-number":ne,ref:mergeRefs(A,se),style:{"--scale-factor":`${ue}`,backgroundColor:f||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ne),Vt())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;const PDF_STYLES=`
.react-pdf__Page__canvas {
  display: block;
  user-select: none;
  pointer-events: none;
  width: 100% !important; 
  height: auto !important;
}
.react-pdf__Page__textContent, 
.react-pdf__Page__annotations {
  display: none !important;
}
.pdf-container::-webkit-scrollbar {
  display: none;
}
.pdf-container {
  scrollbar-width: none;
}
`,GlassButton=({onClick:i,disabled:n,children:s,className:o="",title:c})=>jsxRuntimeExports.jsx("button",{onClick:i,disabled:n,title:c,className:`p-2 lg:p-3 rounded-full bg-white/60 backdrop-blur-md border border-white/50 shadow-sm text-neutral-700 hover:bg-white hover:scale-105 hover:shadow-md active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center z-50 ${o}`,children:s}),VISUAL_PADDING=50,SmartPage=({pageNumber:i,width:n,targetScale:s,direction:o})=>{const[c,m]=reactExports.useState("A"),[f,_]=reactExports.useState({page:i,scale:s}),[x,d]=reactExports.useState({page:i,scale:s}),l=reactExports.useRef(!1);reactExports.useEffect(()=>{const v=c==="A"?f:x;(i!==v.page||s!==v.scale)&&(l.current=!0,c==="A"?d({page:i,scale:s}):_({page:i,scale:s}))},[i,s,c,f,x]);const h=reactExports.useCallback(()=>{l.current&&(c==="A"&&x.page===i&&x.scale===s?(m("B"),l.current=!1):c==="B"&&f.page===i&&f.scale===s&&(m("A"),l.current=!1))},[c,f,x,i,s]),y=v=>{const p=c===v,A=f.page!==x.page,P={position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",transition:"opacity 0.5s ease-out, transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)",willChange:"opacity, transform",zIndex:p?10:1,opacity:p?1:0};return p?{...P,transform:"translateX(0px)"}:A?{...P,transform:`translateX(${o===1?"50px":"-50px"})`}:{...P,transform:"translateX(0px)"}};return jsxRuntimeExports.jsxs("div",{className:"relative bg-white shadow-sm overflow-hidden",style:{width:n,minHeight:n*1.414},children:[jsxRuntimeExports.jsx("div",{style:y("A"),children:jsxRuntimeExports.jsx(Page,{pageNumber:f.page,width:n,scale:f.scale,onRenderSuccess:h,loading:null,renderTextLayer:!1,renderAnnotationLayer:!1})}),jsxRuntimeExports.jsx("div",{style:y("B"),children:jsxRuntimeExports.jsx(Page,{pageNumber:x.page,width:n,scale:x.scale,onRenderSuccess:h,loading:null,renderTextLayer:!1,renderAnnotationLayer:!1})})]})},PDFViewer=({pdfUrl:i,fileName:n})=>{reactExports.useEffect(()=>{const L=document.createElement("style");return L.innerText=PDF_STYLES,document.head.appendChild(L),()=>{document.head.removeChild(L)}},[]);const s=reactExports.useMemo(()=>{if(n)return n;try{const L=i.split("?")[0],B=L.substring(L.lastIndexOf("/")+1);return decodeURIComponent(B)||"Document.pdf"}catch{return"Document.pdf"}},[n,i]),o=reactExports.useRef(null),[c,m]=reactExports.useState(null),[f,_]=reactExports.useState(0),[x,d]=reactExports.useState({width:0,height:0}),l=()=>typeof window<"u"?window.devicePixelRatio:1,[h,y]=reactExports.useState(1),[v,p]=reactExports.useState(1),[A,P]=reactExports.useState({x:0,y:0}),[E,M]=reactExports.useState(!1),[V,I]=reactExports.useState(!1),[R,F]=reactExports.useState(!0),[H,K]=reactExports.useState(!1),[q,ee]=reactExports.useState(!1),[J,me]=reactExports.useState(1),he=reactExports.useRef({x:0,y:0}),fe=reactExports.useRef({x:0,y:0}),ve=reactExports.useRef(null);reactExports.useEffect(()=>{const L=()=>{const B=window.innerWidth<768;K(B),B?(F(!1),p(Math.min(window.devicePixelRatio,1.5))):p(window.devicePixelRatio*2)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),reactExports.useEffect(()=>{if(!o.current)return;const L=()=>{o.current&&d({width:o.current.offsetWidth,height:o.current.offsetHeight})},B=new ResizeObserver(L);return B.observe(o.current),L(),()=>B.disconnect()},[E]),reactExports.useEffect(()=>{fe.current=A},[A]);const ae=reactExports.useMemo(()=>{if(!c)return[];if(H)return[f+1];if(f===0)return[1];const L=f*2,B=L+1;return B<=c?[L,B]:[L]},[f,c,H]),W=reactExports.useMemo(()=>{const L=x.width||800,B=x.height||600,Q=L-(E?0:32),ne=(B-(E?10:40))/1.414;if(H)return Math.min(Q,ne);if(f===0&&!H||ae.length===2){const re=(Q-20)/2;return Math.min(re,ne)}return Math.min(Q,ne)},[x,H,f,ae,E]),k=()=>{if(!o.current)return{maxX:0,maxY:0};const L=H||ae.length===1?W*h:(W*2.1+20)*h,B=W*1.414*h,$=x.width,Q=x.height,se=L-$,ye=B-Q,ne=se>0?se/2+VISUAL_PADDING:0,re=ye>0?ye/2+VISUAL_PADDING:0;return{maxX:ne,maxY:re}},C=L=>{ee(!0),he.current={x:L.clientX-fe.current.x,y:L.clientY-fe.current.y}},T=L=>{if(!q)return;L.preventDefault();let B=L.clientX-he.current.x,$=L.clientY-he.current.y;const{maxX:Q,maxY:se}=k(),ye=(ne,re)=>ne>re?re+(ne-re)/3:ne<-re?-re+(ne- -re)/3:ne;B=ye(B,Q),$=ye($,se),P({x:B,y:$})},w=()=>{ee(!1);const{maxX:L,maxY:B}=k(),$=Math.min(Math.max(fe.current.x,-L),L),Q=Math.min(Math.max(fe.current.y,-B),B);($!==fe.current.x||Q!==fe.current.y)&&P({x:$,y:Q})},j=L=>{H||(ve.current&&clearTimeout(ve.current),ve.current=setTimeout(()=>{const B=l(),$=L*B;($>v||$<v/2)&&p(Math.max($*1.2,B))},600))},z=reactExports.useCallback(L=>{if(!L.ctrlKey)return;L.preventDefault(),L.stopPropagation();const B=o.current;if(!B)return;const $=B.getBoundingClientRect(),Q=L.clientX-$.left,se=L.clientY-$.top,ye=-(L.deltaY*.002),ne=Math.min(Math.max(h+ye*h,.5),4),re=(Q-A.x-$.width/2)/h,ue=(se-A.y-$.height/2)/h,pe=Q-re*ne-$.width/2,ge=se-ue*ne-$.height/2;y(ne),P({x:pe,y:ge}),j(ne)},[h,A,v,H]);reactExports.useEffect(()=>{const L=o.current;if(L)return L.addEventListener("wheel",z,{passive:!1}),()=>L.removeEventListener("wheel",z)},[z]);const G=()=>{y(1),P({x:0,y:0});const L=H?Math.min(l(),1.5):l()*2;p(L)},U=async()=>{const L=o.current;if(L){if(E){try{document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen()}catch{}M(!1)}else{try{L.requestFullscreen?await L.requestFullscreen():L.webkitRequestFullscreen?await L.webkitRequestFullscreen():L.mozRequestFullScreen?await L.mozRequestFullScreen():L.msRequestFullscreen&&await L.msRequestFullscreen()}catch{console.log("Native fullscreen not supported, using CSS fallback")}M(!0)}setTimeout(G,150)}},b=reactExports.useMemo(()=>c?H?c-1:Math.ceil((c-1)/2):0,[c,H]),D=()=>{f<b&&(me(1),_(L=>L+1),G())},O=()=>{f>0&&(me(-1),_(L=>L-1),G())};return reactExports.useEffect(()=>{const L=B=>{V||(B.key==="ArrowRight"&&D(),B.key==="ArrowLeft"&&O())};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[f,c,V]),jsxRuntimeExports.jsxs("div",{ref:o,className:`flex flex-col bg-[#f0f0f0] overflow-hidden relative transition-all duration-500 font-sans pdf-container ${E?"fixed inset-0 z-[10000] h-screen w-screen":"w-full rounded-[20px] shadow-xl border border-white/50"}`,style:{height:E?"100vh":H?"65vh":"1000px",backgroundImage:"radial-gradient(circle at 50% 50%, #ffffff 0%, #e5e5e5 100%)",cursor:q?"grabbing":"grab"},onMouseDown:C,onMouseMove:T,onMouseUp:w,onMouseLeave:w,children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between z-20 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:`transition-opacity duration-300 ${R?"opacity-100":"opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:"bg-white/90 backdrop-blur border border-black/5 px-4 py-2 rounded-full shadow-sm pointer-events-auto flex items-center gap-3",children:[jsxRuntimeExports.jsx(BookOpen,{size:16,className:"text-neutral-700 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-xs sm:text-sm text-neutral-800 truncate max-w-[120px] sm:max-w-[300px]",title:s,children:s}),jsxRuntimeExports.jsx("div",{className:"w-px h-4 bg-neutral-300 shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-neutral-500 font-mono shrink-0",children:[ae.length>1?`${ae[0]}-${ae[1]}`:ae[0]||1," / ",c||"-"]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[jsxRuntimeExports.jsxs("div",{className:`flex gap-2 transition-all duration-300 ${R?"opacity-100":"opacity-0 pointer-events-none"}`,children:[jsxRuntimeExports.jsx(GlassButton,{onClick:()=>I(!0),children:jsxRuntimeExports.jsx(Grid3x3,{size:18})}),jsxRuntimeExports.jsx(GlassButton,{onClick:U,children:E?jsxRuntimeExports.jsx(Minimize,{size:18}):jsxRuntimeExports.jsx(Maximize,{size:18})})]}),jsxRuntimeExports.jsx(GlassButton,{onClick:()=>F(!R),className:R?"":"bg-white/80",children:R?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center w-full h-full",children:[c&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 z-30 transition-all ${f>0?"opacity-100":"opacity-0 pointer-events-none"}`,children:jsxRuntimeExports.jsx(GlassButton,{onClick:L=>{L.stopPropagation(),O()},className:"w-14 h-14 p-0 rounded-full hover:scale-110",children:jsxRuntimeExports.jsx(ChevronLeft,{size:32})})}),jsxRuntimeExports.jsx("div",{className:`absolute right-4 top-1/2 -translate-y-1/2 z-30 transition-all ${f<b?"opacity-100":"opacity-0 pointer-events-none"}`,children:jsxRuntimeExports.jsx(GlassButton,{onClick:L=>{L.stopPropagation(),D()},className:"w-14 h-14 p-0 rounded-full hover:scale-110",children:jsxRuntimeExports.jsx(ChevronRight,{size:32})})})]}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",initial:!1,children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:J===1?60:-60},animate:{opacity:1,x:A.x,y:A.y,scale:h},exit:{opacity:0,x:J===1?-60:60},transition:{x:q?{type:"tween",duration:0}:{type:"spring",stiffness:300,damping:30,mass:.8},y:q?{type:"tween",duration:0}:{type:"spring",stiffness:300,damping:30,mass:.8},scale:{duration:.2},opacity:{duration:.2}},className:"flex origin-center will-change-transform absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs(Document,{file:i,onLoadSuccess:({numPages:L})=>m(L),loading:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 p-10",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-neutral-300 border-t-black animate-spin"})}),className:"flex justify-center gap-2",children:[ae[0]&&jsxRuntimeExports.jsx(SmartPage,{pageNumber:ae[0],width:W,targetScale:v,direction:J},"slot-1"),!H&&ae[1]&&jsxRuntimeExports.jsx(SmartPage,{pageNumber:ae[1],width:W,targetScale:v,direction:J},"slot-2")]})},f)})]}),jsxRuntimeExports.jsx("div",{className:`absolute bottom-6 w-full flex justify-center pointer-events-none z-20 transition-opacity duration-300 ${R?"opacity-100":"opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-white/50 p-2 rounded-full shadow-lg flex items-center gap-4 pointer-events-auto",children:[jsxRuntimeExports.jsx(GlassButton,{onClick:O,disabled:f===0,children:jsxRuntimeExports.jsx(ChevronLeft,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-center px-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const L=Math.max(.5,h-.5);y(L),j(L)},className:"p-2 hover:bg-black/5 rounded-full",children:jsxRuntimeExports.jsx(ZoomOut,{size:16})}),jsxRuntimeExports.jsxs("span",{className:"w-12 text-center text-xs font-bold font-mono text-neutral-600",children:[Math.round(h*100),"%"]}),jsxRuntimeExports.jsx("button",{onClick:()=>{const L=Math.min(4,h+.5);y(L),j(L)},className:"p-2 hover:bg-black/5 rounded-full",children:jsxRuntimeExports.jsx(ZoomIn,{size:16})})]}),jsxRuntimeExports.jsx(GlassButton,{onClick:D,disabled:f===b,children:jsxRuntimeExports.jsx(ChevronRight,{size:20})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:V&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-[#f5f5f5]/95 backdrop-blur z-50 flex flex-col p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-light",children:"Pages Overview"}),jsxRuntimeExports.jsx("button",{onClick:()=>I(!1),className:"p-2 bg-white rounded-full hover:shadow-md transition-all",children:jsxRuntimeExports.jsx(X,{size:24})})]}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto flex-1 pb-10",children:jsxRuntimeExports.jsx(Document,{file:i,className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-6",children:Array.from(new Array(c),(L,B)=>jsxRuntimeExports.jsxs("div",{className:"cursor-pointer group relative",onClick:()=>{_(H?B:B===0?0:Math.ceil(B/2)),I(!1)},children:[jsxRuntimeExports.jsx("div",{className:"rounded-lg overflow-hidden shadow-sm group-hover:shadow-xl group-hover:scale-105 transition-all border border-black/5 bg-white",children:jsxRuntimeExports.jsx(Page,{pageNumber:B+1,width:200,renderMode:"canvas",renderTextLayer:!1,renderAnnotationLayer:!1})}),jsxRuntimeExports.jsx("div",{className:"text-center mt-2 text-xs font-mono text-neutral-500",children:B+1})]},`thumb-${B+1}`))})})]})})]})},GLOBAL_STYLES=`
.ios-safearea-overlay {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: env(safe-area-inset-bottom);
    background: #fff;
    z-index: 999999;
    pointer-events: none;
}
@font-face {
    font-family: 'Poppins';
    src: url('/fonts/Poppins-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
}
.font-poppins {
    font-family: 'Poppins', sans-serif;
}

/* Tailwind Base Reset */
*, ::before, ::after { box-sizing: border-box; border-width: 0; border-style: solid; border-color: #e5e7eb; }

/*   */
* {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
}

input, textarea {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

html { 
    line-height: 1.5; 
    -webkit-text-size-adjust: 100%; 
    tab-size: 4; 
    font-family: 'Funnel Display', sans-serif;
}
body { margin: 0; line-height: inherit; }

/* 1.     */
html {
  scrollbar-width: none;
  -ms-overflow-style: none;
  overflow-y: scroll;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
html::-webkit-scrollbar { 
    width: 0px;
    height: 0px;
    background: transparent;
    display: none;
}
body::-webkit-scrollbar {
    display: none;
}

html, body {
  font-family: 'Funnel Display', -apple-system, BlinkMacSystemFont, sans-serif !important;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/*   */
*, button, input, textarea, select, a {
  font-family: inherit !important;
}
motion, .motion, [data-motion] {
  font-family: inherit !important;
}

/*   */
body.scroll-locked {
    overflow: hidden !important;
    touch-action: none;
    width: 100%;
}

html.is-animating body { opacity: 0; }
html.is-visited body { opacity: 1; transition: opacity 0.5s ease; }

.masonry-item {
  will-change: transform, opacity;
  backface-visibility: hidden;
}

img {
    pointer-events: auto;
    -webkit-user-drag: none;
    user-drag: none;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
`,useScrollLock=i=>{reactExports.useLayoutEffect(()=>{if(!i)return;const n=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${n}px`,document.body.style.width="100%",document.body.classList.add("scroll-locked"),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.classList.remove("scroll-locked"),window.scrollTo(0,n)}},[i])},useContentProtection=()=>{reactExports.useEffect(()=>{const i=o=>(o.preventDefault(),!1),n=o=>(o.preventDefault(),!1),s=o=>{if(o.key==="F12"&&o.preventDefault(),o.ctrlKey||o.metaKey)switch(o.key.toLowerCase()){case"c":case"s":case"u":case"p":case"i":o.preventDefault(),o.stopPropagation();break}(o.ctrlKey||o.metaKey)&&o.shiftKey&&["i","j","c"].includes(o.key.toLowerCase())&&o.preventDefault()};return document.addEventListener("contextmenu",i),document.addEventListener("dragstart",n),document.addEventListener("keydown",s),()=>{document.removeEventListener("contextmenu",i),document.removeEventListener("dragstart",n),document.removeEventListener("keydown",s)}},[])},useIntroAnimation=()=>{reactExports.useEffect(()=>{sessionStorage.getItem("has_visited_site")?document.documentElement.classList.add("is-visited"):(document.documentElement.classList.add("is-animating"),setTimeout(()=>{document.documentElement.classList.add("is-visited"),document.documentElement.classList.remove("is-animating")},100),sessionStorage.setItem("has_visited_site","true"))},[])},useIsMobile=()=>{const[i,n]=reactExports.useState(!1);return reactExports.useEffect(()=>{const s=()=>n(window.innerWidth<=1024);return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i},easeOutCubic=i=>1-Math.pow(1-i,3),smoothScrollToTop=(i=900)=>{const n=window.scrollY,s=performance.now(),o=c=>{const m=c-s,f=Math.min(m/i,1),_=easeOutCubic(f);window.scrollTo(0,n*(1-_)),f<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},ScrollToTop=()=>{const[i,n]=reactExports.useState(!1);return reactExports.useEffect(()=>{const s=()=>n(window.scrollY>300);return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.button,{onClick:()=>smoothScrollToTop(800),initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},whileTap:{scale:.8},whileHover:{scale:1.1},transition:{type:"spring",stiffness:300,damping:20},className:`\r
            fixed bottom-10 right-10 z-[10005]\r
            w-[52px] h-[52px]\r
            rounded-full\r
            flex items-center justify-center\r
            backdrop-blur-[10px]\r
            bg-white/40\r
            border border-white/40\r
            shadow-lg\r
            hover:bg-white/60\r
          `,children:jsxRuntimeExports.jsx(ArrowUp,{size:24,className:"text-black/80"})})})},Path=i=>jsxRuntimeExports.jsx(motion.path,{fill:"transparent",strokeWidth:"3",stroke:"black",strokeLinecap:"round",...i}),MenuToggle=({toggle:i,isOpen:n})=>jsxRuntimeExports.jsx("button",{onClick:i,className:"outline-none border-none cursor-pointer bg-transparent p-2 z-[10002] relative flex items-center justify-center",children:jsxRuntimeExports.jsxs("svg",{width:"23",height:"23",viewBox:"0 0 23 23",children:[jsxRuntimeExports.jsx(Path,{variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}},animate:n?"open":"closed"}),jsxRuntimeExports.jsx(Path,{d:"M 2 9.423 L 20 9.423",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1},animate:n?"open":"closed"}),jsxRuntimeExports.jsx(Path,{variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}},animate:n?"open":"closed"})]})}),MobileMenuOverlay=({isOpen:i,onClose:n,navigate:s,currentPage:o})=>{useScrollLock(i);const c=[{label:"Work",href:"home"},{label:"Reel",href:"reel"},{label:"Play",href:"play"},{label:"About",href:"info"}],m={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3}}};return jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.nav,{initial:"hidden",animate:"visible",exit:"exit",variants:m,className:"fixed inset-0 top-0 left-0 w-full h-[100dvh] flex flex-col items-center justify-center z-[9999]",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",touchAction:"none"},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-6",children:c.map((f,_)=>{const x=o===f.href;return jsxRuntimeExports.jsx(motion.a,{onClick:()=>{n(),s(f.href)},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05+_*.05,duration:.2,ease:"easeOut"},className:`text-[30px] no-underline cursor-pointer leading-tight transition-colors duration-300 ${x?"text-black font-normal":"text-[#777] font-[250]"}`,style:{fontFamily:"'Funnel Display', sans-serif"},children:f.label},f.label)})})})})},ImageModalOverlay=({src:i,onClose:n})=>{const s=useIsMobile();useScrollLock(!!i&&s);const o=reactExports.useMemo(()=>i?.toLowerCase().endsWith(".mp4"),[i]);return jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 z-[10000] flex items-center justify-center",onClick:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},style:{backgroundColor:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},children:jsxRuntimeExports.jsx(motion.div,{className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",initial:{scale:.3,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.1,opacity:0},transition:{duration:.3,ease:"easeOut"},onClick:c=>c.stopPropagation(),children:o?jsxRuntimeExports.jsx("video",{src:i,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onClick:n,className:"max-w-full max-h-[85vh] object-contain rounded-xl shadow-2xl cursor-pointer hover:opacity-95 transition-opacity"}):jsxRuntimeExports.jsx("img",{src:i,alt:"Full size",className:"max-w-full max-h-[85vh] object-contain rounded-xl shadow-2xl cursor-pointer hover:opacity-95 transition-opacity",onClick:n})})})})},Header=({currentPage:i,navigate:n,isMenuOpen:s,onToggleMenu:o})=>{const[c,m]=reactExports.useState(!1);reactExports.useEffect(()=>{setTimeout(()=>m(!0),500)},[]);const f=x=>{s&&o(),n(x)},_=x=>`text-[22px] text-[#777] font-normal relative transition-colors duration-300 hover:text-black hover:-translate-y-1.5 inline-block transform transition-transform cursor-pointer 
    after:content-[''] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-black after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left
    ${i===x?"text-black":""}`;return jsxRuntimeExports.jsx("header",{className:`relative w-full pt-[40px] pb-[10px] bg-transparent z-[10001] transition-all duration-[1500ms] ease-[cubic-bezier(0.19,1,0.22,1)] ${c?"opacity-100 translate-y-0":"opacity-5 -translate-y-[120px]"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between max-w-[1440px] mx-auto px-5 lg:px-10 relative",children:[jsxRuntimeExports.jsx("div",{className:"block transition-transform duration-300 ease-in-out hover:-translate-y-1.5 z-[10002] relative",children:jsxRuntimeExports.jsx("a",{onClick:()=>f("home"),className:"cursor-pointer block",children:jsxRuntimeExports.jsx("img",{src:"img/logo.svg",alt:"Logo",className:"h-[75px] w-auto block",onError:x=>x.currentTarget.src=""})})}),jsxRuntimeExports.jsx("nav",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs("ul",{className:"flex gap-8 list-none m-0 p-0",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("home"),className:_("home"),children:"Work"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("reel"),className:_("reel"),children:"Reel"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("play"),className:_("play"),children:"Play"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{onClick:()=>f("info"),className:_("info"),children:"About"})})]})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden z-[10002]",children:jsxRuntimeExports.jsx(MenuToggle,{toggle:o,isOpen:s})})]})})},Footer=({forceVisible:i=!1})=>{const n=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end mb-[15px] gap-1 lg:gap-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-[25px]",children:[jsxRuntimeExports.jsx("a",{href:"https://www.behance.net/f1nal",target:"_blank",rel:"noreferrer",className:"text-[20px] text-black relative pb-0.5 transition-all duration-300 hover:-translate-y-1.5 inline-block",children:"Behance"}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/f1nal",target:"_blank",rel:"noreferrer",className:"text-[20px] text-black relative pb-0.5 transition-all duration-300 hover:-translate-y-1.5 inline-block",children:"LinkedIn"}),jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/f1nal0139",target:"_blank",rel:"noreferrer",className:"text-[20px] text-black relative pb-0.5 transition-all duration-300 hover:-translate-y-1.5 inline-block",children:"Instagram"})]}),jsxRuntimeExports.jsx("div",{className:"text-[20px] text-black hover:-translate-y-1.5 transition-transform duration-300",children:jsxRuntimeExports.jsx("a",{href:"mailto:shmarov.oleg@gmail.com",children:"shmarov.oleg@gmail.com"})})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-[1px] bg-black/15 mb-[15px]"}),jsxRuntimeExports.jsx("div",{className:"flex justify-between",children:jsxRuntimeExports.jsx("div",{className:"text-[20px] text-black opacity-50",children:"2025 | Oleg Shmarov"})})]}),s="pt-10 pb-0 overflow-hidden relative";return i?jsxRuntimeExports.jsx("div",{className:s,children:n}):jsxRuntimeExports.jsx(motion.footer,{className:s,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:jsxRuntimeExports.jsx(motion.div,{variants:{hidden:{y:"100%"},visible:{y:"0%",transition:{duration:1,ease:[.22,1,.36,1]}}},children:n})})},VideoPlayer=({src:i,poster:n})=>{const s=reactExports.useRef(null),o=reactExports.useRef(null),[c,m]=reactExports.useState(!1),[f,_]=reactExports.useState(!0),[x,d]=reactExports.useState(0),[l,h]=reactExports.useState(!1);let y=null;const v=()=>{s.current&&(s.current.paused?(s.current.play(),m(!0),clearTimeout(y),y=setTimeout(()=>h(!0),200)):(s.current.pause(),m(!1),h(!1),clearTimeout(y)))},p=I=>{I.stopPropagation(),s.current&&(s.current.muted=!s.current.muted,_(s.current.muted))},A=I=>{I?.stopPropagation(),s.current&&(s.current.webkitEnterFullscreen?s.current.webkitEnterFullscreen():o.current&&(document.fullscreenElement?document.exitFullscreen?.():o.current.requestFullscreen?.()))},P=()=>{s.current&&d(s.current.currentTime/s.current.duration*100||0)},E=I=>{if(I.stopPropagation(),!s.current)return;const R=I.currentTarget.getBoundingClientRect();s.current.currentTime=(I.clientX-R.left)/R.width*s.current.duration},M=()=>{h(!1),c&&(clearTimeout(y),y=setTimeout(()=>h(!0),3e3))},V=reactExports.useMemo(()=>[...Array(12)].map((I,R)=>({id:R,x:(Math.random()-.5)*250,y:(Math.random()-.5)*250,duration:2+Math.random()*1.5,delay:Math.random()*2})),[]);return jsxRuntimeExports.jsxs("div",{className:`group relative w-full aspect-video bg-black rounded-[18px] overflow-hidden shadow-lg cursor-default ${l?"cursor-none":""}`,ref:o,onMouseMove:M,onClick:M,onDoubleClick:()=>A(),children:[jsxRuntimeExports.jsx("video",{ref:s,className:`w-full h-full object-cover block transition-all duration-1000 ${c?"opacity-100 blur-0":"opacity-30 blur-[10px]"}`,playsInline:!0,muted:f,poster:n,onClick:v,onTimeUpdate:P,children:jsxRuntimeExports.jsx("source",{src:i,type:"video/mp4"})}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 flex justify-center items-center bg-black/5 transition-all duration-300 z-10 ${c?"opacity-0 invisible":"opacity-100 visible"}`,onClick:v,children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[V.map(I=>jsxRuntimeExports.jsx(motion.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-0",animate:{x:[0,I.x],y:[0,I.y],opacity:[0,.6,0],scale:[.5,0]},transition:{duration:I.duration,repeat:1/0,delay:I.delay,ease:"easeOut"}},I.id)),[...Array(3)].map((I,R)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute rounded-full border border-white/20",initial:{width:100,height:100,opacity:0},animate:{width:200,height:200,opacity:0},transition:{duration:2,repeat:1/0,delay:R*.6,ease:"easeOut",times:[0,1]},style:{opacity:[.8,0]}},`ring-${R}`))]}),jsxRuntimeExports.jsx("button",{className:"w-[100px] h-[100px] lg:w-[130px] lg:h-[130px] bg-white rounded-full flex items-center justify-center border-none cursor-pointer transition-transform duration-500 hover:scale-105 shadow-[0_0_50px_rgba(255,255,255,0.3)] relative z-20",children:jsxRuntimeExports.jsx("div",{className:"pl-1.5",children:jsxRuntimeExports.jsx(Play,{fill:"black",stroke:"none",size:42})})})]})}),jsxRuntimeExports.jsxs("div",{className:`absolute bottom-0 left-0 w-full px-5 py-4 lg:px-8 lg:py-5 bg-gradient-to-t from-black/90 to-transparent transition-opacity duration-300 flex items-center gap-5 z-20 ${l?"opacity-0":"opacity-100"}`,onClick:I=>I.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"flex-grow h-5 flex items-center cursor-pointer group/seek",onMouseDown:E,children:jsxRuntimeExports.jsx("div",{className:"w-full h-1 bg-white/30 rounded-sm relative transition-all group-hover/seek:h-1.5",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-white rounded-sm relative",style:{width:`${x}%`},children:jsxRuntimeExports.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full scale-0 transition-transform group-hover/seek:scale-100"})})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-white",children:[jsxRuntimeExports.jsx("button",{className:"opacity-80 hover:opacity-100 hover:scale-110 transition-all",onClick:p,children:f?jsxRuntimeExports.jsx(VolumeX,{size:24}):jsxRuntimeExports.jsx(Volume2,{size:24})}),jsxRuntimeExports.jsx("button",{className:"opacity-80 hover:opacity-100 hover:scale-110 transition-all",onClick:I=>A(I),children:jsxRuntimeExports.jsx(Maximize,{size:24})})]})]})]})},ProjectCard=({project:i,navigate:n})=>{const s=reactExports.useRef(null),o=reactExports.useRef(null),[c,m]=reactExports.useState(!1),f=useIsMobile();reactExports.useEffect(()=>{if(!f||!s.current||!o.current)return;const l=new IntersectionObserver(h=>{h.forEach(y=>{y.isIntersecting?(s.current?.play().catch(()=>{}),m(!0)):(s.current?.pause(),m(!1))})},{threshold:.6});return l.observe(o.current),()=>l.disconnect()},[f]);const _=()=>{if(!f&&(m(!0),s.current)){s.current.currentTime=0;const l=s.current.play();l!==void 0&&l.catch(()=>{})}},x=()=>{f||(m(!1),s.current&&(s.current.pause(),s.current.currentTime=0))},d=l=>{i.isExternal||(l.preventDefault(),n(i.link))};return jsxRuntimeExports.jsx("a",{href:i.isExternal?i.link:void 0,onClick:d,className:"block w-full h-full",children:jsxRuntimeExports.jsxs("div",{ref:o,className:"relative w-full rounded-[18px] overflow-hidden bg-black cursor-pointer group shadow-lg transform-gpu",style:{minHeight:"380px"},onMouseEnter:_,onMouseLeave:x,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0",children:jsxRuntimeExports.jsx("img",{src:i.img,alt:"",className:"w-full h-full object-cover block opacity-100",loading:"lazy"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-10 transition-opacity duration-500 ease-in-out",style:{opacity:c?1:0},children:jsxRuntimeExports.jsx("video",{ref:s,playsInline:!0,loop:!0,muted:!0,preload:"auto",className:"w-full h-full object-cover block",children:jsxRuntimeExports.jsx("source",{src:i.video,type:"video/mp4"})})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-20 transition-opacity duration-200 ease-in-out",style:{opacity:c?0:1},children:jsxRuntimeExports.jsx("img",{src:i.img,alt:i.title,className:"w-full h-full object-cover block",loading:"lazy",onError:l=>l.currentTarget.style.display="none"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-[25] bg-black/30 transition-opacity duration-500 pointer-events-none lg:opacity-0 lg:group-hover:opacity-100"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 p-8 z-30 text-white pointer-events-none transition-opacity duration-500 lg:opacity-0 lg:group-hover:opacity-100",children:[jsxRuntimeExports.jsx("h3",{className:"text-[32px] lg:text-[32px] font-bold leading-none mb-1 drop-shadow-md",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-[20px] opacity-70 font-normal drop-shadow-md",children:i.category})]})]})})},WorkPage=({navigate:i})=>{const n=reactExports.useRef(null),s=[{id:1,title:"Elf Bar",category:"Personal",video:"vid/elf_preview.mp4",img:"img/preview1.png",link:"elfbar"},{id:2,title:"Football Dynamics",category:"Personal",video:"https://vpolitov.com/wp-content/uploads/2025/02/FD_thumbnail_01.mp4",img:"https://vpolitov.com/wp-content/uploads/2025/01/fd_thumbnail_01.png",link:"football-dynamics"},{id:3,title:"Puma Running AW24",category:"Inertia Studios",video:"https://vpolitov.com/wp-content/uploads/2025/02/Puma_thumbnail_01.mp4",img:"https://vpolitov.com/wp-content/uploads/2025/01/magmax_thumbnail.png",link:"puma-magmax"},{id:4,title:"SBER Creative Frame",category:"Combine",video:"https://vpolitov.com/wp-content/uploads/2025/03/SBER_CF_1-2.mp4",img:"https://vpolitov.com/wp-content/uploads/2025/03/SB_thumbnail_03.png",link:"sber-creative-frame"}],[o,c]=reactExports.useState(s);reactExports.useEffect(()=>{let f=!0;const _=async d=>{const l=`project_${d}.html`;try{const h=await fetch(l);if(h.ok){const y=await h.text(),p=new DOMParser().parseFromString(y,"text/html"),A=p.querySelector('meta[name="category"]');if(!A)return null;const P=p.title||`Project ${d}`,E=A.getAttribute("content")||"Work";return{id:`auto-${d}`,title:P,category:E,img:`img/project_${d}.jpg`,video:`vid/project_${d}.mp4`,link:l,isExternal:!0}}}catch{}return null};return(async()=>{for(let l=5;l<=15&&f;l++){const h=await _(l);if(h)c(y=>y.some(v=>v.id===h.id)?y:[...y,h]),await new Promise(y=>setTimeout(y,200));else break}})(),()=>{f=!1}},[]);const m=reactExports.useCallback(()=>{window.requestAnimationFrame(()=>{if(!n.current)return;const f=window.innerWidth>1024,_=Array.from(n.current.children);let x=0,d=0;const l=22,h=(n.current.offsetWidth-l)/2;_.forEach(y=>{f?(y.style.width=`${h}px`,y.style.position="absolute",x<=d?(y.style.left="0px",y.style.top=`${x}px`,x+=y.offsetHeight+l):(y.style.left=`${h+l}px`,y.style.top=`${d}px`,d+=y.offsetHeight+l)):(y.style.position="relative",y.style.top="auto",y.style.left="auto",y.style.width="100%")}),f?n.current.style.height=`${Math.max(x,d)}px`:n.current.style.height="auto"})},[]);return reactExports.useLayoutEffect(()=>{m(),window.addEventListener("resize",m);const f=document.querySelectorAll(".masonry-item img");if(f.length===0)m();else{let _=0;const x=()=>{_++,_>=f.length&&m()};f.forEach(d=>{d.complete?x():(d.addEventListener("load",x),d.addEventListener("error",x))})}return()=>window.removeEventListener("resize",m)},[o,m]),jsxRuntimeExports.jsxs("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:[jsxRuntimeExports.jsx("div",{className:"relative w-full mb-[60px]",ref:n,children:jsxRuntimeExports.jsx(AnimatePresence,{children:o.map((f,_)=>jsxRuntimeExports.jsx(motion.div,{className:"masonry-item lg:absolute w-full lg:w-[calc(50%-11px)] mb-6 lg:mb-0",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.2+_*.15},whileHover:{scale:1.02,transition:{duration:.4}},children:jsxRuntimeExports.jsx(ProjectCard,{project:f,navigate:i})},f.id))})}),jsxRuntimeExports.jsx(Footer,{})]})},FilterButton=({active:i,onClick:n,label:s,icon:o})=>jsxRuntimeExports.jsxs(motion.button,{onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`
                relative flex items-center 
                gap-1.5 lg:gap-2               
                px-3 py-1.5 lg:px-4 lg:py-2    
                rounded-full 
                transition-all duration-300 backdrop-blur-md shadow-lg
                border
                ${i?"bg-black/100 border-white/50 text-white shadow-[(0,1,0,1.1)]":"bg-black/2 border-black/1 text-neutral-500 hover:bg-white/50 hover:shadow-[0_4px_20px_rgba(0,0,0,0.1)]"}
            `,children:[jsxRuntimeExports.jsx(o,{className:"w-[14px] h-[14px] lg:w-[18px] lg:h-[18px]",strokeWidth:2}),jsxRuntimeExports.jsx("span",{className:"font-medium text-xs lg:text-sm leading-none pt-[1px]",children:s})]}),PlayPage=({onOpenImage:i})=>{const[n,s]=reactExports.useState([]),[o,c]=reactExports.useState([]),m=useIsMobile();reactExports.useEffect(()=>{let d=!0;const l=v=>new Promise(p=>{const A=new Image;A.onload=()=>p(!0),A.onerror=()=>p(!1),A.src=v}),h=async v=>{try{const p=await fetch(v,{method:"HEAD"});if(!p.ok)return!1;const A=p.headers.get("content-type");return A?A.toLowerCase().startsWith("video"):!1}catch{return!1}};return(async()=>{const p=[],A=[],P=[{prefix:"imgs/Artwork/img_",ext:"jpg",type:"image",cat:"artwork"},{prefix:"anim/Artwork/anim_",ext:"mp4",type:"video",cat:"artwork"},{prefix:"anim/Artwork/anim_",ext:"png",type:"image",cat:"artwork"},{prefix:"imgs/Gambling/img_",ext:"jpg",type:"image",cat:"gambling"},{prefix:"anim/Gambling/anim_",ext:"mp4",type:"video",cat:"gambling"},{prefix:"imgs/Experimental/img_",ext:"jpg",type:"image",cat:"experimental"},{prefix:"anim/Experimental/anim_",ext:"mp4",type:"video",cat:"experimental"},{prefix:"anim/Experimental/anim_",ext:"png",type:"image",cat:"experimental"}];for(const E of P)for(let M=1;M<=15;M++){const V=`${E.prefix}${M}.${E.ext}`,I=E.type==="video"?h:l;p.push(I(V).then(R=>{R&&d&&A.push({id:`${E.cat}-${E.type}-${M}-${E.ext}`,src:V,type:E.type,category:E.cat})}))}if(await Promise.all(p),d){const E=Array.from(new Map(A.map(M=>[M.src,M])).values());E.sort((M,V)=>{const I=R=>parseInt(R.match(/\d+/)?.[0]||"0");return I(M.src)-I(V.src)}),s(E)}})(),()=>{d=!1}},[]);const f=d=>{s(l=>l.filter(h=>h.id!==d))},_=d=>{c(l=>l.includes(d)?l.filter(h=>h!==d):[...l,d])},x=reactExports.useMemo(()=>o.length===0?n:n.filter(d=>o.includes(d.category)),[n,o]);return jsxRuntimeExports.jsxs("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:[jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end mb-[30px] gap-4 lg:gap-6",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.3},children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-[36px] lg:text-[48px] font-semibold leading-[1.1] mb-2.5",children:"Playground"}),jsxRuntimeExports.jsx("div",{className:"text-[16px] text-[#888] mt-2.5",children:"Experiments & Styleframes"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5 lg:gap-3 w-full lg:w-auto",children:[jsxRuntimeExports.jsx(FilterButton,{label:"Artwork",icon:Brush,active:o.includes("artwork"),onClick:()=>_("artwork")}),jsxRuntimeExports.jsx(FilterButton,{label:"Gambling",icon:Dices,active:o.includes("gambling"),onClick:()=>_("gambling")}),jsxRuntimeExports.jsx(FilterButton,{label:"Experimental",icon:FlaskConical,active:o.includes("experimental"),onClick:()=>_("experimental")})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-[20px] mb-[80px] min-h-[80vh]",children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:x.map((d,l)=>jsxRuntimeExports.jsx(motion.div,{layout:!0,className:`relative rounded-[18px] overflow-hidden bg-black h-full group ${m?"":"cursor-pointer"}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},whileHover:m?{}:{scale:1.03},onClick:()=>{m||i(d.src)},children:d.type==="video"?jsxRuntimeExports.jsx("video",{src:d.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full block object-cover pointer-events-none",onError:()=>f(d.id)}):jsxRuntimeExports.jsx("img",{src:d.src,alt:`Experiment ${l}`,className:"w-full h-full block object-cover",onError:()=>f(d.id)})},d.id))}),x.length===0&&jsxRuntimeExports.jsx("div",{className:"col-span-full flex justify-center items-center h-[200px] text-neutral-400",children:"No items found for this filter."})]}),jsxRuntimeExports.jsx(Footer,{})]})},ReelPage=()=>jsxRuntimeExports.jsxs(motion.div,{className:"w-full",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[jsxRuntimeExports.jsx("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between items-end mb-[30px] gap-10",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-[300px]",children:[jsxRuntimeExports.jsx("h1",{className:"text-[36px] lg:text-[48px] font-semibold leading-[1.1] mb-2.5",children:"Showreel"}),jsxRuntimeExports.jsx("div",{className:"text-[16px] text-[#888] mt-2.5",children:"Selected Works"})]})})}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-[1440px] mx-auto px-5 lg:px-10 mb-[80px]",children:jsxRuntimeExports.jsx(VideoPlayer,{src:"https://video.f1nal.me/showreel2022.mp4",poster:"img/preview1.png"})}),jsxRuntimeExports.jsx("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:jsxRuntimeExports.jsx(Footer,{forceVisible:!0})})]}),AboutPage=()=>{const i={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return jsxRuntimeExports.jsxs(motion.div,{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.3},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-[50px] mb-[40px]",children:[jsxRuntimeExports.jsx("div",{className:"flex-none w-full lg:w-[40%] max-w-[500px]",children:jsxRuntimeExports.jsx("img",{src:"img/me.png",alt:"Oleg Shmarov",className:"w-full h-auto rounded-[18px] grayscale hover:grayscale-0 transition-all duration-500",onError:n=>n.currentTarget.src="img/me.png"})}),jsxRuntimeExports.jsx("div",{className:"flex-0 pt-0",children:jsxRuntimeExports.jsxs("div",{className:"text-[18px] lg:text-[18px] leading-[1.5]",children:[jsxRuntimeExports.jsx(motion.p,{className:"mb-3",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:"Hi! My name is Oleg Shmarov. I am a 3D artist and motion designer with a deep interest in animation and visual development."}),jsxRuntimeExports.jsx(motion.p,{className:"mb-3",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:"My career began in the television industry, where I worked with large companies performing a wide range of tasks that gave me valuable experience and versatile skills."}),jsxRuntimeExports.jsx(motion.p,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:"Now I work on freelance projects and cooperate with leading studios to create projects of various sizes and complexities."})]})})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-[1px] bg-black/15 my-[40px]"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-[50px] mb-[40px]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(motion.div,{className:"mb-10",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"Software"}),jsxRuntimeExports.jsx("p",{className:"text-[18px] leading-relaxed text-[#222]",children:"Cinema 4D, Redshift, Adobe Creative Suite"})]}),jsxRuntimeExports.jsxs(motion.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:[jsxRuntimeExports.jsxs("div",{className:"mb-10",children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"Awards"}),jsxRuntimeExports.jsxs("ul",{className:"list-none p-0 space-y-1",children:[jsxRuntimeExports.jsx("li",{className:"text-[18px] text-[#222]",children:"Promax Awards 2021 - Best internal marketing - Gold // TNT Design Showreel"}),jsxRuntimeExports.jsx("li",{className:"text-[18px] text-[#222]",children:"World Brand Design Awards 2023 / UK - Bronze // Gravix glue"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"Social Media"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-5",children:[jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/f1nal0139",className:"text-[18px] hover:opacity-60 transition-opacity",children:"Instagram"}),jsxRuntimeExports.jsx("a",{href:"https://www.behance.net/f1nal",className:"text-[18px] hover:opacity-60 transition-opacity",children:"Behance"}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/f1nal",className:"text-[18px] hover:opacity-60 transition-opacity",children:"LinkedIn"})]})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{className:"mb-10",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:i,children:[jsxRuntimeExports.jsx("h3",{className:"text-[18px] font-bold underline mb-1",children:"For work inquiries, please contact at:"}),jsxRuntimeExports.jsx("p",{className:"text-[18px]",children:jsxRuntimeExports.jsx("a",{href:"mailto:shmarov.oleg@gmail.com",className:"hover:opacity-60 transition-opacity",children:"shmarov.oleg@gmail.com"})})]})]}),jsxRuntimeExports.jsx(Footer,{})]})},ProjectPage=({title:i,meta:n,desc:s,video:o,gallery:c,credits:m,prev:f,next:_,navigate:x,children:d})=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-[30px] gap-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-[300px]",children:[jsxRuntimeExports.jsx("h1",{className:"text-[36px] lg:text-[48px] font-semibold leading-[1.1] mb-2.5 text-black",children:i}),jsxRuntimeExports.jsx("div",{className:"text-[16px] text-[#888] mt-2.5",children:n})]}),jsxRuntimeExports.jsx("div",{className:"flex-none w-full lg:w-[45%] min-w-[300px]",children:jsxRuntimeExports.jsx("p",{className:"text-[16px] leading-[1.6] text-black",dangerouslySetInnerHTML:{__html:s}})})]})}),o&&jsxRuntimeExports.jsx("div",{className:"w-full max-w-[1440px] mx-auto px-5 lg:px-10 mb-[100px]",children:jsxRuntimeExports.jsx(VideoPlayer,{src:o.src,poster:o.poster})}),jsxRuntimeExports.jsxs("div",{className:"max-w-[1440px] mx-auto px-5 lg:px-10 w-full",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-[18px] mb-[100px]",children:c.map((l,h)=>jsxRuntimeExports.jsx("div",{className:`relative overflow-hidden rounded-[18px] ${l.full?"col-span-1 lg:col-span-2":""}`,children:l.video?jsxRuntimeExports.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto block rounded-[18px]",children:jsxRuntimeExports.jsx("source",{src:l.video,type:"video/mp4"})}):jsxRuntimeExports.jsx("img",{src:l.img,alt:"Gallery",className:"w-full h-auto block rounded-[18px]"})},h))}),d&&jsxRuntimeExports.jsx("div",{className:"w-full mb-[100px] flex justify-center",children:d}),jsxRuntimeExports.jsx("div",{className:"text-[20px] text-[#555] leading-[1.8] mb-[80px] max-w-[700px]",children:m.map((l,h)=>jsxRuntimeExports.jsx("p",{dangerouslySetInnerHTML:{__html:l}},h))}),jsxRuntimeExports.jsxs("div",{className:"pt-10 mb-40 flex justify-between text-[16px] sm:text-[18px] lg:text-[30px] font-medium",children:[jsxRuntimeExports.jsxs("a",{onClick:()=>x(f.link),className:"flex items-center gap-2.5 opacity-100 hover:opacity-60 hover:-translate-y-0.5 transition-all cursor-pointer",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:22})," ",f.label]}),jsxRuntimeExports.jsxs("a",{onClick:()=>x(_.link),className:"flex items-center gap-2.5 opacity-100 hover:opacity-60 hover:-translate-y-0.5 transition-all cursor-pointer",children:[_.label," ",jsxRuntimeExports.jsx(ArrowRight,{size:22})]})]}),jsxRuntimeExports.jsx(Footer,{})]})]}),ElfBar=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"Elf Bar Promotion",meta:"Presonal / 2022",desc:"A promotional video for Elf Bar, showcasing the sleek design and vibrant flavors of their disposable vapes. The project involved 3D modeling, texturing, and fluid simulations to visualize the smooth airflow and rich taste profile.",video:{src:"https://video.f1nal.me/elfbar.mp4",poster:"img/preview1.png"},gallery:[{img:"https://placehold.co/700x700/111/FFF?text=Elf+Bar+Flavor+1"},{img:"https://placehold.co/700x700/222/FFF?text=Elf+Bar+Flavor+2"},{img:"https://placehold.co/1400x788/333/FFF?text=Wide+Shot+Render",full:!0}],credits:["<strong>Client:</strong> Elf Bar","<strong>Role:</strong> 3D Motion Design, Art Direction","<strong>Tools:</strong> Cinema 4d, Redshift, Adobe"],prev:{label:"SBER Creative Frame",link:"sber-creative-frame"},next:{label:"Football Dynamics",link:"football-dynamics"},children:jsxRuntimeExports.jsx(PDFViewer,{pdfUrl:"./LKT_WERKE_RU.pdf"})}),FootballDynamics=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"Football Dynamics",meta:"Personal Project / 2025",desc:"An exploration of motion and energy within the context of sports. This project focuses on the raw dynamics of football, capturing the intensity of the game through advanced simulation and rendering techniques.",gallery:[{video:"https://vpolitov.com/wp-content/uploads/2025/02/FD_thumbnail_01.mp4",full:!0},{img:"https://vpolitov.com/wp-content/uploads/2025/01/fd_thumbnail_01.png"},{img:"https://placehold.co/700x700/EEE/31343C?text=Simulation+Detail"},{img:"https://placehold.co/1400x788/EEE/31343C?text=Dynamics+Wide+Shot",full:!0}],credits:["<strong>Design & Animation:</strong> Oleg Shmarov","<strong>Tools:</strong> Houdini, Redshift, Nuke, Marvelous Designer"],prev:{label:"ELF BAR",link:"elfbar"},next:{label:"Puma Running AW24",link:"puma-magmax"}}),Puma=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"Puma Running AW24",meta:"Studio: Inertia Studios / 2024",desc:"Highlighting the technology behind Puma's new MagMax series. A dynamic campaign emphasizing cushion, return, and speed through abstract material simulations and high-impact visuals.",gallery:[{video:"https://vpolitov.com/wp-content/uploads/2025/02/Puma_thumbnail_01.mp4",full:!0},{img:"https://vpolitov.com/wp-content/uploads/2025/01/magmax_thumbnail.png"},{img:"https://placehold.co/700x700/EEE/31343C?text=Shoe+Detail"},{img:"https://placehold.co/1400x788/EEE/31343C?text=Campaign+Wide+View",full:!0}],credits:["<strong>Studio:</strong> Inertia Studios","<strong>Role:</strong> 3D Motion Designer","<strong>Client:</strong> Puma"],prev:{label:"Football Dynamics",link:"football-dynamics"},next:{label:"SBER Creative Frame",link:"sber-creative-frame"}}),Sber=({navigate:i})=>jsxRuntimeExports.jsx(ProjectPage,{navigate:i,title:"SBER Creative Frame",meta:"Combine",desc:"In 2020, Sber completely changed its positioning, removing the 'bank' label and transforming into a full-fledged ecosystem of services. The new brand united technology, convenience, and user care  embedding these values into its design.<br/><br/>After a few years, the design system required further fine-tuning. This led to the development of a new creative framework  a visual language focused on 3D, designed to strengthen relationships with users and refresh Sber's visual communication.<br/><br/>Together with Combine studio, I have developed many unique images that helped Sber to change its visual style.",gallery:[{video:"https://vpolitov.com/wp-content/uploads/2025/03/SBER_CF_1-2.mp4",full:!0},{img:"https://vpolitov.com/wp-content/uploads/2025/03/SB_thumbnail_03.png"},{img:"https://vpolitov.com/wp-content/uploads/2025/02/sh_002_v01-0-00-01-08_1.jpg"},{img:"https://placehold.co/1400x788/EEE/31343C?text=Wide+Shot+Render",full:!0},{img:"https://placehold.co/700x700/EEE/31343C?text=Process+Detail"},{img:"https://placehold.co/700x700/EEE/31343C?text=Texture+Detail"}],credits:["<strong>Art Direction & Design:</strong> Oleg Shmarov","<strong>Music & Sound Design:</strong> Blink Audio","<strong>Tools:</strong> Houdini, Redshift, Nuke"],prev:{label:"Puma Running AW24",link:"puma-magmax"},next:{label:"ELF BAR",link:"elfbar"}});function App(){const[i,n]=reactExports.useState("home"),[s,o]=reactExports.useState(!1),[c,m]=reactExports.useState(null);useContentProtection(),reactExports.useEffect(()=>{document.title="F1NAL EDITING - OLEG SHMAROV - 3D ARTIST";const x=document.querySelector("link[rel~='icon']")||document.createElement("link");x.type="image/webp",x.rel="icon",x.href="img/favicon.webp",document.getElementsByTagName("head")[0].appendChild(x)},[]);const f=()=>{switch(i){case"home":return jsxRuntimeExports.jsx(WorkPage,{navigate:n});case"reel":return jsxRuntimeExports.jsx(ReelPage,{});case"play":return jsxRuntimeExports.jsx(PlayPage,{onOpenImage:m});case"info":return jsxRuntimeExports.jsx(AboutPage,{});case"elfbar":return jsxRuntimeExports.jsx(ElfBar,{navigate:n});case"football-dynamics":return jsxRuntimeExports.jsx(FootballDynamics,{navigate:n});case"puma-magmax":return jsxRuntimeExports.jsx(Puma,{navigate:n});case"sber-creative-frame":return jsxRuntimeExports.jsx(Sber,{navigate:n});default:return jsxRuntimeExports.jsx(WorkPage,{navigate:n})}};reactExports.useEffect(()=>{smoothScrollToTop(1200)},[i]),useIntroAnimation();const _=s||!!c;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:GLOBAL_STYLES}}),jsxRuntimeExports.jsx(MobileMenuOverlay,{isOpen:s,onClose:()=>o(!1),navigate:n,currentPage:i}),jsxRuntimeExports.jsx(ImageModalOverlay,{src:c,onClose:()=>m(null)}),jsxRuntimeExports.jsx("div",{className:"ios-safearea-overlay"}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-transparent",children:[jsxRuntimeExports.jsx("div",{className:"relative z-[10005]",children:jsxRuntimeExports.jsx(Header,{currentPage:i,navigate:n,isMenuOpen:s,onToggleMenu:()=>o(!s)})}),jsxRuntimeExports.jsx("div",{id:"content-holder",className:"flex-grow pt-[40px] relative flex flex-col",style:{filter:_?"blur(4px)":"none",backgroundColor:_?"rgba(255, 255, 255, 1)":"transparent",transition:"filter 0.3s ease, background-color 0.3s ease",pointerEvents:_?"none":"auto"},children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full flex-grow",children:f()},i)})}),jsxRuntimeExports.jsx(ScrollToTop,{})]})]})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
